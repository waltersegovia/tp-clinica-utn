"use strict";(self.webpackChunkclinicaOnline=self.webpackChunkclinicaOnline||[]).push([[179],{9058:(Xn,Lt,ne)=>{ne.d(Lt,{BH:()=>Ct,G6:()=>De,L:()=>vt,LL:()=>pe,P0:()=>nn,Pz:()=>ut,Sg:()=>Ot,ZR:()=>ve,aH:()=>We,b$:()=>tt,eu:()=>It,hl:()=>ft,m9:()=>Ni,ne:()=>Ei,pd:()=>ar,q4:()=>er,ru:()=>kn,tV:()=>Ve,uI:()=>zt,vZ:()=>tr,w1:()=>Pn,xO:()=>fr,xb:()=>An,z$:()=>Yt,zd:()=>vr});const O=function(ye){const ce=[];let ae=0;for(let Ee=0;Ee<ye.length;Ee++){let Se=ye.charCodeAt(Ee);Se<128?ce[ae++]=Se:Se<2048?(ce[ae++]=Se>>6|192,ce[ae++]=63&Se|128):55296==(64512&Se)&&Ee+1<ye.length&&56320==(64512&ye.charCodeAt(Ee+1))?(Se=65536+((1023&Se)<<10)+(1023&ye.charCodeAt(++Ee)),ce[ae++]=Se>>18|240,ce[ae++]=Se>>12&63|128,ce[ae++]=Se>>6&63|128,ce[ae++]=63&Se|128):(ce[ae++]=Se>>12|224,ce[ae++]=Se>>6&63|128,ce[ae++]=63&Se|128)}return ce},Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,ce){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let Se=0;Se<ye.length;Se+=3){const Nt=ye[Se],tn=Se+1<ye.length,Dn=tn?ye[Se+1]:0,pr=Se+2<ye.length,sr=pr?ye[Se+2]:0;let lt=(15&Dn)<<2|sr>>6,ze=63&sr;pr||(ze=64,tn||(lt=64)),Ee.push(ae[Nt>>2],ae[(3&Nt)<<4|Dn>>4],ae[lt],ae[ze])}return Ee.join("")},encodeString(ye,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(ye):this.encodeByteArray(O(ye),ce)},decodeString(ye,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(ye):function(ye){const ce=[];let ae=0,Ee=0;for(;ae<ye.length;){const Se=ye[ae++];if(Se<128)ce[Ee++]=String.fromCharCode(Se);else if(Se>191&&Se<224){const Nt=ye[ae++];ce[Ee++]=String.fromCharCode((31&Se)<<6|63&Nt)}else if(Se>239&&Se<365){const pr=((7&Se)<<18|(63&ye[ae++])<<12|(63&ye[ae++])<<6|63&ye[ae++])-65536;ce[Ee++]=String.fromCharCode(55296+(pr>>10)),ce[Ee++]=String.fromCharCode(56320+(1023&pr))}else{const Nt=ye[ae++],tn=ye[ae++];ce[Ee++]=String.fromCharCode((15&Se)<<12|(63&Nt)<<6|63&tn)}}return ce.join("")}(this.decodeStringToByteArray(ye,ce))},decodeStringToByteArray(ye,ce){this.init_();const ae=ce?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let Se=0;Se<ye.length;){const Nt=ae[ye.charAt(Se++)],Dn=Se<ye.length?ae[ye.charAt(Se)]:0;++Se;const sr=Se<ye.length?ae[ye.charAt(Se)]:64;++Se;const Mr=Se<ye.length?ae[ye.charAt(Se)]:64;if(++Se,null==Nt||null==Dn||null==sr||null==Mr)throw new Le;Ee.push(Nt<<2|Dn>>4),64!==sr&&(Ee.push(Dn<<4&240|sr>>2),64!==Mr&&Ee.push(sr<<6&192|Mr))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vt=function(ye){return function(ye){const ce=O(ye);return Ze.encodeByteArray(ce,!0)}(ye).replace(/\./g,"")},Ve=function(ye){try{return Ze.decodeString(ye,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null},wn=()=>{try{return function At(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=ye&&Ve(ye[1]);return ce&&JSON.parse(ce)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},er=ye=>{var ce,ae;return null===(ae=null===(ce=wn())||void 0===ce?void 0:ce.emulatorHosts)||void 0===ae?void 0:ae[ye]},nn=ye=>{const ce=er(ye);if(!ce)return;const ae=ce.lastIndexOf(":");if(ae<=0||ae+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const Ee=parseInt(ce.substring(ae+1),10);return"["===ce[0]?[ce.substring(1,ae-1),Ee]:[ce.substring(0,ae),Ee]},We=()=>{var ye;return null===(ye=wn())||void 0===ye?void 0:ye.config},ut=ye=>{var ce;return null===(ce=wn())||void 0===ce?void 0:ce[`_${ye}`]};class Ct{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,ae)=>{this.resolve=ce,this.reject=ae})}wrapCallback(ce){return(ae,Ee)=>{ae?this.reject(ae):this.resolve(Ee),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(ae):ce(ae,Ee))}}}function Ot(ye,ce){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=ce||"demo-project",Se=ye.iat||0,Nt=ye.sub||ye.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:Se,exp:Se+3600,auth_time:Se,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(tn)),""].join(".")}function Yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function kn(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pn(){const ye=Yt();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function De(){return!function Ke(){var ye;const ce=null===(ye=wn())||void 0===ye?void 0:ye.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ft(){try{return"object"==typeof indexedDB}catch{return!1}}function It(){return new Promise((ye,ce)=>{try{let ae=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",Se=self.indexedDB.open(Ee);Se.onsuccess=()=>{Se.result.close(),ae||self.indexedDB.deleteDatabase(Ee),ye(!0)},Se.onupgradeneeded=()=>{ae=!1},Se.onerror=()=>{var Nt;ce((null===(Nt=Se.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(ae){ce(ae)}})}class ve extends Error{constructor(ce,ae,Ee){super(ae),this.code=ce,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(ce,ae,Ee){this.service=ce,this.serviceName=ae,this.errors=Ee}create(ce,...ae){const Ee=ae[0]||{},Se=`${this.service}/${ce}`,Nt=this.errors[ce],tn=Nt?function He(ye,ce){return ye.replace(pt,(ae,Ee)=>{const Se=ce[Ee];return null!=Se?String(Se):`<${Ee}?>`})}(Nt,Ee):"Error";return new ve(Se,`${this.serviceName}: ${tn} (${Se}).`,Ee)}}const pt=/\{\$([^}]+)}/g;function An(ye){for(const ce in ye)if(Object.prototype.hasOwnProperty.call(ye,ce))return!1;return!0}function tr(ye,ce){if(ye===ce)return!0;const ae=Object.keys(ye),Ee=Object.keys(ce);for(const Se of ae){if(!Ee.includes(Se))return!1;const Nt=ye[Se],tn=ce[Se];if(Fr(Nt)&&Fr(tn)){if(!tr(Nt,tn))return!1}else if(Nt!==tn)return!1}for(const Se of Ee)if(!ae.includes(Se))return!1;return!0}function Fr(ye){return null!==ye&&"object"==typeof ye}function fr(ye){const ce=[];for(const[ae,Ee]of Object.entries(ye))Array.isArray(Ee)?Ee.forEach(Se=>{ce.push(encodeURIComponent(ae)+"="+encodeURIComponent(Se))}):ce.push(encodeURIComponent(ae)+"="+encodeURIComponent(Ee));return ce.length?"&"+ce.join("&"):""}function vr(ye){const ce={};return ye.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[Se,Nt]=Ee.split("=");ce[decodeURIComponent(Se)]=decodeURIComponent(Nt)}}),ce}function ar(ye){const ce=ye.indexOf("?");if(!ce)return"";const ae=ye.indexOf("#",ce);return ye.substring(ce,ae>0?ae:void 0)}function Ei(ye,ce){const ae=new Jr(ye,ce);return ae.subscribe.bind(ae)}class Jr{constructor(ce,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{ce(this)}).catch(Ee=>{this.error(Ee)})}next(ce){this.forEachObserver(ae=>{ae.next(ce)})}error(ce){this.forEachObserver(ae=>{ae.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,ae,Ee){let Se;if(void 0===ce&&void 0===ae&&void 0===Ee)throw new Error("Missing Observer.");Se=function Oi(ye,ce){if("object"!=typeof ye||null===ye)return!1;for(const ae of ce)if(ae in ye&&"function"==typeof ye[ae])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:ae,complete:Ee},void 0===Se.next&&(Se.next=as),void 0===Se.error&&(Se.error=as),void 0===Se.complete&&(Se.complete=as);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Se.error(this.finalError):Se.complete()}catch{}}),this.observers.push(Se),Nt}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,ce)}sendOne(ce,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{ae(this.observers[ce])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function as(){}function Ni(ye){return ye&&ye._delegate?ye._delegate:ye}},5763:(Xn,Lt,ne)=>{ne.d(Lt,{w:()=>Qn});var b=ne(5861),_e=ne(5017),Fe=ne(95),O=ne(4946),A=ne(5578),Ze=ne(2333),Le=ne(2425),ht=ne(6814),vt=ne(7290),Ve=ne(8669);const ke=["captchaElem"];function _t(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Qt(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," Debe ser mas de 3 caracteres"),O.qZA())}function At(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Vt(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," Debe ser mas de 3 caracteres"),O.qZA())}function Ut(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Tn(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," debe ser mayor o igual a 18 a\xf1os. "),O.qZA())}function wn(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," debe ser menor o igual a 99 a\xf1os. "),O.qZA())}function er(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," solo permiten numeros "),O.qZA())}function nn(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3,"DNI"),O.qZA(),O._uU(4," es requerido "),O.qZA())}function We(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3,"DNI"),O.qZA(),O._uU(4," solo permiten numeros "),O.qZA())}function ut(kn,tt){if(1&kn&&(O.TgZ(0,"option",22),O._uU(1),O.qZA()),2&kn){const je=tt.$implicit;O.Q6J("ngValue",je.nombre),O.xp6(1),O.hij("",je.nombre," ")}}function Ct(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3,"Correo Electronico"),O.qZA(),O._uU(4," es requerido "),O.qZA())}function Ot(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3," Correo Electronico"),O.qZA(),O._uU(4," no tiene el formato correcto. "),O.qZA())}function Yt(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3," Contrase\xf1a "),O.qZA(),O._uU(4," es requerida "),O.qZA())}function zt(kn,tt){1&kn&&(O.TgZ(0,"span",36),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3," Contrase\xf1a "),O.qZA(),O._uU(4," tiene que ser mayor a 6 caracteres. "),O.qZA())}function Ke(kn,tt){if(1&kn){const je=O.EpF();O.TgZ(0,"div",3)(1,"div",4)(2,"h4",5),O._uU(3,"Registro de paciente"),O.qZA(),O.TgZ(4,"form",6),O.NdJ("ngSubmit",function(){O.CHM(je);const rt=O.oxw();return O.KtG(rt.addPaciente())}),O.TgZ(5,"div",7)(6,"div",8)(7,"label",9),O._uU(8,"Nombre"),O.qZA(),O._UZ(9,"input",10),O.YNc(10,_t,5,0,"span",11),O.YNc(11,Qt,5,0,"span",11),O.qZA(),O.TgZ(12,"div",8)(13,"label",12),O._uU(14,"Apellido"),O.qZA(),O._UZ(15,"input",13),O.YNc(16,At,5,0,"span",11),O.YNc(17,Vt,5,0,"span",11),O.qZA(),O.TgZ(18,"div",14)(19,"label",15),O._uU(20,"Edad"),O.qZA(),O._UZ(21,"input",16),O.YNc(22,Ut,5,0,"span",11),O.YNc(23,Tn,5,0,"span",11),O.YNc(24,wn,5,0,"span",11),O.YNc(25,er,5,0,"span",11),O.qZA(),O.TgZ(26,"div",17)(27,"label",18),O._uU(28,"DNI"),O.qZA(),O._UZ(29,"input",19),O.YNc(30,nn,5,0,"span",11),O.YNc(31,We,5,0,"span",11),O.qZA(),O.TgZ(32,"div",17)(33,"label",20),O._uU(34,"Obra social"),O.qZA(),O.TgZ(35,"select",21)(36,"option",22),O._uU(37,"Selecciona una Obra Social"),O.qZA(),O.YNc(38,ut,2,2,"option",23),O.qZA()(),O.TgZ(39,"div",17)(40,"label",24),O._uU(41,"Correo Electronico"),O.qZA(),O._UZ(42,"input",25),O.YNc(43,Ct,5,0,"span",11),O.YNc(44,Ot,5,0,"span",11),O.qZA(),O.TgZ(45,"div",17)(46,"label",26),O._uU(47,"Contrase\xf1a"),O.qZA(),O._UZ(48,"input",27),O.YNc(49,Yt,5,0,"span",11),O.YNc(50,zt,5,0,"span",11),O.qZA(),O.TgZ(51,"div",17)(52,"label",28),O._uU(53,"Imagen"),O.qZA(),O.TgZ(54,"input",29),O.NdJ("change",function(rt){O.CHM(je);const Ye=O.oxw();return O.KtG(Ye.uploadImage(rt))}),O.qZA()(),O.TgZ(55,"div",17)(56,"label",28),O._uU(57," Imagen 2 "),O.TgZ(58,"span",30),O._uU(59,"(Opcional)"),O.qZA()(),O.TgZ(60,"input",29),O.NdJ("change",function(rt){O.CHM(je);const Ye=O.oxw();return O.KtG(Ye.uploadImage2(rt))}),O.qZA()()(),O._UZ(61,"hr",31),O.TgZ(62,"button",32),O._uU(63," Agregar "),O.qZA(),O.TgZ(64,"div",33)(65,"button",34),O.NdJ("click",function(){O.CHM(je);const rt=O.oxw();return O.KtG(rt.captchaOnOff())}),O._uU(66,"On/Off"),O.qZA(),O.TgZ(67,"app-captcha",35),O.NdJ("captchaChange",function(rt){O.CHM(je);const Ye=O.oxw();return O.KtG(Ye.onCaptchaChange(rt))}),O.qZA()()()()()}if(2&kn){const je=O.oxw();let Pn,rt,Ye,De,ft,It,$e,Ce,ve,pe,He,pt,bt,Cn;O.xp6(4),O.Q6J("formGroup",je.paciente),O.xp6(6),O.Q6J("ngIf",(null==(Pn=je.paciente.get("nombre"))?null:Pn.hasError("required"))&&(null==(Pn=je.paciente.get("nombre"))?null:Pn.touched)),O.xp6(1),O.Q6J("ngIf",(null==(rt=je.paciente.get("nombre"))?null:rt.hasError("minlength"))&&(null==(rt=je.paciente.get("nombre"))?null:rt.touched)),O.xp6(5),O.Q6J("ngIf",(null==(Ye=je.paciente.get("apellido"))?null:Ye.hasError("required"))&&(null==(Ye=je.paciente.get("apellido"))?null:Ye.touched)),O.xp6(1),O.Q6J("ngIf",(null==(De=je.paciente.get("apellido"))?null:De.hasError("minlength"))&&(null==(De=je.paciente.get("apellido"))?null:De.touched)),O.xp6(5),O.Q6J("ngIf",(null==(ft=je.paciente.get("edad"))?null:ft.hasError("required"))&&(null==(ft=je.paciente.get("edad"))?null:ft.touched)),O.xp6(1),O.Q6J("ngIf",(null==(It=je.paciente.get("edad"))?null:It.hasError("min"))&&(null==(It=je.paciente.get("edad"))?null:It.touched)),O.xp6(1),O.Q6J("ngIf",(null==($e=je.paciente.get("edad"))?null:$e.hasError("max"))&&(null==($e=je.paciente.get("edad"))?null:$e.touched)),O.xp6(1),O.Q6J("ngIf",(null==(Ce=je.paciente.get("edad"))?null:Ce.hasError("soloNumeros"))&&(null==(Ce=je.paciente.get("edad"))?null:Ce.touched)),O.xp6(5),O.Q6J("ngIf",(null==(ve=je.paciente.get("dni"))?null:ve.hasError("required"))&&(null==(ve=je.paciente.get("dni"))?null:ve.touched)),O.xp6(1),O.Q6J("ngIf",(null==(pe=je.paciente.get("dni"))?null:pe.hasError("soloNumeros"))&&(null==(pe=je.paciente.get("dni"))?null:pe.touched)),O.xp6(5),O.Q6J("ngValue",null),O.xp6(2),O.Q6J("ngForOf",je.obraSociales),O.xp6(5),O.Q6J("ngIf",(null==(He=je.paciente.get("mail"))?null:He.hasError("required"))&&(null==(He=je.paciente.get("mail"))?null:He.touched)),O.xp6(1),O.Q6J("ngIf",(null==(pt=je.paciente.get("mail"))?null:pt.hasError("email"))&&(null==(pt=je.paciente.get("mail"))?null:pt.touched)),O.xp6(5),O.Q6J("ngIf",(null==(bt=je.paciente.get("password"))?null:bt.hasError("password"))&&(null==(bt=je.paciente.get("password"))?null:bt.touched)),O.xp6(1),O.Q6J("ngIf",(null==(Cn=je.paciente.get("password"))?null:Cn.hasError("minlength"))&&(null==(Cn=je.paciente.get("password"))?null:Cn.touched)),O.xp6(12),O.Q6J("disabled",!je.paciente.valid||!je.isCaptchaDisabled&&!je.isCheck),O.xp6(5),O.Q6J("isDisabled",je.isCaptchaDisabled)}}function ln(kn,tt){1&kn&&(O.TgZ(0,"div",37),O._UZ(1,"app-spinner"),O.qZA())}let Qn=(()=>{class kn{constructor(je,Pn,rt,Ye,De){this.fb=je,this.clinicaFire=Pn,this.storage=rt,this.auth=Ye,this.toastr=De,this.obraSociales=[],this.selectedObraSocial=null,this.loading=!1,this.recaptcha=!1,this.isCaptchaDisabled=!1,this.isCheck=!1,this.paciente=this.fb.group({nombre:["",[Fe.kI.required,Fe.kI.minLength(3)]],apellido:["",[Fe.kI.required,Fe.kI.minLength(3)]],edad:["",[Fe.kI.required,Fe.kI.min(18),Fe.kI.max(99),this.validarNumber]],dni:["",[Fe.kI.required,this.validarNumber]],obraSocial:["",[Fe.kI.required]],mail:["",[Fe.kI.required,Fe.kI.email]],password:["",[Fe.kI.required,Fe.kI.minLength(6)]],imagen:[""],imagen2:[""],rol:["Paciente"]}),this.siteKey="6Lck3yApAAAAAD67G7-iTRntXQfLlcXcUHWiYdhh"}ngOnInit(){this.clinicaFire.getObraSocial().subscribe(je=>{this.obraSociales=je})}validarNumber(je){return/^\d+$/.test(je.value)?null:{soloNumeros:!0}}uploadImage(je){this.file=je.target.files[0]}uploadImage2(je){this.file2=je.target.files[0]}addPaciente(){var je=this;this.loading=!0,this.auth.registerUser(this.paciente.value.mail,this.paciente.value.password).then(function(){var Ye=(0,b.Z)(function*({user:De}){if(0==De.emailVerified&&je.auth.VerificacionEmail(),je.file){const ft=yield je.uploadFile(je.file);je.paciente.patchValue({imagen:ft})}if(je.file2){const ft=yield je.uploadFile(je.file2);je.paciente.patchValue({imagen2:ft})}if(De){const ft=De.uid;je.paciente.patchValue({password:""});const It=je.paciente.value;yield je.clinicaFire.addPaciente(It,ft),je.toastr.success("El Paciente se registro correctamente, Verifique su correo Electronico","Success"),je.paciente.reset()}je.loading=!1});return function(De){return Ye.apply(this,arguments)}}()).catch(Ye=>{this.loading=!1,console.log("error al registrar"+Ye)})}uploadFile(je){var Pn=this;return(0,b.Z)(function*(){const rt=(0,_e.iH)(Pn.storage,`images/${Pn.file.name}`);return yield(0,_e.KV)(rt,je),yield(0,_e.Jt)(rt)})()}handleSuccess(je){je&&(this.recaptcha=!0)}onCaptchaChange(je){this.isCheck=je}captchaOnOff(){this.isCaptchaDisabled=!this.isCaptchaDisabled}static#e=this.\u0275fac=function(Pn){return new(Pn||kn)(O.Y36(Fe.qu),O.Y36(A.R),O.Y36(_e.Ke),O.Y36(Ze.e),O.Y36(Le._W))};static#t=this.\u0275cmp=O.Xpm({type:kn,selectors:[["app-alta-pacientes"]],viewQuery:function(Pn,rt){if(1&Pn&&O.Gf(ke,5),2&Pn){let Ye;O.iGM(Ye=O.CRH())&&(rt.captchaElem=Ye.first)}},decls:3,vars:2,consts:[[1,"container","mb-5"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center vh-100",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-12","col-lg-4"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],[1,"col-12","col-md-4"],["for","edad",1,"form-label"],["id","edad","type","text","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],[1,"col-12","col-md-6"],["for","dni",1,"form-label"],["type","text","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","obraSocial",1,"form-label"],["aria-label","Obra Social","formControlName","obraSocial",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","mail",1,"form-label"],["type","text","placeholder","Ingrese Correo Electronico","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","placeholder","Ingrese Contrase\xf1a","formControlName","password",1,"form-control"],["for","image01n",1,"form-label"],["type","file","id","image01n","placeholder","",1,"form-control",3,"change"],[1,"text-muted"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"captcha"],["type","button",1,"btnCapt","mb-2",3,"click"],[1,"btnCapt2","mb-2",3,"isDisabled","captchaChange"],[1,"text-danger"],[1,"d-flex","justify-content-center","align-items-center","vh-100"]],template:function(Pn,rt){1&Pn&&(O.TgZ(0,"div",0),O.YNc(1,Ke,68,19,"div",1),O.YNc(2,ln,2,0,"div",2),O.qZA()),2&Pn&&(O.xp6(1),O.Q6J("ngIf",!rt.loading),O.xp6(1),O.Q6J("ngIf",rt.loading))},dependencies:[ht.sg,ht.O5,Fe._Y,Fe.YN,Fe.Kr,Fe.Fj,Fe.EJ,Fe.JJ,Fe.JL,Fe.sg,Fe.u,vt.O,Ve.h],styles:[".captcha[_ngcontent-%COMP%]{display:flex}.btnCapt[_ngcontent-%COMP%]{width:5%;height:40px;padding:5px;font-size:12px;border-radius:8px;color:#f5f5f5;background-color:#0a0a6d;margin-top:22px}.btnCapt2[_ngcontent-%COMP%]{width:25%;height:33px;padding:5px;font-size:12px;border-radius:8px;margin-top:5px;margin-left:10px}"]})}return kn})()},4745:(Xn,Lt,ne)=>{ne.d(Lt,{A:()=>$e});var b=ne(5861),_e=ne(5017),Fe=ne(95),O=ne(4946),A=ne(5578),Ze=ne(2333),Le=ne(2425),ht=ne(6814),vt=ne(7290);const Ve=function(Ce){return{selected:Ce}};function ke(Ce,ve){if(1&Ce){const pe=O.EpF();O.TgZ(0,"ul",14)(1,"li",15),O.NdJ("click",function(){const bt=O.CHM(pe).$implicit,Cn=O.oxw();return O.KtG(Cn.selectObjeto(bt))}),O.TgZ(2,"div")(3,"h6",16),O._uU(4),O.qZA(),O.TgZ(5,"h6",16),O._uU(6),O.qZA()()()()}if(2&Ce){const pe=ve.$implicit,He=O.oxw();O.xp6(1),O.Q6J("ngClass",O.VKq(3,Ve,He.isSelected(pe))),O.xp6(3),O.Oqu(pe.nombre),O.xp6(2),O.Oqu(pe.description)}}function _t(Ce,ve){1&Ce&&(O.TgZ(0,"span",25),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Qt(Ce,ve){1&Ce&&(O.TgZ(0,"span",25),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," Debe ser mas de 3 caracteres"),O.qZA())}function At(Ce,ve){1&Ce&&(O.TgZ(0,"span",25),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Descripcion"),O.qZA(),O._uU(4," es requerida"),O.qZA())}function Vt(Ce,ve){if(1&Ce&&(O.TgZ(0,"form",17)(1,"div",18)(2,"div",19)(3,"label",20),O._uU(4,"Nombre"),O.qZA(),O._UZ(5,"input",21),O.YNc(6,_t,5,0,"span",22),O.YNc(7,Qt,5,0,"span",22),O.qZA()(),O.TgZ(8,"div",18)(9,"div",19)(10,"label",23),O._uU(11,"Descripcion"),O.qZA(),O._UZ(12,"textarea",24),O.YNc(13,At,5,0,"span",22),O.qZA()()()),2&Ce){const pe=O.oxw();let He,pt,bt;O.Q6J("formGroup",pe.newEspecialidad),O.xp6(6),O.Q6J("ngIf",(null==(He=pe.newEspecialidad.get("nombre"))?null:He.hasError("required"))&&(null==(He=pe.newEspecialidad.get("nombre"))?null:He.touched)),O.xp6(1),O.Q6J("ngIf",(null==(pt=pe.newEspecialidad.get("nombre"))?null:pt.hasError("minlength"))&&(null==(pt=pe.newEspecialidad.get("nombre"))?null:pt.touched)),O.xp6(6),O.Q6J("ngIf",(null==(bt=pe.newEspecialidad.get("description"))?null:bt.hasError("required"))&&(null==(bt=pe.newEspecialidad.get("description"))?null:bt.touched))}}function Ut(Ce,ve){1&Ce&&(O.TgZ(0,"div",26),O._UZ(1,"app-spinner"),O.qZA())}function Tn(Ce,ve){if(1&Ce){const pe=O.EpF();O.TgZ(0,"div",27)(1,"button",28),O._uU(2," Cancelar "),O.qZA(),O.TgZ(3,"button",29),O.NdJ("click",function(){O.CHM(pe);const pt=O.oxw();return O.KtG(pt.addEspecialidad())}),O._uU(4," Agregar "),O.qZA()()}if(2&Ce){const pe=O.oxw();O.xp6(3),O.Q6J("disabled",!pe.newEspecialidad.valid)}}let wn=(()=>{class Ce{constructor(pe,He){this.clinicaFire=pe,this.fb=He,this.botonSeleccionado=null,this.especialidades=[],this.selectedObjeto=null,this.seleccionar=new O.vpe,this.loading=!1,this.newEspecialidad=this.fb.group({nombre:["",[Fe.kI.required,Fe.kI.minLength(3)]],description:["",[Fe.kI.required]],estado:["Activa"]})}ngOnInit(){this.clinicaFire.getEspecialidad().subscribe(pe=>{this.especialidades=pe})}selectObjeto(pe){this.seleccionar.emit(pe),this.selectedObjeto=pe.nombre}isSelected(pe){return this.selectedObjeto===pe.nombre}addEspecialidad(){var pe=this;return(0,b.Z)(function*(){try{pe.loading=!0;const He=pe.newEspecialidad.value,pt=yield pe.clinicaFire.addEspecialidad(He);console.log("respuesta de firestores: ",pt)}catch(He){console.log("Error: ",He)}finally{pe.newEspecialidad.reset(),pe.loading=!1}})()}static#e=this.\u0275fac=function(He){return new(He||Ce)(O.Y36(A.R),O.Y36(Fe.qu))};static#t=this.\u0275cmp=O.Xpm({type:Ce,selectors:[["app-tabla-especialidad"]],outputs:{seleccionar:"seleccionar"},decls:19,vars:4,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@mdo",1,"w-100","btn","btn-lg","btn","btn-primary",2,"color","whitesmoke"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"espec","text-primary"],["class","list-group",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","lh-sm",3,"ngClass","click"],[1,"my-0","p-2"],[3,"formGroup"],[1,"mb-3"],[1,"col-12"],["for","nombre",1,"form-label"],["id","nombre","type","text","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3",1,"form-control"],[1,"text-danger"],[1,"d-flex","justify-content-center","align-items-center"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(He,pt){1&He&&(O.TgZ(0,"section")(1,"button",0),O._uU(2," Agregar Especialidad "),O.qZA(),O._UZ(3,"hr"),O.TgZ(4,"h4",1)(5,"span",2),O._uU(6,"Especialidades"),O.qZA()(),O.YNc(7,ke,7,5,"ul",3),O.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),O._uU(13,"Nueva Especialidad"),O.qZA(),O._UZ(14,"button",9),O.qZA(),O.TgZ(15,"div",10),O.YNc(16,Vt,14,4,"form",11),O.YNc(17,Ut,2,0,"div",12),O.qZA(),O.YNc(18,Tn,5,1,"div",13),O.qZA()()()()),2&He&&(O.xp6(7),O.Q6J("ngForOf",pt.especialidades),O.xp6(9),O.Q6J("ngIf",!pt.loading),O.xp6(1),O.Q6J("ngIf",pt.loading),O.xp6(1),O.Q6J("ngIf",!pt.loading))},dependencies:[ht.mk,ht.sg,ht.O5,Fe._Y,Fe.Fj,Fe.JJ,Fe.JL,Fe.sg,Fe.u,vt.O],styles:["li[_ngcontent-%COMP%]{cursor:pointer;margin-top:3px}.selected[_ngcontent-%COMP%]{background-color:#0d689d;color:#fff}.espec[_ngcontent-%COMP%]{color:#f5f5f5}"]})}return Ce})();var er=ne(8669);const nn=["scrollContainer"],We=["captchaElem"];function ut(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"nombre"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Ct(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"nombre"),O.qZA(),O._uU(4," debe tener mas 3 caracteres"),O.qZA())}function Ot(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Yt(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," EL "),O.TgZ(2,"strong"),O._uU(3,"Nombre"),O.qZA(),O._uU(4," Debe ser mas de 3 caracteres"),O.qZA())}function zt(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," es requerido"),O.qZA())}function Ke(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," debe ser mayor o igual a 18 a\xf1os. "),O.qZA())}function ln(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," debe ser menor o igual a 99 a\xf1os. "),O.qZA())}function Qn(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3,"Edad"),O.qZA(),O._uU(4," solo permiten numeros "),O.qZA())}function kn(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3,"DNI"),O.qZA(),O._uU(4," es requerido "),O.qZA())}function tt(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3,"DNI"),O.qZA(),O._uU(4," solo permiten numeros "),O.qZA())}function je(Ce,ve){if(1&Ce){const pe=O.EpF();O.TgZ(0,"div",38)(1,"span",39),O._uU(2),O.TgZ(3,"button",40),O.NdJ("click",function(){const bt=O.CHM(pe).$implicit,Cn=O.oxw(2);return O.KtG(Cn.eliminarElemento(bt))}),O._uU(4,"X"),O.qZA()()()}if(2&Ce){const pe=ve.$implicit;O.xp6(2),O.hij(" ",pe," ")}}function Pn(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3,"Correo Electronico"),O.qZA(),O._uU(4," es requerido "),O.qZA())}function rt(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," El "),O.TgZ(2,"strong"),O._uU(3," Correo Electronico"),O.qZA(),O._uU(4," no tiene el formato correcto. "),O.qZA())}function Ye(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3," Contrase\xf1a "),O.qZA(),O._uU(4," es requerida "),O.qZA())}function De(Ce,ve){1&Ce&&(O.TgZ(0,"span",37),O._uU(1," La "),O.TgZ(2,"strong"),O._uU(3," Contrase\xf1a "),O.qZA(),O._uU(4," tiene que ser mayor a 6 caracteres. "),O.qZA())}function ft(Ce,ve){if(1&Ce){const pe=O.EpF();O.TgZ(0,"div",3)(1,"div",4)(2,"app-tabla-especialidad",5),O.NdJ("seleccionar",function(pt){O.CHM(pe);const bt=O.oxw();return O.KtG(bt.seleccionarEspecialidad(pt))}),O.qZA()(),O.TgZ(3,"div",6)(4,"h4",7),O._uU(5,"Registro del profesional"),O.qZA(),O.TgZ(6,"form",8),O.NdJ("ngSubmit",function(){O.CHM(pe);const pt=O.oxw();return O.KtG(pt.addprofesional())}),O.TgZ(7,"div",9)(8,"div",10)(9,"label",11),O._uU(10,"Nombre"),O.qZA(),O._UZ(11,"input",12),O.YNc(12,ut,5,0,"span",13),O.YNc(13,Ct,5,0,"span",13),O.qZA(),O.TgZ(14,"div",10)(15,"label",14),O._uU(16,"Apellido"),O.qZA(),O._UZ(17,"input",15),O.YNc(18,Ot,5,0,"span",13),O.YNc(19,Yt,5,0,"span",13),O.qZA(),O.TgZ(20,"div",16)(21,"label",17),O._uU(22,"Edad"),O.qZA(),O._UZ(23,"input",18),O.YNc(24,zt,5,0,"span",13),O.YNc(25,Ke,5,0,"span",13),O.YNc(26,ln,5,0,"span",13),O.YNc(27,Qn,5,0,"span",13),O.qZA(),O.TgZ(28,"div",16)(29,"label",19),O._uU(30,"DNI"),O.qZA(),O._UZ(31,"input",20),O.YNc(32,kn,5,0,"span",13),O.YNc(33,tt,5,0,"span",13),O.qZA(),O.TgZ(34,"div",21)(35,"h5"),O._uU(36,"Especialidades"),O.qZA(),O.TgZ(37,"div",22),O.YNc(38,je,5,1,"div",23),O.qZA()(),O.TgZ(39,"div",24)(40,"label",25),O._uU(41,"Correo Electronico"),O.qZA(),O._UZ(42,"input",26),O.YNc(43,Pn,5,0,"span",13),O.YNc(44,rt,5,0,"span",13),O.qZA(),O.TgZ(45,"div",24)(46,"label",27),O._uU(47,"Contrase\xf1a"),O.qZA(),O._UZ(48,"input",28),O.YNc(49,Ye,5,0,"span",13),O.YNc(50,De,5,0,"span",13),O.qZA(),O.TgZ(51,"div",24)(52,"label",29),O._uU(53,"Imagen"),O.qZA(),O.TgZ(54,"input",30),O.NdJ("change",function(pt){O.CHM(pe);const bt=O.oxw();return O.KtG(bt.uploadImage(pt))}),O.qZA()()(),O._UZ(55,"hr",31)(56,"hr",31),O.TgZ(57,"button",32),O._uU(58," Agregar "),O.qZA(),O.TgZ(59,"div",33)(60,"button",34),O.NdJ("click",function(){O.CHM(pe);const pt=O.oxw();return O.KtG(pt.captchaOnOff())}),O._uU(61,"On/Off"),O.qZA(),O.TgZ(62,"app-captcha",35),O.NdJ("captchaChange",function(pt){O.CHM(pe);const bt=O.oxw();return O.KtG(bt.onCaptchaChange(pt))}),O.qZA()(),O._UZ(63,"form",36),O.qZA()()()}if(2&Ce){const pe=O.oxw();let He,pt,bt,Cn,Er,Zt,pn,qn,$n,Rn,en,An,on,tr;O.xp6(6),O.Q6J("formGroup",pe.profesional),O.xp6(6),O.Q6J("ngIf",(null==(He=pe.profesional.get("nombre"))?null:He.hasError("required"))&&(null==(He=pe.profesional.get("nombre"))?null:He.touched)),O.xp6(1),O.Q6J("ngIf",(null==(pt=pe.profesional.get("nombre"))?null:pt.hasError("minlength"))&&(null==(pt=pe.profesional.get("nombre"))?null:pt.touched)),O.xp6(5),O.Q6J("ngIf",(null==(bt=pe.profesional.get("apellido"))?null:bt.hasError("required"))&&(null==(bt=pe.profesional.get("apellido"))?null:bt.touched)),O.xp6(1),O.Q6J("ngIf",(null==(Cn=pe.profesional.get("apellido"))?null:Cn.hasError("minlength"))&&(null==(Cn=pe.profesional.get("apellido"))?null:Cn.touched)),O.xp6(5),O.Q6J("ngIf",(null==(Er=pe.profesional.get("edad"))?null:Er.hasError("required"))&&(null==(Er=pe.profesional.get("edad"))?null:Er.touched)),O.xp6(1),O.Q6J("ngIf",(null==(Zt=pe.profesional.get("edad"))?null:Zt.hasError("min"))&&(null==(Zt=pe.profesional.get("edad"))?null:Zt.touched)),O.xp6(1),O.Q6J("ngIf",(null==(pn=pe.profesional.get("edad"))?null:pn.hasError("max"))&&(null==(pn=pe.profesional.get("edad"))?null:pn.touched)),O.xp6(1),O.Q6J("ngIf",(null==(qn=pe.profesional.get("edad"))?null:qn.hasError("soloNumeros"))&&(null==(qn=pe.profesional.get("edad"))?null:qn.touched)),O.xp6(5),O.Q6J("ngIf",(null==($n=pe.profesional.get("dni"))?null:$n.hasError("required"))&&(null==($n=pe.profesional.get("dni"))?null:$n.touched)),O.xp6(1),O.Q6J("ngIf",(null==(Rn=pe.profesional.get("dni"))?null:Rn.hasError("soloNumeros"))&&(null==(Rn=pe.profesional.get("dni"))?null:Rn.touched)),O.xp6(5),O.Q6J("ngForOf",pe.especialidades),O.xp6(5),O.Q6J("ngIf",(null==(en=pe.profesional.get("mail"))?null:en.hasError("required"))&&(null==(en=pe.profesional.get("mail"))?null:en.touched)),O.xp6(1),O.Q6J("ngIf",(null==(An=pe.profesional.get("mail"))?null:An.hasError("email"))&&(null==(An=pe.profesional.get("mail"))?null:An.touched)),O.xp6(5),O.Q6J("ngIf",(null==(on=pe.profesional.get("password"))?null:on.hasError("password"))&&(null==(on=pe.profesional.get("password"))?null:on.touched)),O.xp6(1),O.Q6J("ngIf",(null==(tr=pe.profesional.get("password"))?null:tr.hasError("minlength"))&&(null==(tr=pe.profesional.get("password"))?null:tr.touched)),O.xp6(7),O.Q6J("disabled",!pe.profesional.valid||!pe.isCaptchaDisabled&&!pe.isCheck),O.xp6(5),O.Q6J("isDisabled",pe.isCaptchaDisabled)}}function It(Ce,ve){1&Ce&&(O.TgZ(0,"div",41),O._UZ(1,"app-spinner"),O.qZA())}let $e=(()=>{class Ce{constructor(pe,He,pt,bt,Cn){this.fb=pe,this.clinicaFire=He,this.storage=pt,this.auth=bt,this.toastr=Cn,this.loading=!1,this.especialidades=[],this.recaptcha=!1,this.recaptcha2=!1,this.isCaptchaDisabled=!1,this.isCheck=!1,this.profesional=this.fb.group({nombre:["",[Fe.kI.required,Fe.kI.minLength(3)]],apellido:["",[Fe.kI.required,Fe.kI.minLength(3)]],edad:["",[Fe.kI.required,Fe.kI.min(18),Fe.kI.max(99),this.validarNumber]],dni:["",[Fe.kI.required,this.validarNumber]],mail:["",[Fe.kI.required,Fe.kI.email]],password:["",[Fe.kI.required,Fe.kI.minLength(6)]],imagen:[""],especialidades:this.fb.array([]),estado:["Pendiente"],rol:["Profesional"]}),this.siteKey="6Lck3yApAAAAAD67G7-iTRntXQfLlcXcUHWiYdhh"}ngOnInit(){}onScroll(pe){}validarNumber(pe){return/^\d+$/.test(pe.value)?null:{soloNumeros:!0}}uploadImage(pe){this.file=pe.target.files[0]}addprofesional(){var pe=this;this.loading=!0,this.auth.registerUser(this.profesional.value.mail,this.profesional.value.password).then(function(){var bt=(0,b.Z)(function*({user:Cn}){if(0==Cn.emailVerified&&(yield pe.auth.VerificacionEmail()),pe.file){const Er=yield pe.uploadFile(pe.file);pe.profesional.patchValue({imagen:Er})}if(Cn){const Er=Cn.uid;pe.profesional.patchValue({password:""});const Zt=pe.profesional.value;Zt.especialidades=pe.especialidades,yield pe.clinicaFire.addProfesional(Zt,Er),pe.toastr.success("El Profesional se registro correctamente, Verifique su correo Electronico","Success"),pe.profesional.reset()}pe.loading=!1});return function(Cn){return bt.apply(this,arguments)}}()).catch(bt=>{this.loading=!1,console.log("error al registrar"+bt)})}uploadFile(pe){var He=this;return(0,b.Z)(function*(){const pt=(0,_e.iH)(He.storage,`images/${He.file.name}`);return yield(0,_e.KV)(pt,pe),yield(0,_e.Jt)(pt)})()}seleccionarEspecialidad(pe){this.especialidades.find(pt=>pt===pe.nombre)||this.especialidades.push(pe.nombre)}eliminarElemento(pe){this.especialidades=this.especialidades.filter(He=>He!==pe)}handleSuccess(pe){pe&&(this.recaptcha=!0)}onCaptchaChange(pe){this.isCheck=pe}captchaOnOff(){this.isCaptchaDisabled=!this.isCaptchaDisabled}static#e=this.\u0275fac=function(He){return new(He||Ce)(O.Y36(Fe.qu),O.Y36(A.R),O.Y36(_e.Ke),O.Y36(Ze.e),O.Y36(Le._W))};static#t=this.\u0275cmp=O.Xpm({type:Ce,selectors:[["app-alta-profesionales"]],viewQuery:function(He,pt){if(1&He&&(O.Gf(nn,5),O.Gf(We,5)),2&He){let bt;O.iGM(bt=O.CRH())&&(pt.scrollContainer=bt.first),O.iGM(bt=O.CRH())&&(pt.captchaElem=bt.first)}},hostBindings:function(He,pt){1&He&&O.NdJ("scroll",function(Cn){return pt.onScroll(Cn)},!1,O.Jf7)},decls:3,vars:2,consts:[[1,"container","mb-5"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center vh-100",4,"ngIf"],[1,"row"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"seleccionar"],[1,"col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-12","col-lg-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],[1,"col-12","col-md-3"],["for","edad",1,"form-label"],["id","edad","type","text","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","text","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],[1,"col-12"],[2,"white-space","nowrap"],["style","display: inline-block; white-space: normal; margin-right: 10px;",4,"ngFor","ngForOf"],[1,"col-12","col-lg-4"],["for","mail",1,"form-label"],["type","text","placeholder","Ingrese Correo Electronico","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","placeholder","Ingrese Contrase\xf1a","formControlName","password",1,"form-control"],["for","image01n",1,"form-label"],["type","file","id","image01n","placeholder","",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"captcha"],["type","button",1,"btnCapt","mb-2",3,"click"],[1,"btnCapt2","mb-2",3,"isDisabled","captchaChange"],[1,"mt-5",2,"margin-top","5px"],[1,"text-danger"],[2,"display","inline-block","white-space","normal","margin-right","10px"],[1,"badge","rounded-pill","text-bg-primary",2,"font-size","18px"],[1,"btn-delete",3,"click"],[1,"d-flex","justify-content-center","align-items-center","vh-100"]],template:function(He,pt){1&He&&(O.TgZ(0,"div",0),O.YNc(1,ft,64,18,"div",1),O.YNc(2,It,2,0,"div",2),O.qZA()),2&He&&(O.xp6(1),O.Q6J("ngIf",!pt.loading),O.xp6(1),O.Q6J("ngIf",pt.loading))},dependencies:[ht.sg,ht.O5,Fe._Y,Fe.Fj,Fe.JJ,Fe.JL,Fe.sg,Fe.u,Fe.F,vt.O,wn,er.h],styles:[".btn-delete[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none}.captcha[_ngcontent-%COMP%]{display:flex}.btnCapt[_ngcontent-%COMP%]{width:8%;height:40px;padding:5px;font-size:12px;border-radius:8px;color:#f5f5f5;background-color:#0a0a6d;margin-top:22px}.btnCapt2[_ngcontent-%COMP%]{width:35%;height:33px;padding:5px;font-size:12px;border-radius:8px;margin-top:5px;margin-left:10px}"]})}return Ce})()},8669:(Xn,Lt,ne)=>{ne.d(Lt,{h:()=>A});var b=ne(4946),_e=ne(6814),Fe=ne(95);const O=function(Ze){return{disabled:Ze}};let A=(()=>{class Ze{constructor(){this.captchaChange=new b.vpe,this.isChecked=!1}onCaptchaChange(){this.captchaChange.emit(this.isChecked)}static#e=this.\u0275fac=function(vt){return new(vt||Ze)};static#t=this.\u0275cmp=b.Xpm({type:Ze,selectors:[["app-captcha"]],inputs:{isDisabled:"isDisabled"},outputs:{captchaChange:"captchaChange"},decls:10,vars:5,consts:[[1,"card","mb-3",2,"max-width","360px",3,"ngClass"],[1,"row","g-0"],[1,"col-md-9"],[1,"card-body"],[1,"form-check","m-0","p-0"],["type","checkbox","value","","id","defaultCheck1",1,"form-check-input","custom-checkbox","m-0","p-0","mx-2",3,"disabled","ngModel","ngModelChange","change"],["for","defaultCheck1",1,"form-check-label"],[1,"col-md-3","d-flex","justify-content-center"],["src","../../../assets/recapchat.png","alt","recapchat","width","70",1,"img-fluid","rounded-start"]],template:function(vt,Ve){1&vt&&(b.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),b.NdJ("ngModelChange",function(_t){return Ve.isChecked=_t})("change",function(){return Ve.onCaptchaChange()}),b.qZA(),b.TgZ(6,"label",6),b._uU(7,"No soy un robot"),b.qZA()()()(),b.TgZ(8,"div",7),b._UZ(9,"img",8),b.qZA()()()),2&vt&&(b.Q6J("ngClass",b.VKq(3,O,Ve.isDisabled)),b.xp6(5),b.Q6J("disabled",Ve.isDisabled)("ngModel",Ve.isChecked))},dependencies:[_e.mk,Fe.Wl,Fe.JJ,Fe.On],styles:[".custom-checkbox[_ngcontent-%COMP%]{width:30px;height:30px;border-width:2px;border-color:#000;background-color:#3d22b9}"]})}return Ze})()},7075:(Xn,Lt,ne)=>{ne.d(Lt,{K:()=>Qt});var b=ne(6814),_e=ne(51),Fe=ne(95),O=ne(4946);let Ze=(()=>{class At{constructor(Ut){this.zone=Ut,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(Ut,Tn,wn,er){if(this.grecaptchaScriptLoaded(Ut.useEnterprise))return void this.zone.run(Ut.useEnterprise?()=>{wn(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{wn(window[this.windowGrecaptcha])});Ut.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(wn.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(wn.bind(this,window[this.windowGrecaptcha]));const nn=document.createElement("script");nn.id=this.scriptElemId,nn.innerHTML="",nn.src=this.getCaptchaScriptUrl(Ut,Tn,er),nn.async=!0,nn.defer=!0,document.getElementsByTagName("head")[0].appendChild(nn)}cleanup(){const Ut=document.getElementById(this.scriptElemId);Ut&&Ut.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(Ut){return!!(window[this.getCallbackName(Ut)]&&window[this.windowGrecaptcha]&&(Ut&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(Ut){return Ut?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(Ut){return Ut?`&hl=${Ut}`:""}getCaptchaScriptUrl(Ut,Tn,wn){return`https://www.${Ut.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${Ut.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(Ut.useEnterprise)}&render=${Tn}${this.getLanguageParam(wn)}`}}return At.\u0275fac=function(Ut){return new(Ut||At)(O.LFG(O.R0b))},At.\u0275prov=O.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),ke=(()=>{class At{constructor(Ut,Tn){this.scriptService=Ut,this.zone=Tn}execute(Ut,Tn,wn,er,nn){this.executeAsPromise(Ut,Tn,er).then(wn).catch(We=>nn?nn(We):console.error(We))}executeAsPromise(Ut,Tn,wn){return new Promise((er,nn)=>{this.scriptService.registerCaptchaScript(wn||{},Ut,Ct=>{this.zone.runOutsideAngular(()=>{try{Ct.execute(Ut,{action:Tn}).then(Ot=>this.zone.run(()=>er(Ot)))}catch(Ot){nn(Ot)}})})})}}return At.\u0275fac=function(Ut){return new(Ut||At)(O.LFG(Ze),O.LFG(O.R0b))},At.\u0275prov=O.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),_t=(()=>{class At{}return At.\u0275fac=function(Ut){return new(Ut||At)},At.\u0275mod=O.oAB({type:At}),At.\u0275inj=O.cJS({providers:[Ze,ke],imports:[b.ez]}),At})(),Qt=(()=>{class At{static#e=this.\u0275fac=function(Tn){return new(Tn||At)};static#t=this.\u0275mod=O.oAB({type:At});static#n=this.\u0275inj=O.cJS({imports:[b.ez,_e.Bz,Fe.UX,Fe.u5,_t]})}return At})()},7290:(Xn,Lt,ne)=>{ne.d(Lt,{O:()=>_e});var b=ne(4946);let _e=(()=>{class Fe{static#e=this.\u0275fac=function(Ze){return new(Ze||Fe)};static#t=this.\u0275cmp=b.Xpm({type:Fe,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"]],template:function(Ze,Le){1&Ze&&(b.TgZ(0,"div",0)(1,"span",1),b._uU(2,"Loading..."),b.qZA()())}})}return Fe})()},1521:(Xn,Lt,ne)=>{ne.d(Lt,{G:()=>We});var b=ne(5861),_e=ne(95),Fe=ne(6825),O=ne(5223),A=ne(4946),Ze=ne(2333),Le=ne(51),ht=ne(2425),vt=ne(5494),Ve=ne(5578),ke=ne(7732),_t=ne(6814);function Qt(ut,Ct){if(1&ut){const Ot=A.EpF();A.TgZ(0,"div")(1,"a",6),A.NdJ("click",function(){const Ke=A.CHM(Ot).$implicit,ln=A.oxw();return A.KtG(ln.handleLinkClick(Ke.mail,Ke.contrasena))}),A._UZ(2,"img",7),A.qZA()()}if(2&ut){const Ot=Ct.$implicit;A.xp6(2),A.Q6J("src",Ot.img,A.LSH)}}let At=(()=>{class ut{constructor(){this.imageUrl="",this.buttonText="",this.buttonClick=new A.vpe,this.dataArray=[{img:"../../../assets/gerente.png",mail:"jitij35815@modotso.com",contrasena:"123456"},{img:"../../../assets/doc1.png",mail:"pegiw85377@padvn.com",contrasena:"123456"},{img:"../../../assets/doc2.png",mail:"rigehet466@modotso.com",contrasena:"123456"},{img:"../../../assets/avatar-de-hombre.png",mail:"tacor67923@ikangou.com",contrasena:"123456"},{img:"../../../assets/mujer.png",mail:"rolah91745@padvn.com",contrasena:"123456"},{img:"../../../assets/avatar.png",mail:"ciged47147@digdy.com",contrasena:"123456"}]}handleLinkClick(Ot,Yt){this.buttonClick.emit({email:Ot,password:Yt})}static#e=this.\u0275fac=function(Yt){return new(Yt||ut)};static#t=this.\u0275cmp=A.Xpm({type:ut,selectors:[["app-favbutton"]],inputs:{imageUrl:"imageUrl",buttonText:"buttonText"},outputs:{buttonClick:"buttonClick"},decls:7,vars:1,consts:[[1,"container"],["type","checkbox","id","btn-mas"],[1,"redes"],[4,"ngFor","ngForOf"],[1,"btn-mas"],["for","btn-mas"],[3,"click"],["alt","Imagen",1,"full-width-height",3,"src"]],template:function(Yt,zt){1&Yt&&(A.TgZ(0,"div",0),A._UZ(1,"input",1),A.TgZ(2,"div",2),A.YNc(3,Qt,3,1,"div",3),A.qZA(),A.TgZ(4,"div",4)(5,"label",5),A._uU(6,"+"),A.qZA()()()),2&Yt&&(A.xp6(3),A.Q6J("ngForOf",zt.dataArray))},dependencies:[_t.sg],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}#btn-mas[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{position:absolute;left:94%;bottom:10px;z-index:1}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .btn-mas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-decoration:none;background:#0979e2;color:#fff;width:55px;height:55px;line-height:55px;text-align:center;border-radius:20%;box-shadow:0 1px 10px #0006;transition:all .5s ease}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img.full-width-height[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:30%}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#fff;color:#cc2b2b}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:-15px;opacity:0;visibility:hidden}#btn-mas[_ngcontent-%COMP%]:checked ~ .redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:10px;opacity:1;visibility:visible}.btn-mas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background:#0979e2;font-size:23px}'],data:{animation:[(0,Fe.X$)("listAnimation",[(0,Fe.SB)("hidden",(0,Fe.oB)({opacity:0,height:"0px"})),(0,Fe.SB)("visible",(0,Fe.oB)({opacity:1,height:"auto"})),(0,Fe.eR)("hidden => visible",(0,Fe.jt)("0.5s ease-in-out")),(0,Fe.eR)("visible => hidden",(0,Fe.jt)("0.5s ease-in-out"))])]}})}return ut})();function Vt(ut,Ct){1&ut&&(A.TgZ(0,"span",36),A._uU(1," EL "),A.TgZ(2,"strong"),A._uU(3,"correo"),A.qZA(),A._uU(4," es requerido"),A.qZA())}function Ut(ut,Ct){1&ut&&(A.TgZ(0,"span",36),A._uU(1," EL "),A.TgZ(2,"strong"),A._uU(3,"correo"),A.qZA(),A._uU(4," es invalido"),A.qZA())}function Tn(ut,Ct){1&ut&&(A.TgZ(0,"span",36),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3,"contrase\xf1a"),A.qZA(),A._uU(4," es requerido"),A.qZA())}function wn(ut,Ct){1&ut&&(A.TgZ(0,"span",36),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3,"contrase\xf1a"),A.qZA(),A._uU(4," debe de tener 6 caracteres"),A.qZA())}function er(ut,Ct){1&ut&&A._UZ(0,"span",37)}function nn(ut,Ct){1&ut&&(A.TgZ(0,"span"),A._uU(1,"Iniciar sesi\xf3n"),A.qZA())}let We=(()=>{class ut{constructor(Ot,Yt,zt,Ke,ln,Qn,kn){this.fb=Ot,this.authUser=Yt,this.router=zt,this.toastr=Ke,this.fireError=ln,this.clinicaFire=Qn,this.firestore=kn,this.loading=!1,this.user="",this.loginUsuario=this.fb.group({email:["",[_e.kI.required,_e.kI.email]],password:["",[_e.kI.required,_e.kI.minLength(6)]]})}login(){var Ot=this;const Yt=this.loginUsuario.value.email,zt=this.loginUsuario.value.password;console.log(Yt),console.log(zt),this.loading=!0;let Ke=(0,O.hJ)(this.firestore,"logins");(0,O.ET)(Ke,{fecha:new Date,email:Yt}),this.authUser.loginUser(Yt,zt).then(function(){var ln=(0,b.Z)(function*(Qn){if(Qn.user.emailVerified){const tt=(yield Ot.clinicaFire.getUserByID(Qn.user.uid)).data();if(!tt)return;Ot.redirectoPage(tt),Ot.loading=!1}else Ot.toastr.warning("Su direcci\xf3n de correo electr\xf3nico no ha sido verificada.","Correo Electr\xf3nico No Verificado"),Ot.loading=!1});return function(Qn){return ln.apply(this,arguments)}}()).catch(ln=>{this.loading=!1,this.toastr.error(ln.message?ln.message:this.fireError.codeError(ln.code),"Error")})}quickAccess(Ot,Yt){this.loginUsuario.setValue({email:Ot,password:Yt})}redirectoPage(Ot){switch(Ot.rol){case"Administrador":this.router.navigate(["/admin"]);break;case"Paciente":this.router.navigate(["/paciente"]);break;case"Profesional":let zt=Ot.estado;"Pendiente"==zt?this.toastr.warning("Su cuenta esta pendiente de aprobaci\xf3n","Cuenta pendiente"):"Rechazado"==zt?this.toastr.error("Su encuenta no fue aprobada, comuniquese con la administracion","Cuenta Rechazada"):this.router.navigate(["/profesional"])}}goBack(){this.router.navigate(["/auth"])}static#e=this.\u0275fac=function(Yt){return new(Yt||ut)(A.Y36(_e.qu),A.Y36(Ze.e),A.Y36(Le.F0),A.Y36(ht._W),A.Y36(vt.Z),A.Y36(Ve.R),A.Y36(ke.gg))};static#t=this.\u0275cmp=A.Xpm({type:ut,selectors:[["app-login"]],decls:51,vars:8,consts:[[1,"container-login","p-3","p-md-4","p-xl-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-xxl-11"],[1,"card","border-light-subtle","shadow-sm"],[1,"log","row","g-0"],[1,"col-12","col-md-6"],["loading","lazy","src","../../../../assets/login2.jpg","alt","img",1,"img-fluid","rounded-start","object-fit-cover","w-100","h-100"],[1,"col-12","col-md-6","d-flex","align-items-center","justify-content-center"],[1,"col-12","col-lg-11","col-xl-10"],[1,"card-body","p-3","p-md-4","p-xl-5"],[1,"row"],[1,"col-12"],[1,"btn",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"mb-5"],[1,"text-center","mb-4"],["href","#!"],["src","../../../../assets/icon-clinica.png","alt","Logo","width","50","height","50"],[1,"tex2","text-center",2,"color","black"],[3,"formGroup","ngSubmit"],[1,"row","gy-3","overflow-hidden"],[1,"form-floating","mb-3"],["type","email","name","email","id","email","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","email",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","name","password","id","password","placeholder","Password","formControlName","password",1,"form-control"],["for","password",1,"form-label"],[1,"form-check"],["type","checkbox","value","","name","remember_me","id","remember_me",1,"form-check-input"],["for","remember_me",1,"form-check-label","text-secondary"],[1,"d-grid"],["type","submit",1,"btn","btn-dark","btn-lg",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[3,"buttonClick"],[1,"text-danger"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(Yt,zt){if(1&Yt&&(A.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),A._UZ(7,"img",7),A.qZA(),A.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"button",13),A.NdJ("click",function(){return zt.goBack()}),A._UZ(14,"img",14),A.qZA()(),A.TgZ(15,"div",12)(16,"div",15)(17,"div",16)(18,"a",17),A._UZ(19,"img",18),A.qZA(),A.TgZ(20,"h2"),A._uU(21,"T\xfa Cl\xednica"),A.qZA()(),A.TgZ(22,"h2",19),A._uU(23," \xa1Bienvenido! "),A.qZA()()()(),A.TgZ(24,"form",20),A.NdJ("ngSubmit",function(){return zt.login()}),A.TgZ(25,"div",21)(26,"div",12)(27,"div",22),A._UZ(28,"input",23),A.TgZ(29,"label",24),A._uU(30,"Email"),A.qZA(),A.YNc(31,Vt,5,0,"span",25),A.YNc(32,Ut,5,0,"span",25),A.qZA()(),A.TgZ(33,"div",12)(34,"div",22),A._UZ(35,"input",26),A.TgZ(36,"label",27),A._uU(37,"Contrase\xf1a"),A.qZA(),A.YNc(38,Tn,5,0,"span",25),A.YNc(39,wn,5,0,"span",25),A.qZA()(),A.TgZ(40,"div",12)(41,"div",28),A._UZ(42,"input",29),A.TgZ(43,"label",30),A._uU(44," Mantenerme conectado "),A.qZA()()(),A.TgZ(45,"div",12)(46,"div",31)(47,"button",32),A.YNc(48,er,1,0,"span",33),A.YNc(49,nn,2,0,"span",34),A.qZA()()()()()()()()()()(),A.TgZ(50,"app-favbutton",35),A.NdJ("buttonClick",function(ln){return zt.quickAccess(ln.email,ln.password)}),A.qZA()()()()),2&Yt){let Ke,ln,Qn,kn;A.xp6(24),A.Q6J("formGroup",zt.loginUsuario),A.xp6(7),A.Q6J("ngIf",(null==(Ke=zt.loginUsuario.get("email"))?null:Ke.hasError("required"))&&(null==(Ke=zt.loginUsuario.get("email"))?null:Ke.touched)),A.xp6(1),A.Q6J("ngIf",(null==(ln=zt.loginUsuario.get("email"))?null:ln.hasError("email"))&&(null==(ln=zt.loginUsuario.get("email"))?null:ln.touched)),A.xp6(6),A.Q6J("ngIf",(null==(Qn=zt.loginUsuario.get("password"))?null:Qn.hasError("required"))&&(null==(Qn=zt.loginUsuario.get("password"))?null:Qn.touched)),A.xp6(1),A.Q6J("ngIf",(null==(kn=zt.loginUsuario.get("password"))?null:kn.hasError("minlength"))&&(null==(kn=zt.loginUsuario.get("password"))?null:kn.touched)),A.xp6(8),A.Q6J("disabled",zt.loginUsuario.invalid),A.xp6(1),A.Q6J("ngIf",zt.loading),A.xp6(1),A.Q6J("ngIf",!zt.loading)}},dependencies:[_t.O5,_e._Y,_e.Fj,_e.JJ,_e.JL,_e.sg,_e.u,At],styles:['@charset "UTF-8";.container-login[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),url(register.7c416073706e5282.jpg);background-repeat:no-repeat;background-position:center;background-size:cover;height:100vh}.arrow-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:5px}.log[_ngcontent-%COMP%]{background-image:url(adn4.d367b76c47325114.jpg);background-repeat:no-repeat;background-position:center;background-size:cover;height:90vh}'],data:{animation:[(0,Fe.X$)("enterState",[(0,Fe.SB)("void",(0,Fe.oB)({transform:"translateX(100%)",opacity:0})),(0,Fe.eR)(":enter",[(0,Fe.jt)(500,(0,Fe.oB)({transform:"translateX(0)",opacity:1}))])])]}})}return ut})()},3118:(Xn,Lt,ne)=>{ne.d(Lt,{u:()=>Fe});var b=ne(4946),_e=ne(51);let Fe=(()=>{class O{static#e=this.\u0275fac=function(Le){return new(Le||O)};static#t=this.\u0275cmp=b.Xpm({type:O,selectors:[["app-verificar-correo"]],decls:8,vars:0,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/login_logo.png","alt","Login",1,"logo"],[2,"color","white"],[1,"d-grid","gap-2","mt-3"],["type","button","routerLink","/login",1,"btn","btn-primary","btn-lg"]],template:function(Le,ht){1&Le&&(b.TgZ(0,"div",0)(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"h6",3),b._uU(4,"Se envio un correo para verificar el email"),b.qZA(),b.TgZ(5,"div",4)(6,"button",5),b._uU(7,"Volver"),b.qZA()()()())},dependencies:[_e.rH],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.wrapper[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:15px;text-align:center}"]})}return O})()},2333:(Xn,Lt,ne)=>{ne.d(Lt,{e:()=>A});var b=ne(5251),_e=ne(8180),Fe=ne(7398),O=ne(4946);let A=(()=>{class Ze{constructor(ht){this.auth=ht}loginUser(ht,vt){return(0,b.e5)(this.auth,ht,vt)}logout(){return this.auth.signOut()}registerUser(ht,vt){return(0,b.Xb)(this.auth,ht,vt)}VerificacionEmail(){return(0,b.w$)(this.auth.currentUser)}getUserLogged(){return this.auth.currentUser}getUserEmail(){const ht=this.auth.currentUser;return ht?ht.email:null}getAuthState(){return(0,b.fD)(this.auth)}getUserID(){return(0,b.fD)(this.auth).pipe((0,_e.q)(1),(0,Fe.U)(ht=>{if(ht)return ht.uid;throw Error("No hay usuario.")}))}static#e=this.\u0275fac=function(vt){return new(vt||Ze)(O.LFG(b.gx))};static#t=this.\u0275prov=O.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})()},5578:(Xn,Lt,ne)=>{ne.d(Lt,{R:()=>O});var b=ne(5861),_e=ne(7732),Fe=ne(4946);let O=(()=>{class A{constructor(Le){this.fire=Le}getUsuarios(){const Le=(0,_e.hJ)(this.fire,"usuarios");return(0,_e.BS)(Le,{idField:"id"})}getTurnos(){const Le=(0,_e.hJ)(this.fire,"turnos");return(0,_e.BS)(Le,{idField:"id"})}getLogins(){const Le=(0,_e.hJ)(this.fire,"logins");return(0,_e.BS)(Le,{idField:"id"})}addObraSocial(Le){const ht=(0,_e.hJ)(this.fire,"obraSocial");return(0,_e.ET)(ht,Le)}getObraSocial(){const Le=(0,_e.hJ)(this.fire,"obraSocial");return(0,_e.BS)(Le,{idField:"id"})}addPaciente(Le,ht){const vt=(0,_e.hJ)(this.fire,"usuarios"),Ve=(0,_e.JU)(vt,ht);return(0,_e.pl)(Ve,Le)}getPaciente(){const Le=(0,_e.hJ)(this.fire,"usuarios"),ht=(0,_e.IO)(Le,(0,_e.ar)("rol","==","Paciente"));return(0,_e.BS)(ht,{idField:"id"})}updatePaciente(Le,ht){const vt=(0,_e.JU)(this.fire,"usuarios",Le);return(0,_e.r7)(vt,{historiaClinica:ht})}addProfesional(Le,ht){const vt=(0,_e.hJ)(this.fire,"usuarios"),Ve=(0,_e.JU)(vt,ht);return(0,_e.pl)(Ve,Le)}updateProfesional(Le,ht){const vt=(0,_e.JU)(this.fire,"usuarios",Le);return(0,_e.r7)(vt,{estado:ht})}updateProfesionalAgenda(Le,ht){const vt=(0,_e.JU)(this.fire,"usuarios",Le);return(0,_e.r7)(vt,{agenda:ht})}getProfesionales(){const Le=(0,_e.hJ)(this.fire,"usuarios"),ht=(0,_e.IO)(Le,(0,_e.ar)("rol","==","Profesional"),(0,_e.ar)("estado","==","Pendiente"));return(0,_e.BS)(ht,{idField:"id"})}getProFesionalPorEspecialidad(Le){const ht=(0,_e.hJ)(this.fire,"usuarios"),vt=(0,_e.IO)(ht,(0,_e.ar)("rol","==","Profesional"),(0,_e.ar)("especialidades","array-contains",Le));return(0,_e.BS)(vt,{idField:"id"})}addProfesionalEspecialidad(Le,ht){const vt=(0,_e.hJ)(this.fire,`peliculas/${Le}/especialidades`);return(0,_e.ET)(vt,ht)}getHorariosDisponibles(Le){const ht=(0,_e.hJ)(this.fire,`usuarios/${Le}/horariosDisponibles`);return(0,_e.BS)(ht,{idField:"id"})}updateHorariosDisponible(Le,ht){var vt=this;return(0,b.Z)(function*(){const Ve=(0,_e.JU)(vt.fire,`usuarios/${Le}/horariosDisponibles`,ht.id),ke={...ht,horarios:ht.horarios};return(0,_e.r7)(Ve,ke)})()}addEspecialidadProfecional(Le,ht){const vt=(0,_e.hJ)(this.fire,`usuarios/${ht}/especialidades`);return(0,_e.ET)(vt,{especialidadRef:Le})}addEspecialidad(Le){const ht=(0,_e.hJ)(this.fire,"especialidades");return(0,_e.ET)(ht,Le)}getEspecialidad(){const Le=(0,_e.hJ)(this.fire,"especialidades");return(0,_e.BS)(Le,{idField:"id"})}getEspecialidadProfesional(Le){const ht=(0,_e.hJ)(this.fire,`usuarios/${Le}/especialidades`);return(0,_e.BS)(ht,{idField:"id"})}addAdministrador(Le,ht){var vt=this;return(0,b.Z)(function*(){const Ve=(0,_e.hJ)(vt.fire,"usuarios"),ke=(0,_e.JU)(Ve,ht);return yield(0,_e.pl)(ke,Le)})()}getUserByID(Le){var ht=this;return(0,b.Z)(function*(){const vt=(0,_e.hJ)(ht.fire,"usuarios"),Ve=(0,_e.JU)(vt,Le);return yield(0,_e.QT)(Ve)})()}getObservable(Le){return(0,_e.BS)((0,_e.hJ)(this.fire,Le))}static#e=this.\u0275fac=function(ht){return new(ht||A)(Fe.LFG(_e.gg))};static#t=this.\u0275prov=Fe.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},5494:(Xn,Lt,ne)=>{ne.d(Lt,{Z:()=>_e});var b=ne(4946);let _e=(()=>{class Fe{constructor(){}codeError(A){switch(console.log(A),A){case"auth/email-already-in-use":return"El usuario ya existe";case"auth/weak-password":return"La contrase\xf1a es muy debil";case"auth/invalid-email":return"Correo invalido";case"auth/wrong-password":return"Contrase\xf1a incorrecta";case"auth/user-not-found":return"El usuario no existe";case"ST":return"No se pudo generar la reserva, intentelo mas tarde";default:return"Error desconocido, intentelo mas tarde"}}static#e=this.\u0275fac=function(Ze){return new(Ze||Fe)};static#t=this.\u0275prov=b.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},2509:(Xn,Lt,ne)=>{var b=ne(6593),_e=ne(51),Fe=ne(8077);Fe.kL.register(...Fe.zX);var A=ne(4946),Ze=ne(7732),Le=ne(5578);let ht=(()=>{class K{constructor(D,B,X){this.router=D,this.fire=B,this.db=X,this.logins=[],this.fire=B,this.db.getObservable("logins").subscribe(he=>{this.logins=[],this.logins=he,this.createCharts(),console.log(this.logins)})}ngOnInit(){}createCharts(){const D=this.logins.reduce((Be,Tt)=>(Be[Tt.fecha]||(Be[Tt.fecha]=0),Be[Tt.fecha]++,Be),{}),B=Object.keys(D),X=B.map(Be=>D[Be]);console.log("datas"+B),console.log("counts"+X),new Fe.kL("chart",{type:"bar",data:{labels:B,datasets:[{label:"Registros por d\xeda",backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,data:X}]},options:{scales:{y:{beginAtZero:!0}}}})}goBack(){this.router.navigate(["/admin/seccion-paciente"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(_e.F0),A.Y36(Ze.gg),A.Y36(Le.R))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-log-grafico"]],decls:6,vars:1,consts:[[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"torta"],["id","chart"]],template:function(B,X){1&B&&(A.TgZ(0,"div")(1,"button",0),A.NdJ("click",function(){return X.goBack()}),A._UZ(2,"img",1),A.qZA()(),A.TgZ(3,"div",2)(4,"canvas",3),A._uU(5),A.qZA()()),2&B&&(A.xp6(5),A.Oqu(X.chart))},styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%]{margin:10px}#chart[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;justify-content:center;align-items:center;position:relative}.torta[_ngcontent-%COMP%]{width:900px;height:900px;display:flex;justify-content:center;align-items:center;position:relative;left:320px}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:0}']})}return K})(),vt=(()=>{class K{constructor(D,B,X){this.router=D,this.fire=B,this.db=X,this.turnos=[],this.fire=B,this.db.getObservable("turnos").subscribe(he=>{this.turnos=[],this.turnos=he,this.createCharts(),console.log(this.turnos)})}ngOnInit(){}createCharts(){const D=this.turnos.reduce((Be,Tt)=>(Be[Tt.fecha]||(Be[Tt.fecha]=0),Be[Tt.fecha]++,Be),{}),B=Object.keys(D),X=B.map(Be=>D[Be]);console.log("datas"+B),console.log("counts"+X),new Fe.kL("chart",{type:"bar",data:{labels:B,datasets:[{label:"Registros por d\xeda",backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,data:X}]},options:{scales:{y:{beginAtZero:!0}}}})}goBack(){this.router.navigate(["/admin/seccion-paciente"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(_e.F0),A.Y36(Ze.gg),A.Y36(Le.R))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-turno-dia-graf"]],decls:6,vars:1,consts:[[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"torta"],["id","chart"]],template:function(B,X){1&B&&(A.TgZ(0,"div")(1,"button",0),A.NdJ("click",function(){return X.goBack()}),A._UZ(2,"img",1),A.qZA()(),A.TgZ(3,"div",2)(4,"canvas",3),A._uU(5),A.qZA()()),2&B&&(A.xp6(5),A.Oqu(X.chart))},styles:['@charset "UTF-8";#chart[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;justify-content:center;align-items:center;position:relative}.torta[_ngcontent-%COMP%]{width:900px;height:900px;display:flex;justify-content:center;align-items:center;position:relative;left:320px}.btn[_ngcontent-%COMP%]{margin:10px}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:0}']})}return K})(),Ve=(()=>{class K{ngOnInit(){this.chart=new Fe.kL("chart",{type:"polarArea",data:{labels:["Traumatologia","Gastroenterologo","Dermatotologo","Clinico","Cardiologo"],datasets:[{label:"Cantidad de turnos por especialidad",data:[6,4,5,3,4],backgroundColor:["rgb(255, 99, 132)","rgb(75, 192, 192)","rgb(255, 205, 86)","rgb(201, 203, 207)","rgb(54, 162, 235)"]}]}})}constructor(D){this.router=D}goBack(){this.router.navigate(["/admin/seccion-paciente"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(_e.F0))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-turno-esp-graf"]],decls:6,vars:1,consts:[[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"torta"],["id","chart"]],template:function(B,X){1&B&&(A.TgZ(0,"div")(1,"button",0),A.NdJ("click",function(){return X.goBack()}),A._UZ(2,"img",1),A.qZA()(),A.TgZ(3,"div",2)(4,"canvas",3),A._uU(5),A.qZA()()),2&B&&(A.xp6(5),A.Oqu(X.chart))},styles:['@charset "UTF-8";#chart[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;justify-content:center;align-items:center;position:relative}.torta[_ngcontent-%COMP%]{width:800px;height:800x;display:flex;justify-content:center;align-items:center;position:relative;left:320px}.btn[_ngcontent-%COMP%]{margin:10px}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:0}']})}return K})(),ke=(()=>{class K{ngOnInit(){this.chart=new Fe.kL("chart",{type:"line",data:{labels:["1 h","2 h","3 h","4 h","5 h","6 h","7 h","8 h"],datasets:[{axis:"y",label:"Turnos solicitados en un lapso de tiempo",data:[8,5,8,4,3,5,4,3],fill:!1,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]}})}constructor(D){this.router=D}goBack(){this.router.navigate(["/admin/seccion-paciente"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(_e.F0))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-turno-medico-graf"]],decls:6,vars:1,consts:[[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"torta"],["id","chart"]],template:function(B,X){1&B&&(A.TgZ(0,"div")(1,"button",0),A.NdJ("click",function(){return X.goBack()}),A._UZ(2,"img",1),A.qZA()(),A.TgZ(3,"div",2)(4,"canvas",3),A._uU(5),A.qZA()()),2&B&&(A.xp6(5),A.Oqu(X.chart))},styles:['@charset "UTF-8";#chart[_ngcontent-%COMP%]{width:400px;height:300px;display:flex;justify-content:center;align-items:center;position:relative}.torta[_ngcontent-%COMP%]{width:800px;height:800x;display:flex;justify-content:center;align-items:center;position:relative;left:320px}.btn[_ngcontent-%COMP%]{margin:10px}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:0}']})}return K})(),_t=(()=>{class K{ngOnInit(){this.chart=new Fe.kL("chart",{type:"line",data:{labels:["1 h","2 h","3 h","4 h","5 h","6 h","7 h","8 h"],datasets:[{axis:"y",label:"Turnos finalizados en un lapso de tiempo",data:[3,5,2,8,7,4,2,3],fill:!1,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]}})}constructor(D){this.router=D}goBack(){this.router.navigate(["/admin/seccion-paciente"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(_e.F0))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-turnos-fin-graf"]],decls:5,vars:1,consts:[[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"torta"],["id","chart"]],template:function(B,X){1&B&&(A.TgZ(0,"div",0),A.NdJ("click",function(){return X.goBack()}),A._UZ(1,"img",1),A.qZA(),A.TgZ(2,"div",2)(3,"canvas",3),A._uU(4),A.qZA()()),2&B&&(A.xp6(4),A.Oqu(X.chart))},styles:['@charset "UTF-8";#chart[_ngcontent-%COMP%]{width:400px;height:300px;display:flex;justify-content:center;align-items:center;position:relative}.torta[_ngcontent-%COMP%]{width:800px;height:800x;display:flex;justify-content:center;align-items:center;position:relative;left:320px}.btn[_ngcontent-%COMP%]{margin:10px}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:0}']})}return K})();var Qt=ne(3118),At=ne(1521),Vt=ne(6814),Ut=ne(5763),Tn=ne(4745),wn=ne(5861),er=ne(5017),nn=ne(95),We=ne(2333),ut=ne(2425),Ct=ne(7290),Ot=ne(8669);const Yt=["captchaElem"];function zt(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," EL "),A.TgZ(2,"strong"),A._uU(3,"Nombre"),A.qZA(),A._uU(4," es requerido"),A.qZA())}function Ke(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," EL "),A.TgZ(2,"strong"),A._uU(3,"Nombre"),A.qZA(),A._uU(4," Debe ser mas de 3 caracteres"),A.qZA())}function ln(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," EL "),A.TgZ(2,"strong"),A._uU(3,"Nombre"),A.qZA(),A._uU(4," es requerido"),A.qZA())}function Qn(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," EL "),A.TgZ(2,"strong"),A._uU(3,"Nombre"),A.qZA(),A._uU(4," Debe ser mas de 3 caracteres"),A.qZA())}function kn(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3,"Edad"),A.qZA(),A._uU(4," es requerido"),A.qZA())}function tt(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3,"Edad"),A.qZA(),A._uU(4," debe ser mayor o igual a 18 a\xf1os. "),A.qZA())}function je(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3,"Edad"),A.qZA(),A._uU(4," debe ser menor o igual a 99 a\xf1os. "),A.qZA())}function Pn(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3,"Edad"),A.qZA(),A._uU(4," solo permiten numeros "),A.qZA())}function rt(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," El "),A.TgZ(2,"strong"),A._uU(3,"DNI"),A.qZA(),A._uU(4," es requerido "),A.qZA())}function Ye(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," El "),A.TgZ(2,"strong"),A._uU(3,"DNI"),A.qZA(),A._uU(4," solo permiten numeros "),A.qZA())}function De(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," El "),A.TgZ(2,"strong"),A._uU(3,"Correo Electronico"),A.qZA(),A._uU(4," es requerido "),A.qZA())}function ft(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," El "),A.TgZ(2,"strong"),A._uU(3," Correo Electronico"),A.qZA(),A._uU(4," no tiene el formato correcto. "),A.qZA())}function It(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3," Contrase\xf1a "),A.qZA(),A._uU(4," es requerida "),A.qZA())}function $e(K,x){1&K&&(A.TgZ(0,"span",30),A._uU(1," La "),A.TgZ(2,"strong"),A._uU(3," Contrase\xf1a "),A.qZA(),A._uU(4," tiene que ser mayor a 6 caracteres. "),A.qZA())}function Ce(K,x){if(1&K){const D=A.EpF();A.TgZ(0,"div",3)(1,"div",4)(2,"h4",5),A._uU(3,"Registro de administrador"),A.qZA(),A.TgZ(4,"form",6),A.NdJ("ngSubmit",function(){A.CHM(D);const X=A.oxw();return A.KtG(X.addAdministrador())}),A.TgZ(5,"div",7)(6,"div",8)(7,"label",9),A._uU(8,"Nombre"),A.qZA(),A._UZ(9,"input",10),A.YNc(10,zt,5,0,"span",11),A.YNc(11,Ke,5,0,"span",11),A.qZA(),A.TgZ(12,"div",8)(13,"label",12),A._uU(14,"Apellido"),A.qZA(),A._UZ(15,"input",13),A.YNc(16,ln,5,0,"span",11),A.YNc(17,Qn,5,0,"span",11),A.qZA(),A.TgZ(18,"div",14)(19,"label",15),A._uU(20,"Edad"),A.qZA(),A._UZ(21,"input",16),A.YNc(22,kn,5,0,"span",11),A.YNc(23,tt,5,0,"span",11),A.YNc(24,je,5,0,"span",11),A.YNc(25,Pn,5,0,"span",11),A.qZA(),A.TgZ(26,"div",14)(27,"label",17),A._uU(28,"DNI"),A.qZA(),A._UZ(29,"input",18),A.YNc(30,rt,5,0,"span",11),A.YNc(31,Ye,5,0,"span",11),A.qZA(),A.TgZ(32,"div",4)(33,"label",19),A._uU(34,"Correo Electronico"),A.qZA(),A._UZ(35,"input",20),A.YNc(36,De,5,0,"span",11),A.YNc(37,ft,5,0,"span",11),A.qZA(),A.TgZ(38,"div",4)(39,"label",21),A._uU(40,"Contrase\xf1a"),A.qZA(),A._UZ(41,"input",22),A.YNc(42,It,5,0,"span",11),A.YNc(43,$e,5,0,"span",11),A.qZA(),A.TgZ(44,"div",4)(45,"label",23),A._uU(46,"Imagen"),A.qZA(),A.TgZ(47,"input",24),A.NdJ("change",function(X){A.CHM(D);const he=A.oxw();return A.KtG(he.uploadImage(X))}),A.qZA()()(),A._UZ(48,"hr",25),A.TgZ(49,"button",26),A._uU(50," Agregar "),A.qZA(),A.TgZ(51,"div",27)(52,"button",28),A.NdJ("click",function(){A.CHM(D);const X=A.oxw();return A.KtG(X.captchaOnOff())}),A._uU(53,"On/Off"),A.qZA(),A.TgZ(54,"app-captcha",29),A.NdJ("captchaChange",function(X){A.CHM(D);const he=A.oxw();return A.KtG(he.onCaptchaChange(X))}),A.qZA()()()()()}if(2&K){const D=A.oxw();let B,X,he,Ue,Be,Tt,$t,Nn,Fn,ii,Jn,rr,kr,Ci;A.xp6(4),A.Q6J("formGroup",D.admin),A.xp6(6),A.Q6J("ngIf",(null==(B=D.admin.get("nombre"))?null:B.hasError("required"))&&(null==(B=D.admin.get("nombre"))?null:B.touched)),A.xp6(1),A.Q6J("ngIf",(null==(X=D.admin.get("nombre"))?null:X.hasError("minlength"))&&(null==(X=D.admin.get("nombre"))?null:X.touched)),A.xp6(5),A.Q6J("ngIf",(null==(he=D.admin.get("apellido"))?null:he.hasError("required"))&&(null==(he=D.admin.get("apellido"))?null:he.touched)),A.xp6(1),A.Q6J("ngIf",(null==(Ue=D.admin.get("apellido"))?null:Ue.hasError("minlength"))&&(null==(Ue=D.admin.get("apellido"))?null:Ue.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Be=D.admin.get("edad"))?null:Be.hasError("required"))&&(null==(Be=D.admin.get("edad"))?null:Be.touched)),A.xp6(1),A.Q6J("ngIf",(null==(Tt=D.admin.get("edad"))?null:Tt.hasError("min"))&&(null==(Tt=D.admin.get("edad"))?null:Tt.touched)),A.xp6(1),A.Q6J("ngIf",(null==($t=D.admin.get("edad"))?null:$t.hasError("max"))&&(null==($t=D.admin.get("edad"))?null:$t.touched)),A.xp6(1),A.Q6J("ngIf",(null==(Nn=D.admin.get("edad"))?null:Nn.hasError("soloNumeros"))&&(null==(Nn=D.admin.get("edad"))?null:Nn.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Fn=D.admin.get("dni"))?null:Fn.hasError("required"))&&(null==(Fn=D.admin.get("dni"))?null:Fn.touched)),A.xp6(1),A.Q6J("ngIf",(null==(ii=D.admin.get("dni"))?null:ii.hasError("soloNumeros"))&&(null==(ii=D.admin.get("dni"))?null:ii.touched)),A.xp6(5),A.Q6J("ngIf",(null==(Jn=D.admin.get("mail"))?null:Jn.hasError("required"))&&(null==(Jn=D.admin.get("mail"))?null:Jn.touched)),A.xp6(1),A.Q6J("ngIf",(null==(rr=D.admin.get("mail"))?null:rr.hasError("email"))&&(null==(rr=D.admin.get("mail"))?null:rr.touched)),A.xp6(5),A.Q6J("ngIf",(null==(kr=D.admin.get("password"))?null:kr.hasError("password"))&&(null==(kr=D.admin.get("password"))?null:kr.touched)),A.xp6(1),A.Q6J("ngIf",(null==(Ci=D.admin.get("password"))?null:Ci.hasError("minlength"))&&(null==(Ci=D.admin.get("password"))?null:Ci.touched)),A.xp6(6),A.Q6J("disabled",!D.admin.valid||!D.isCaptchaDisabled&&!D.isCheck),A.xp6(5),A.Q6J("isDisabled",D.isCaptchaDisabled)}}function ve(K,x){1&K&&(A.TgZ(0,"div",31),A._UZ(1,"app-spinner"),A.qZA())}let pe=(()=>{class K{constructor(D,B,X,he,Ue){this.fb=D,this.clinicaFire=B,this.storage=X,this.auth=he,this.toastr=Ue,this.loading=!1,this.recaptcha=!1,this.isCaptchaDisabled=!1,this.isCheck=!1,this.admin=this.fb.group({nombre:["",[nn.kI.required,nn.kI.minLength(3)]],apellido:["",[nn.kI.required,nn.kI.minLength(3)]],edad:["",[nn.kI.required,nn.kI.min(18),nn.kI.max(99),this.validarNumber]],dni:["",[nn.kI.required,this.validarNumber]],mail:["",[nn.kI.required,nn.kI.email]],password:["",[nn.kI.required,nn.kI.minLength(6)]],imagen:[""],rol:["Administrador"]})}ngOnInit(){}validarNumber(D){return/^\d+$/.test(D.value)?null:{soloNumeros:!0}}uploadImage(D){this.file=D.target.files[0]}addAdministrador(){var D=this;this.loading=!0,this.auth.registerUser(this.admin.value.mail,this.admin.value.password).then(function(){var B=(0,wn.Z)(function*({user:X}){if(0==X.emailVerified&&(yield D.auth.VerificacionEmail()),D.file){const he=yield D.uploadFile(D.file);D.admin.patchValue({imagen:he})}if(X){const he=X.uid;D.admin.patchValue({password:""});const Ue=D.admin.value;yield D.clinicaFire.addAdministrador(Ue,he),D.toastr.success("El Administrador se registro correctamente, Verifique su correo Electronico","Success"),D.admin.reset()}D.loading=!1});return function(X){return B.apply(this,arguments)}}()).catch(B=>{this.loading=!1,console.log("error al registrar"+B)})}uploadFile(D){var B=this;return(0,wn.Z)(function*(){const X=(0,er.iH)(B.storage,`images/${B.file.name}`);return yield(0,er.KV)(X,D),yield(0,er.Jt)(X)})()}onCaptchaChange(D){this.isCheck=D}captchaOnOff(){this.isCaptchaDisabled=!this.isCaptchaDisabled}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(nn.qu),A.Y36(Le.R),A.Y36(er.Ke),A.Y36(We.e),A.Y36(ut._W))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-alta-admin"]],viewQuery:function(B,X){if(1&B&&A.Gf(Yt,5),2&B){let he;A.iGM(he=A.CRH())&&(X.captchaElem=he.first)}},decls:3,vars:2,consts:[[1,"container","mb-5"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center vh-100",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-12","col-lg-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],[1,"col-12","col-md-6"],["for","edad",1,"form-label"],["id","edad","type","text","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","text","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","mail",1,"form-label"],["type","text","placeholder","Ingrese Correo Electronico","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","placeholder","Ingrese Contrase\xf1a","formControlName","password",1,"form-control"],["for","image01n",1,"form-label"],["type","file","id","image01n","placeholder","",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"captcha"],["type","button",1,"btnCapt","mb-2",3,"click"],[1,"btnCapt2","mb-2",3,"isDisabled","captchaChange"],[1,"text-danger"],[1,"d-flex","justify-content-center","align-items-center","vh-100"]],template:function(B,X){1&B&&(A.TgZ(0,"div",0),A.YNc(1,Ce,55,17,"div",1),A.YNc(2,ve,2,0,"div",2),A.qZA()),2&B&&(A.xp6(1),A.Q6J("ngIf",!X.loading),A.xp6(1),A.Q6J("ngIf",X.loading))},dependencies:[Vt.O5,nn._Y,nn.Fj,nn.JJ,nn.JL,nn.sg,nn.u,Ct.O,Ot.h],styles:[".captcha[_ngcontent-%COMP%]{display:flex}.btnCapt[_ngcontent-%COMP%]{width:5%;height:40px;padding:5px;font-size:12px;border-radius:8px;color:#f5f5f5;background-color:#0a0a6d;margin-top:22px}.btnCapt2[_ngcontent-%COMP%]{width:25%;height:20px;padding:5px;font-size:12px;border-radius:8px;margin-top:5px;margin-left:10px}"]})}return K})();const He=["scrollContainer"];function pt(K,x){1&K&&(A.TgZ(0,"div"),A._UZ(1,"app-alta-pacientes"),A.qZA())}function bt(K,x){1&K&&(A.TgZ(0,"div"),A._UZ(1,"app-alta-profesionales"),A.qZA())}function Cn(K,x){1&K&&(A.TgZ(0,"div"),A._UZ(1,"app-alta-admin"),A.qZA())}let Er=(()=>{class K{constructor(D){this.router=D,this.isClienteActive=!0,this.isProfesionalActive=!1,this.isAdmin=!1}mostrarClienteComponent(){this.isClienteActive=!0,this.isProfesionalActive=!1,this.isAdmin=!1}mostrarProfesionalComponent(){this.isClienteActive=!1,this.isProfesionalActive=!0,this.isAdmin=!1}mostrarAdminComponent(){this.isAdmin=!0,this.isClienteActive=!1,this.isProfesionalActive=!1}onScroll(D){}goBack(){this.router.navigate(["/admin/inicio"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(_e.F0))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-form-user"]],viewQuery:function(B,X){if(1&B&&A.Gf(He,5),2&B){let he;A.iGM(he=A.CRH())&&(X.scrollContainer=he.first)}},hostBindings:function(B,X){1&B&&A.NdJ("scroll",function(Ue){return X.onScroll(Ue)},!1,A.Jf7)},decls:20,vars:9,consts:[[1,"scroll-container",3,"scroll"],[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"card","mt-4","formulario"],[1,"card-header"],[1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"card-body","fo"],[4,"ngIf"]],template:function(B,X){1&B&&(A.TgZ(0,"div",0),A.NdJ("scroll",function(Ue){return X.onScroll(Ue)}),A.TgZ(1,"div")(2,"button",1),A.NdJ("click",function(){return X.goBack()}),A._UZ(3,"img",2),A.qZA()(),A.TgZ(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),A.NdJ("click",function(){return X.mostrarClienteComponent()}),A._uU(9,"Paciente"),A.qZA()(),A.TgZ(10,"li",6)(11,"a",7),A.NdJ("click",function(){return X.mostrarProfesionalComponent()}),A._uU(12,"Profesional"),A.qZA()(),A.TgZ(13,"li",6)(14,"a",7),A.NdJ("click",function(){return X.mostrarAdminComponent()}),A._uU(15,"Administrador"),A.qZA()()()(),A.TgZ(16,"div",8),A.YNc(17,pt,2,0,"div",9),A.YNc(18,bt,2,0,"div",9),A.YNc(19,Cn,2,0,"div",9),A.qZA()()()),2&B&&(A.xp6(8),A.ekj("active",X.isClienteActive),A.xp6(3),A.ekj("active",X.isProfesionalActive),A.xp6(3),A.ekj("active",X.isAdmin),A.xp6(3),A.Q6J("ngIf",X.isClienteActive),A.xp6(1),A.Q6J("ngIf",X.isProfesionalActive),A.xp6(1),A.Q6J("ngIf",X.isAdmin))},dependencies:[Vt.O5,Ut.w,Tn.A,pe],styles:['@charset "UTF-8";.btn[_ngcontent-%COMP%]{margin:10px}#chart[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;justify-content:center;align-items:center;position:relative}.card[_ngcontent-%COMP%]{width:1100px;height:900px;display:flex;position:relative;left:230px;background-color:#fff0}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:0}.fo[_ngcontent-%COMP%]{color:#f5f5f5}']})}return K})();var Zt=ne(6825);const pn=["scrollContainer"];function qn(K,x){if(1&K&&(A.TgZ(0,"tr")(1,"td"),A._uU(2),A.ALo(3,"date"),A.qZA(),A.TgZ(4,"td"),A._uU(5),A.qZA()()),2&K){const D=x.$implicit;A.xp6(2),A.Oqu(A.xi3(3,2,D.fecha.toDate(),"MM/dd HH:mm")),A.xp6(3),A.Oqu(D.email)}}const Rn=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>ne.e(189).then(ne.bind(ne,8189)).then(K=>K.AuthModule)},{path:"admin",loadChildren:()=>Promise.all([ne.e(18),ne.e(257)]).then(ne.bind(ne,257)).then(K=>K.AdminModule),data:{animation:"Admin"}},{path:"profesional",loadChildren:()=>Promise.all([ne.e(18),ne.e(797)]).then(ne.bind(ne,6797)).then(K=>K.ProfesionalModule)},{path:"paciente",loadChildren:()=>Promise.all([ne.e(18),ne.e(908)]).then(ne.bind(ne,6908)).then(K=>K.PacienteModule)},{path:"logo-grafico",component:ht},{path:"turno-dia-graf",component:vt},{path:"turno-esp-graf",component:Ve},{path:"turno-lapso-graf",component:ke},{path:"turno-fin-graf",component:_t},{path:"verificar-correo",component:Qt.u},{path:"login",component:At.G},{path:"form-user",component:Er},{path:"log",component:(()=>{class K{constructor(D,B,X){this.clinicaFire=D,this.router=B,this.fire=X,this.fire=X,this.clinicaFire.getLogins().subscribe(he=>{this.logins=he})}onScroll(D){}goBack(){this.router.navigate(["/admin/inicio"])}static#e=this.\u0275fac=function(B){return new(B||K)(A.Y36(Le.R),A.Y36(_e.F0),A.Y36(Ze.gg))};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-logs"]],viewQuery:function(B,X){if(1&B&&A.Gf(pn,5),2&B){let he;A.iGM(he=A.CRH())&&(X.scrollContainer=he.first)}},hostBindings:function(B,X){1&B&&A.NdJ("scroll",function(Ue){return X.onScroll(Ue)},!1,A.Jf7)},decls:14,vars:2,consts:[[1,"scroll-container",3,"scroll"],[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izquierda.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"container","marketing","container2","torta"],[1,"border-bottom","pb-2","mb-0","h2"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(B,X){1&B&&(A.TgZ(0,"div",0),A.NdJ("scroll",function(Ue){return X.onScroll(Ue)}),A.TgZ(1,"div")(2,"button",1),A.NdJ("click",function(){return X.goBack()}),A._UZ(3,"img",2),A.qZA()(),A.TgZ(4,"div",3)(5,"h2",4),A._uU(6,"Entradas de Logs"),A.qZA(),A.TgZ(7,"table",5)(8,"tr")(9,"th",6),A._uU(10,"Fecha"),A.qZA(),A.TgZ(11,"th",6),A._uU(12,"Email"),A.qZA()(),A.YNc(13,qn,6,5,"tr",7),A.qZA()()()),2&B&&(A.xp6(4),A.Q6J("@fadeInOut",void 0),A.xp6(9),A.Q6J("ngForOf",X.logins))},dependencies:[Vt.sg,Vt.uU],styles:['@charset "UTF-8";.arrow-icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:0}a[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%]{font-size:.875rem}.feather[_ngcontent-%COMP%]{width:16px;height:16px;vertical-align:text-bottom}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;z-index:100;padding:48px 0 0;box-shadow:inset -1px 0 #0000001a}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]{top:5rem}}.sidebar-sticky[_ngcontent-%COMP%]{position:relative;top:0;height:calc(100vh - 48px);padding-top:.5rem;overflow-x:hidden;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;color:#333}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{margin-right:4px;color:#727272}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#2470dc}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .feather[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{color:inherit}.sidebar-heading[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase}.navbar-brand[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem;font-size:1rem;background-color:#00000040;box-shadow:inset -1px 0 #00000040}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{top:.25rem;right:1rem}.navbar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-width:0;border-radius:0}.form-control-dark[_ngcontent-%COMP%]{color:#fff;background-color:#ffffff1a;border-color:#ffffff1a}.form-control-dark[_ngcontent-%COMP%]:focus{border-color:transparent;box-shadow:0 0 0 3px #ffffff40}.button-img[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff}.my-custom-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.my-custom-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}img[_ngcontent-%COMP%]{width:1.8cm;height:1.6cm}.container2[_ngcontent-%COMP%]{background-color:#fff0}td[_ngcontent-%COMP%]{color:#fff}th[_ngcontent-%COMP%]{color:#1228b9}h2[_ngcontent-%COMP%]{color:#f5f5f5}button[_ngcontent-%COMP%]{margin-right:5px}.btn-danger[_ngcontent-%COMP%]{background-color:#d93131}.form-pend[_ngcontent-%COMP%]{background-color:transparent}.torta[_ngcontent-%COMP%]{width:500px;height:500px;left:100px}.logs[_ngcontent-%COMP%]{width:13%}'],data:{animation:[(0,Zt.X$)("fadeInOut",[(0,Zt.SB)("void",(0,Zt.oB)({opacity:0})),(0,Zt.eR)("void => *",[(0,Zt.jt)("1000ms ease-in")])])]}})}return K})()}];let en=(()=>{class K{static#e=this.\u0275fac=function(B){return new(B||K)};static#t=this.\u0275mod=A.oAB({type:K});static#n=this.\u0275inj=A.cJS({imports:[_e.Bz.forRoot(Rn),_e.Bz]})}return K})();const An=(0,Zt.X$)("routeAnimations",[(0,Zt.eR)("Bienvenido => *",[(0,Zt.IO)(":enter, :leave",(0,Zt.oB)({position:"fixed",width:"100%"}),{optional:!0}),(0,Zt.ru)([(0,Zt.IO)(":enter",[(0,Zt.oB)({transform:"translateX(100%)"}),(0,Zt.jt)("0.5s ease-in-out",(0,Zt.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,Zt.IO)(":leave",[(0,Zt.oB)({transform:"translateX(0%)"}),(0,Zt.jt)("0.5s ease-in-out",(0,Zt.oB)({transform:"translateX(-100%)"}))],{optional:!0})])]),(0,Zt.eR)("* => Bienvenido",[(0,Zt.IO)(":enter, :leave",(0,Zt.oB)({position:"fixed",width:"100%"}),{optional:!0}),(0,Zt.ru)([(0,Zt.IO)(":enter",[(0,Zt.oB)({transform:"translateX(-100%)"}),(0,Zt.jt)("0.5s ease-in-out",(0,Zt.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,Zt.IO)(":leave",[(0,Zt.oB)({transform:"translateX(0%)"}),(0,Zt.jt)("0.5s ease-in-out",(0,Zt.oB)({transform:"translateX(100%)"}))],{optional:!0})])]),(0,Zt.eR)("Login => Admin",[(0,Zt.IO)(":enter, :leave",(0,Zt.oB)({position:"fixed",width:"100%"}),{optional:!0}),(0,Zt.ru)([(0,Zt.IO)(":enter",[(0,Zt.oB)({transform:"translateX(100%)"}),(0,Zt.jt)("0.5s ease-in-out",(0,Zt.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,Zt.IO)(":leave",[(0,Zt.oB)({transform:"translateX(0%)"}),(0,Zt.jt)("0.5s ease-in-out",(0,Zt.oB)({transform:"translateX(-100%)"}))],{optional:!0})])])]);let on=(()=>{class K{constructor(){this.items=[{title:"Inicio",link:"/",active:!0},{title:"Admin",link:"/admin",active:!0}],this.itemAuth=[{title:"Acceso",link:"/auth/login",active:!1},{title:"Empezar",link:"/",active:!1,children:[{title:"Profesionales",link:"/auth/altaProfesional",active:!0},{title:"Paciente",link:"/auth/altaPaciente",active:!1}]}]}static#e=this.\u0275fac=function(B){return new(B||K)};static#t=this.\u0275cmp=A.Xpm({type:K,selectors:[["app-root"]],decls:3,vars:1,consts:[["o","outlet"]],template:function(B,X){if(1&B&&(A.TgZ(0,"div"),A._UZ(1,"router-outlet",null,0),A.qZA()),2&B){const he=A.MAs(2);A.Q6J("@routeAnimations",he&&he.activatedRouteData&&he.activatedRouteData.animation)}},dependencies:[_e.lC],data:{animation:[An]}})}return K})();var tr=ne(721),Fr=ne(5251);const jt_firebase={apiKey:"AIzaSyAoJhZd8ivJOCOT-WxBgItAoPV2EAkOwnc",authDomain:"tp-clinica-utn.firebaseapp.com",projectId:"tp-clinica-utn",storageBucket:"tp-clinica-utn.appspot.com",messagingSenderId:"662963984846",appId:"1:662963984846:web:27702a54a93d660a49f39f"};var fr=ne(7075);function ar(K){return new A.vHH(3e3,!1)}function Ge(K){switch(K.length){case 0:return new Zt.ZN;case 1:return K[0];default:return new Zt.ZE(K)}}function Bt(K,x,D=new Map,B=new Map){const X=[],he=[];let Ue=-1,Be=null;if(x.forEach(Tt=>{const $t=Tt.get("offset"),Nn=$t==Ue,Fn=Nn&&Be||new Map;Tt.forEach((ii,Jn)=>{let rr=Jn,kr=ii;if("offset"!==Jn)switch(rr=K.normalizePropertyName(rr,X),kr){case Zt.k1:kr=D.get(Jn);break;case Zt.l3:kr=B.get(Jn);break;default:kr=K.normalizeStyleValue(Jn,rr,kr,X)}Fn.set(rr,kr)}),Nn||he.push(Fn),Be=Fn,Ue=$t}),X.length)throw function ce(K){return new A.vHH(3502,!1)}();return he}function cn(K,x,D,B){switch(x){case"start":K.onStart(()=>B(D&&gn(D,"start",K)));break;case"done":K.onDone(()=>B(D&&gn(D,"done",K)));break;case"destroy":K.onDestroy(()=>B(D&&gn(D,"destroy",K)))}}function gn(K,x,D){const he=fn(K.element,K.triggerName,K.fromState,K.toState,x||K.phaseName,D.totalTime??K.totalTime,!!D.disabled),Ue=K._data;return null!=Ue&&(he._data=Ue),he}function fn(K,x,D,B,X="",he=0,Ue){return{element:K,triggerName:x,fromState:D,toState:B,phaseName:X,totalTime:he,disabled:!!Ue}}function br(K,x,D){let B=K.get(x);return B||K.set(x,B=D),B}function On(K){const x=K.indexOf(":");return[K.substring(1,x),K.slice(x+1)]}const gt=(()=>typeof document>"u"?null:document.documentElement)();function dt(K){const x=K.parentNode||K.host||null;return x===gt?null:x}let _n=null,ur=!1;function Cr(K,x){for(;x;){if(x===K)return!0;x=dt(x)}return!1}function _i(K,x,D){if(D)return Array.from(K.querySelectorAll(x));const B=K.querySelector(x);return B?[B]:[]}let si=(()=>{class K{validateStyleProperty(D){return function dr(K){_n||(_n=function mr(){return typeof document<"u"?document.body:null}()||{},ur=!!_n.style&&"WebkitAppearance"in _n.style);let x=!0;return _n.style&&!function Pt(K){return"ebkit"==K.substring(1,6)}(K)&&(x=K in _n.style,!x&&ur&&(x="Webkit"+K.charAt(0).toUpperCase()+K.slice(1)in _n.style)),x}(D)}matchesElement(D,B){return!1}containsElement(D,B){return Cr(D,B)}getParentElement(D){return dt(D)}query(D,B,X){return _i(D,B,X)}computeStyle(D,B,X){return X||""}animate(D,B,X,he,Ue,Be=[],Tt){return new Zt.ZN(X,he)}static#e=this.\u0275fac=function(B){return new(B||K)};static#t=this.\u0275prov=A.Yz7({token:K,factory:K.\u0275fac})}return K})(),di=(()=>{class K{static#e=this.NOOP=new si}return K})();const So=1e3,Mn="ng-enter",rn="ng-leave",Un="ng-trigger",Wn=".ng-trigger",Or="ng-animating",ki=".ng-animating";function Vr(K){if("number"==typeof K)return K;const x=K.match(/^(-?[\.\d]+)(m?s)/);return!x||x.length<2?0:Yr(parseFloat(x[1]),x[2])}function Yr(K,x){return"s"===x?K*So:K}function Ji(K,x,D){return K.hasOwnProperty("duration")?K:function Ys(K,x,D){let X,he=0,Ue="";if("string"==typeof K){const Be=K.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Be)return x.push(ar()),{duration:0,delay:0,easing:""};X=Yr(parseFloat(Be[1]),Be[2]);const Tt=Be[3];null!=Tt&&(he=Yr(parseFloat(Tt),Be[4]));const $t=Be[5];$t&&(Ue=$t)}else X=K;if(!D){let Be=!1,Tt=x.length;X<0&&(x.push(function Mi(){return new A.vHH(3100,!1)}()),Be=!0),he<0&&(x.push(function Ei(){return new A.vHH(3101,!1)}()),Be=!0),Be&&x.splice(Tt,0,ar())}return{duration:X,delay:he,easing:Ue}}(K,x,D)}function Ti(K,x={}){return Object.keys(K).forEach(D=>{x[D]=K[D]}),x}function cs(K){const x=new Map;return Object.keys(K).forEach(D=>{x.set(D,K[D])}),x}function Qs(K,x=new Map,D){if(D)for(let[B,X]of D)x.set(B,X);for(let[B,X]of K)x.set(B,X);return x}function rs(K,x,D){x.forEach((B,X)=>{const he=ho(X);D&&!D.has(X)&&D.set(X,K.style[he]),K.style[he]=B})}function ti(K,x){x.forEach((D,B)=>{const X=ho(B);K.style[X]=""})}function Ss(K){return Array.isArray(K)?1==K.length?K[0]:(0,Zt.vP)(K):K}const _o=new RegExp("{{\\s*(.+?)\\s*}}","g");function zs(K){let x=[];if("string"==typeof K){let D;for(;D=_o.exec(K);)x.push(D[1]);_o.lastIndex=0}return x}function yo(K,x,D){const B=K.toString(),X=B.replace(_o,(he,Ue)=>{let Be=x[Ue];return null==Be&&(D.push(function Wr(K){return new A.vHH(3003,!1)}()),Be=""),Be.toString()});return X==B?K:X}function Xs(K){const x=[];let D=K.next();for(;!D.done;)x.push(D.value),D=K.next();return x}const xi=/-+([a-z0-9])/g;function ho(K){return K.replace(xi,(...x)=>x[1].toUpperCase())}function Li(K,x,D){switch(x.type){case 7:return K.visitTrigger(x,D);case 0:return K.visitState(x,D);case 1:return K.visitTransition(x,D);case 2:return K.visitSequence(x,D);case 3:return K.visitGroup(x,D);case 4:return K.visitAnimate(x,D);case 5:return K.visitKeyframes(x,D);case 6:return K.visitStyle(x,D);case 8:return K.visitReference(x,D);case 9:return K.visitAnimateChild(x,D);case 10:return K.visitAnimateRef(x,D);case 11:return K.visitQuery(x,D);case 12:return K.visitStagger(x,D);default:throw function Oi(K){return new A.vHH(3004,!1)}()}}function vo(K,x){return window.getComputedStyle(K)[x]}const Vs="*";function Ts(K,x){const D=[];return"string"==typeof K?K.split(/\s*,\s*/).forEach(B=>function qo(K,x,D){if(":"==K[0]){const Tt=function ms(K,x){switch(K){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,B)=>parseFloat(B)>parseFloat(D);case":decrement":return(D,B)=>parseFloat(B)<parseFloat(D);default:return x.push(function Gi(K){return new A.vHH(3016,!1)}()),"* => *"}}(K,D);if("function"==typeof Tt)return void x.push(Tt);K=Tt}const B=K.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return D.push(function Br(K){return new A.vHH(3015,!1)}()),x;const X=B[1],he=B[2],Ue=B[3];x.push(Uo(X,Ue));"<"==he[0]&&!(X==Vs&&Ue==Vs)&&x.push(Uo(Ue,X))}(B,D,x)):D.push(K),D}const _s=new Set(["true","1"]),da=new Set(["false","0"]);function Uo(K,x){const D=_s.has(K)||da.has(K),B=_s.has(x)||da.has(x);return(X,he)=>{let Ue=K==Vs||K==X,Be=x==Vs||x==he;return!Ue&&D&&"boolean"==typeof X&&(Ue=X?_s.has(K):da.has(K)),!Be&&B&&"boolean"==typeof he&&(Be=he?_s.has(x):da.has(x)),Ue&&Be}}const Ln=new RegExp("s*:selfs*,?","g");function nr(K,x,D,B){return new jr(K).build(x,D,B)}class jr{constructor(x){this._driver=x}build(x,D,B){const X=new qi(D);return this._resetContextStyleTimingState(X),Li(this,Ss(x),X)}_resetContextStyleTimingState(x){x.currentQuerySelector="",x.collectedStyles=new Map,x.collectedStyles.set("",new Map),x.currentTime=0}visitTrigger(x,D){let B=D.queryCount=0,X=D.depCount=0;const he=[],Ue=[];return"@"==x.name.charAt(0)&&D.errors.push(function Pr(){return new A.vHH(3006,!1)}()),x.definitions.forEach(Be=>{if(this._resetContextStyleTimingState(D),0==Be.type){const Tt=Be,$t=Tt.name;$t.toString().split(/\s*,\s*/).forEach(Nn=>{Tt.name=Nn,he.push(this.visitState(Tt,D))}),Tt.name=$t}else if(1==Be.type){const Tt=this.visitTransition(Be,D);B+=Tt.queryCount,X+=Tt.depCount,Ue.push(Tt)}else D.errors.push(function so(){return new A.vHH(3007,!1)}())}),{type:7,name:x.name,states:he,transitions:Ue,queryCount:B,depCount:X,options:null}}visitState(x,D){const B=this.visitStyle(x.styles,D),X=x.options&&x.options.params||null;if(B.containsDynamicStyles){const he=new Set,Ue=X||{};B.styles.forEach(Be=>{Be instanceof Map&&Be.forEach(Tt=>{zs(Tt).forEach($t=>{Ue.hasOwnProperty($t)||he.add($t)})})}),he.size&&(Xs(he.values()),D.errors.push(function Hn(K,x){return new A.vHH(3008,!1)}()))}return{type:0,name:x.name,style:B,options:X?{params:X}:null}}visitTransition(x,D){D.queryCount=0,D.depCount=0;const B=Li(this,Ss(x.animation),D);return{type:1,matchers:Ts(x.expr,D.errors),animation:B,queryCount:D.queryCount,depCount:D.depCount,options:Wi(x.options)}}visitSequence(x,D){return{type:2,steps:x.steps.map(B=>Li(this,B,D)),options:Wi(x.options)}}visitGroup(x,D){const B=D.currentTime;let X=0;const he=x.steps.map(Ue=>{D.currentTime=B;const Be=Li(this,Ue,D);return X=Math.max(X,D.currentTime),Be});return D.currentTime=X,{type:3,steps:he,options:Wi(x.options)}}visitAnimate(x,D){const B=function Is(K,x){if(K.hasOwnProperty("duration"))return K;if("number"==typeof K)return En(Ji(K,x).duration,0,"");const D=K;if(D.split(/\s+/).some(he=>"{"==he.charAt(0)&&"{"==he.charAt(1))){const he=En(0,0,"");return he.dynamic=!0,he.strValue=D,he}const X=Ji(D,x);return En(X.duration,X.delay,X.easing)}(x.timings,D.errors);D.currentAnimateTimings=B;let X,he=x.styles?x.styles:(0,Zt.oB)({});if(5==he.type)X=this.visitKeyframes(he,D);else{let Ue=x.styles,Be=!1;if(!Ue){Be=!0;const $t={};B.easing&&($t.easing=B.easing),Ue=(0,Zt.oB)($t)}D.currentTime+=B.duration+B.delay;const Tt=this.visitStyle(Ue,D);Tt.isEmptyStep=Be,X=Tt}return D.currentAnimateTimings=null,{type:4,timings:B,style:X,options:null}}visitStyle(x,D){const B=this._makeStyleAst(x,D);return this._validateStyleAst(B,D),B}_makeStyleAst(x,D){const B=[],X=Array.isArray(x.styles)?x.styles:[x.styles];for(let Be of X)"string"==typeof Be?Be===Zt.l3?B.push(Be):D.errors.push(new A.vHH(3002,!1)):B.push(cs(Be));let he=!1,Ue=null;return B.forEach(Be=>{if(Be instanceof Map&&(Be.has("easing")&&(Ue=Be.get("easing"),Be.delete("easing")),!he))for(let Tt of Be.values())if(Tt.toString().indexOf("{{")>=0){he=!0;break}}),{type:6,styles:B,easing:Ue,offset:x.offset,containsDynamicStyles:he,options:null}}_validateStyleAst(x,D){const B=D.currentAnimateTimings;let X=D.currentTime,he=D.currentTime;B&&he>0&&(he-=B.duration+B.delay),x.styles.forEach(Ue=>{"string"!=typeof Ue&&Ue.forEach((Be,Tt)=>{const $t=D.collectedStyles.get(D.currentQuerySelector),Nn=$t.get(Tt);let Fn=!0;Nn&&(he!=X&&he>=Nn.startTime&&X<=Nn.endTime&&(D.errors.push(function oi(K,x,D,B,X){return new A.vHH(3010,!1)}()),Fn=!1),he=Nn.startTime),Fn&&$t.set(Tt,{startTime:he,endTime:X}),D.options&&function Js(K,x,D){const B=x.params||{},X=zs(K);X.length&&X.forEach(he=>{B.hasOwnProperty(he)||D.push(function Jr(K){return new A.vHH(3001,!1)}())})}(Be,D.options,D.errors)})})}visitKeyframes(x,D){const B={type:5,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function et(){return new A.vHH(3011,!1)}()),B;let he=0;const Ue=[];let Be=!1,Tt=!1,$t=0;const Nn=x.steps.map(fs=>{const Yn=this._makeStyleAst(fs,D);let Ws=null!=Yn.offset?Yn.offset:function ai(K){if("string"==typeof K)return null;let x=null;if(Array.isArray(K))K.forEach(D=>{if(D instanceof Map&&D.has("offset")){const B=D;x=parseFloat(B.get("offset")),B.delete("offset")}});else if(K instanceof Map&&K.has("offset")){const D=K;x=parseFloat(D.get("offset")),D.delete("offset")}return x}(Yn.styles),Cs=0;return null!=Ws&&(he++,Cs=Yn.offset=Ws),Tt=Tt||Cs<0||Cs>1,Be=Be||Cs<$t,$t=Cs,Ue.push(Cs),Yn});Tt&&D.errors.push(function Xr(){return new A.vHH(3012,!1)}()),Be&&D.errors.push(function Bn(){return new A.vHH(3200,!1)}());const Fn=x.steps.length;let ii=0;he>0&&he<Fn?D.errors.push(function Zr(){return new A.vHH(3202,!1)}()):0==he&&(ii=1/(Fn-1));const Jn=Fn-1,rr=D.currentTime,kr=D.currentAnimateTimings,Ci=kr.duration;return Nn.forEach((fs,Yn)=>{const Ws=ii>0?Yn==Jn?1:ii*Yn:Ue[Yn],Cs=Ws*Ci;D.currentTime=rr+kr.delay+Cs,kr.duration=Cs,this._validateStyleAst(fs,D),fs.offset=Ws,B.styles.push(fs)}),B}visitReference(x,D){return{type:8,animation:Li(this,Ss(x.animation),D),options:Wi(x.options)}}visitAnimateChild(x,D){return D.depCount++,{type:9,options:Wi(x.options)}}visitAnimateRef(x,D){return{type:10,animation:this.visitReference(x.animation,D),options:Wi(x.options)}}visitQuery(x,D){const B=D.currentQuerySelector,X=x.options||{};D.queryCount++,D.currentQuery=x;const[he,Ue]=function Ii(K){const x=!!K.split(/\s*,\s*/).find(D=>":self"==D);return x&&(K=K.replace(Ln,"")),K=K.replace(/@\*/g,Wn).replace(/@\w+/g,D=>Wn+"-"+D.slice(1)).replace(/:animating/g,ki),[K,x]}(x.selector);D.currentQuerySelector=B.length?B+" "+he:he,br(D.collectedStyles,D.currentQuerySelector,new Map);const Be=Li(this,Ss(x.animation),D);return D.currentQuery=null,D.currentQuerySelector=B,{type:11,selector:he,limit:X.limit||0,optional:!!X.optional,includeSelf:Ue,animation:Be,originalSelector:x.selector,options:Wi(x.options)}}visitStagger(x,D){D.currentQuery||D.errors.push(function ei(){return new A.vHH(3013,!1)}());const B="full"===x.timings?{duration:0,delay:0,easing:"full"}:Ji(x.timings,D.errors,!0);return{type:12,animation:Li(this,Ss(x.animation),D),timings:B,options:null}}}class qi{constructor(x){this.errors=x,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wi(K){return K?(K=Ti(K)).params&&(K.params=function Kr(K){return K?Ti(K):null}(K.params)):K={},K}function En(K,x,D){return{duration:K,delay:x,easing:D}}function Hr(K,x,D,B,X,he,Ue=null,Be=!1){return{type:1,element:K,keyframes:x,preStyleProps:D,postStyleProps:B,duration:X,delay:he,totalTime:X+he,easing:Ue,subTimeline:Be}}class to{constructor(){this._map=new Map}get(x){return this._map.get(x)||[]}append(x,D){let B=this._map.get(x);B||this._map.set(x,B=[]),B.push(...D)}has(x){return this._map.has(x)}clear(){this._map.clear()}}const xo=new RegExp(":enter","g"),Us=new RegExp(":leave","g");function fo(K,x,D,B,X,he=new Map,Ue=new Map,Be,Tt,$t=[]){return(new Xo).buildKeyframes(K,x,D,B,X,he,Ue,Be,Tt,$t)}class Xo{buildKeyframes(x,D,B,X,he,Ue,Be,Tt,$t,Nn=[]){$t=$t||new to;const Fn=new go(x,D,$t,X,he,Nn,[]);Fn.options=Tt;const ii=Tt.delay?Vr(Tt.delay):0;Fn.currentTimeline.delayNextStep(ii),Fn.currentTimeline.setStyles([Ue],null,Fn.errors,Tt),Li(this,B,Fn);const Jn=Fn.timelines.filter(rr=>rr.containsAnimation());if(Jn.length&&Be.size){let rr;for(let kr=Jn.length-1;kr>=0;kr--){const Ci=Jn[kr];if(Ci.element===D){rr=Ci;break}}rr&&!rr.allowOnlyTimelineStyles()&&rr.setStyles([Be],null,Fn.errors,Tt)}return Jn.length?Jn.map(rr=>rr.buildKeyframes()):[Hr(D,[],[],[],0,ii,"",!1)]}visitTrigger(x,D){}visitState(x,D){}visitTransition(x,D){}visitAnimateChild(x,D){const B=D.subInstructions.get(D.element);if(B){const X=D.createSubContext(x.options),he=D.currentTimeline.currentTime,Ue=this._visitSubInstructions(B,X,X.options);he!=Ue&&D.transformIntoNewTimeline(Ue)}D.previousNode=x}visitAnimateRef(x,D){const B=D.createSubContext(x.options);B.transformIntoNewTimeline(),this._applyAnimationRefDelays([x.options,x.animation.options],D,B),this.visitReference(x.animation,B),D.transformIntoNewTimeline(B.currentTimeline.currentTime),D.previousNode=x}_applyAnimationRefDelays(x,D,B){for(const X of x){const he=X?.delay;if(he){const Ue="number"==typeof he?he:Vr(yo(he,X?.params??{},D.errors));B.delayNextStep(Ue)}}}_visitSubInstructions(x,D,B){let he=D.currentTimeline.currentTime;const Ue=null!=B.duration?Vr(B.duration):null,Be=null!=B.delay?Vr(B.delay):null;return 0!==Ue&&x.forEach(Tt=>{const $t=D.appendInstructionToTimeline(Tt,Ue,Be);he=Math.max(he,$t.duration+$t.delay)}),he}visitReference(x,D){D.updateOptions(x.options,!0),Li(this,x.animation,D),D.previousNode=x}visitSequence(x,D){const B=D.subContextCount;let X=D;const he=x.options;if(he&&(he.params||he.delay)&&(X=D.createSubContext(he),X.transformIntoNewTimeline(),null!=he.delay)){6==X.previousNode.type&&(X.currentTimeline.snapshotCurrentStyles(),X.previousNode=po);const Ue=Vr(he.delay);X.delayNextStep(Ue)}x.steps.length&&(x.steps.forEach(Ue=>Li(this,Ue,X)),X.currentTimeline.applyStylesToKeyframe(),X.subContextCount>B&&X.transformIntoNewTimeline()),D.previousNode=x}visitGroup(x,D){const B=[];let X=D.currentTimeline.currentTime;const he=x.options&&x.options.delay?Vr(x.options.delay):0;x.steps.forEach(Ue=>{const Be=D.createSubContext(x.options);he&&Be.delayNextStep(he),Li(this,Ue,Be),X=Math.max(X,Be.currentTimeline.currentTime),B.push(Be.currentTimeline)}),B.forEach(Ue=>D.currentTimeline.mergeTimelineCollectedStyles(Ue)),D.transformIntoNewTimeline(X),D.previousNode=x}_visitTiming(x,D){if(x.dynamic){const B=x.strValue;return Ji(D.params?yo(B,D.params,D.errors):B,D.errors)}return{duration:x.duration,delay:x.delay,easing:x.easing}}visitAnimate(x,D){const B=D.currentAnimateTimings=this._visitTiming(x.timings,D),X=D.currentTimeline;B.delay&&(D.incrementTime(B.delay),X.snapshotCurrentStyles());const he=x.style;5==he.type?this.visitKeyframes(he,D):(D.incrementTime(B.duration),this.visitStyle(he,D),X.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=x}visitStyle(x,D){const B=D.currentTimeline,X=D.currentAnimateTimings;!X&&B.hasCurrentStyleProperties()&&B.forwardFrame();const he=X&&X.easing||x.easing;x.isEmptyStep?B.applyEmptyStep(he):B.setStyles(x.styles,he,D.errors,D.options),D.previousNode=x}visitKeyframes(x,D){const B=D.currentAnimateTimings,X=D.currentTimeline.duration,he=B.duration,Be=D.createSubContext().currentTimeline;Be.easing=B.easing,x.styles.forEach(Tt=>{Be.forwardTime((Tt.offset||0)*he),Be.setStyles(Tt.styles,Tt.easing,D.errors,D.options),Be.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(Be),D.transformIntoNewTimeline(X+he),D.previousNode=x}visitQuery(x,D){const B=D.currentTimeline.currentTime,X=x.options||{},he=X.delay?Vr(X.delay):0;he&&(6===D.previousNode.type||0==B&&D.currentTimeline.hasCurrentStyleProperties())&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=po);let Ue=B;const Be=D.invokeQuery(x.selector,x.originalSelector,x.limit,x.includeSelf,!!X.optional,D.errors);D.currentQueryTotal=Be.length;let Tt=null;Be.forEach(($t,Nn)=>{D.currentQueryIndex=Nn;const Fn=D.createSubContext(x.options,$t);he&&Fn.delayNextStep(he),$t===D.element&&(Tt=Fn.currentTimeline),Li(this,x.animation,Fn),Fn.currentTimeline.applyStylesToKeyframe(),Ue=Math.max(Ue,Fn.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(Ue),Tt&&(D.currentTimeline.mergeTimelineCollectedStyles(Tt),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=x}visitStagger(x,D){const B=D.parentContext,X=D.currentTimeline,he=x.timings,Ue=Math.abs(he.duration),Be=Ue*(D.currentQueryTotal-1);let Tt=Ue*D.currentQueryIndex;switch(he.duration<0?"reverse":he.easing){case"reverse":Tt=Be-Tt;break;case"full":Tt=B.currentStaggerTime}const Nn=D.currentTimeline;Tt&&Nn.delayNextStep(Tt);const Fn=Nn.currentTime;Li(this,x.animation,D),D.previousNode=x,B.currentStaggerTime=X.currentTime-Fn+(X.startTime-B.currentTimeline.startTime)}}const po={};class go{constructor(x,D,B,X,he,Ue,Be,Tt){this._driver=x,this.element=D,this.subInstructions=B,this._enterClassName=X,this._leaveClassName=he,this.errors=Ue,this.timelines=Be,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=po,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Tt||new oo(this._driver,D,0),Be.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(x,D){if(!x)return;const B=x;let X=this.options;null!=B.duration&&(X.duration=Vr(B.duration)),null!=B.delay&&(X.delay=Vr(B.delay));const he=B.params;if(he){let Ue=X.params;Ue||(Ue=this.options.params={}),Object.keys(he).forEach(Be=>{(!D||!Ue.hasOwnProperty(Be))&&(Ue[Be]=yo(he[Be],Ue,this.errors))})}}_copyOptions(){const x={};if(this.options){const D=this.options.params;if(D){const B=x.params={};Object.keys(D).forEach(X=>{B[X]=D[X]})}}return x}createSubContext(x=null,D,B){const X=D||this.element,he=new go(this._driver,X,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(X,B||0));return he.previousNode=this.previousNode,he.currentAnimateTimings=this.currentAnimateTimings,he.options=this._copyOptions(),he.updateOptions(x),he.currentQueryIndex=this.currentQueryIndex,he.currentQueryTotal=this.currentQueryTotal,he.parentContext=this,this.subContextCount++,he}transformIntoNewTimeline(x){return this.previousNode=po,this.currentTimeline=this.currentTimeline.fork(this.element,x),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(x,D,B){const X={duration:D??x.duration,delay:this.currentTimeline.currentTime+(B??0)+x.delay,easing:""},he=new ha(this._driver,x.element,x.keyframes,x.preStyleProps,x.postStyleProps,X,x.stretchStartingKeyframe);return this.timelines.push(he),X}incrementTime(x){this.currentTimeline.forwardTime(this.currentTimeline.duration+x)}delayNextStep(x){x>0&&this.currentTimeline.delayNextStep(x)}invokeQuery(x,D,B,X,he,Ue){let Be=[];if(X&&Be.push(this.element),x.length>0){x=(x=x.replace(xo,"."+this._enterClassName)).replace(Us,"."+this._leaveClassName);let $t=this._driver.query(this.element,x,1!=B);0!==B&&($t=B<0?$t.slice($t.length+B,$t.length):$t.slice(0,B)),Be.push(...$t)}return!he&&0==Be.length&&Ue.push(function lr(K){return new A.vHH(3014,!1)}()),Be}}class oo{constructor(x,D,B,X){this._driver=x,this.element=D,this.startTime=B,this._elementTimelineStylesLookup=X,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(x){const D=1===this._keyframes.size&&this._pendingStyles.size;this.duration||D?(this.forwardTime(this.currentTime+x),D&&this.snapshotCurrentStyles()):this.startTime+=x}fork(x,D){return this.applyStylesToKeyframe(),new oo(this._driver,x,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(x){this.applyStylesToKeyframe(),this.duration=x,this._loadKeyframe()}_updateStyle(x,D){this._localTimelineStyles.set(x,D),this._globalTimelineStyles.set(x,D),this._styleSummary.set(x,{time:this.currentTime,value:D})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(x){x&&this._previousKeyframe.set("easing",x);for(let[D,B]of this._globalTimelineStyles)this._backFill.set(D,B||Zt.l3),this._currentKeyframe.set(D,Zt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(x,D,B,X){D&&this._previousKeyframe.set("easing",D);const he=X&&X.params||{},Ue=function Po(K,x){const D=new Map;let B;return K.forEach(X=>{if("*"===X){B=B||x.keys();for(let he of B)D.set(he,Zt.l3)}else Qs(X,D)}),D}(x,this._globalTimelineStyles);for(let[Be,Tt]of Ue){const $t=yo(Tt,he,B);this._pendingStyles.set(Be,$t),this._localTimelineStyles.has(Be)||this._backFill.set(Be,this._globalTimelineStyles.get(Be)??Zt.l3),this._updateStyle(Be,$t)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((x,D)=>{this._currentKeyframe.set(D,x)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((x,D)=>{this._currentKeyframe.has(D)||this._currentKeyframe.set(D,x)}))}snapshotCurrentStyles(){for(let[x,D]of this._localTimelineStyles)this._pendingStyles.set(x,D),this._updateStyle(x,D)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const x=[];for(let D in this._currentKeyframe)x.push(D);return x}mergeTimelineCollectedStyles(x){x._styleSummary.forEach((D,B)=>{const X=this._styleSummary.get(B);(!X||D.time>X.time)&&this._updateStyle(B,D.value)})}buildKeyframes(){this.applyStylesToKeyframe();const x=new Set,D=new Set,B=1===this._keyframes.size&&0===this.duration;let X=[];this._keyframes.forEach((Be,Tt)=>{const $t=Qs(Be,new Map,this._backFill);$t.forEach((Nn,Fn)=>{Nn===Zt.k1?x.add(Fn):Nn===Zt.l3&&D.add(Fn)}),B||$t.set("offset",Tt/this.duration),X.push($t)});const he=x.size?Xs(x.values()):[],Ue=D.size?Xs(D.values()):[];if(B){const Be=X[0],Tt=new Map(Be);Be.set("offset",0),Tt.set("offset",1),X=[Be,Tt]}return Hr(this.element,X,he,Ue,this.duration,this.startTime,this.easing,!1)}}class ha extends oo{constructor(x,D,B,X,he,Ue,Be=!1){super(x,D,Ue.delay),this.keyframes=B,this.preStyleProps=X,this.postStyleProps=he,this._stretchStartingKeyframe=Be,this.timings={duration:Ue.duration,delay:Ue.delay,easing:Ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let x=this.keyframes,{delay:D,duration:B,easing:X}=this.timings;if(this._stretchStartingKeyframe&&D){const he=[],Ue=B+D,Be=D/Ue,Tt=Qs(x[0]);Tt.set("offset",0),he.push(Tt);const $t=Qs(x[0]);$t.set("offset",Gr(Be)),he.push($t);const Nn=x.length-1;for(let Fn=1;Fn<=Nn;Fn++){let ii=Qs(x[Fn]);const Jn=ii.get("offset");ii.set("offset",Gr((D+Jn*B)/Ue)),he.push(ii)}B=Ue,D=0,X="",x=he}return Hr(this.element,x,this.preStyleProps,this.postStyleProps,B,D,X,!0)}}function Gr(K,x=3){const D=Math.pow(10,x-1);return Math.round(K*D)/D}class Wo{}const Ia=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class is extends Wo{normalizePropertyName(x,D){return ho(x)}normalizeStyleValue(x,D,B,X){let he="";const Ue=B.toString().trim();if(Ia.has(D)&&0!==B&&"0"!==B)if("number"==typeof B)he="px";else{const Be=B.match(/^[+-]?[\d\.]+([a-z]*)$/);Be&&0==Be[1].length&&X.push(function as(K,x){return new A.vHH(3005,!1)}())}return Ue+he}}function bo(K,x,D,B,X,he,Ue,Be,Tt,$t,Nn,Fn,ii){return{type:0,element:K,triggerName:x,isRemovalTransition:X,fromState:D,fromStyles:he,toState:B,toStyles:Ue,timelines:Be,queriedElements:Tt,preStyleProps:$t,postStyleProps:Nn,totalTime:Fn,errors:ii}}const Zi={};class ka{constructor(x,D,B){this._triggerName=x,this.ast=D,this._stateStyles=B}match(x,D,B,X){return function ie(K,x,D,B,X){return K.some(he=>he(x,D,B,X))}(this.ast.matchers,x,D,B,X)}buildStyles(x,D,B){let X=this._stateStyles.get("*");return void 0!==x&&(X=this._stateStyles.get(x?.toString())||X),X?X.buildStyles(D,B):new Map}build(x,D,B,X,he,Ue,Be,Tt,$t,Nn){const Fn=[],ii=this.ast.options&&this.ast.options.params||Zi,rr=this.buildStyles(B,Be&&Be.params||Zi,Fn),kr=Tt&&Tt.params||Zi,Ci=this.buildStyles(X,kr,Fn),fs=new Set,Yn=new Map,Ws=new Map,Cs="void"===X,ga={params:se(kr,ii),delay:this.ast.options?.delay},To=Nn?[]:fo(x,D,this.ast.animation,he,Ue,rr,Ci,ga,$t,Fn);let Io=0;if(To.forEach(wo=>{Io=Math.max(wo.duration+wo.delay,Io)}),Fn.length)return bo(D,this._triggerName,B,X,Cs,rr,Ci,[],[],Yn,Ws,Io,Fn);To.forEach(wo=>{const Da=wo.element,Ba=br(Yn,Da,new Set);wo.preStyleProps.forEach(hs=>Ba.add(hs));const Za=br(Ws,Da,new Set);wo.postStyleProps.forEach(hs=>Za.add(hs)),Da!==D&&fs.add(Da)});const sa=Xs(fs.values());return bo(D,this._triggerName,B,X,Cs,rr,Ci,To,sa,Yn,Ws,Io)}}function se(K,x){const D=Ti(x);for(const B in K)K.hasOwnProperty(B)&&null!=K[B]&&(D[B]=K[B]);return D}class Re{constructor(x,D,B){this.styles=x,this.defaultParams=D,this.normalizer=B}buildStyles(x,D){const B=new Map,X=Ti(this.defaultParams);return Object.keys(x).forEach(he=>{const Ue=x[he];null!==Ue&&(X[he]=Ue)}),this.styles.styles.forEach(he=>{"string"!=typeof he&&he.forEach((Ue,Be)=>{Ue&&(Ue=yo(Ue,X,D));const Tt=this.normalizer.normalizePropertyName(Be,D);Ue=this.normalizer.normalizeStyleValue(Be,Tt,Ue,D),B.set(Be,Ue)})}),B}}class ct{constructor(x,D,B){this.name=x,this.ast=D,this._normalizer=B,this.transitionFactories=[],this.states=new Map,D.states.forEach(X=>{this.states.set(X.name,new Re(X.style,X.options&&X.options.params||{},B))}),q(this.states,"true","1"),q(this.states,"false","0"),D.transitions.forEach(X=>{this.transitionFactories.push(new ka(x,X,this.states))}),this.fallbackTransition=function Gt(K,x,D){return new ka(K,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ue,Be)=>!0],options:null,queryCount:0,depCount:0},x)}(x,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(x,D,B,X){return this.transitionFactories.find(Ue=>Ue.match(x,D,B,X))||null}matchStyles(x,D,B){return this.fallbackTransition.buildStyles(x,D,B)}}function q(K,x,D){K.has(x)?K.has(D)||K.set(D,K.get(x)):K.has(D)&&K.set(x,K.get(D))}const Y=new to;class z{constructor(x,D,B){this.bodyNode=x,this._driver=D,this._normalizer=B,this._animations=new Map,this._playersById=new Map,this.players=[]}register(x,D){const B=[],he=nr(this._driver,D,B,[]);if(B.length)throw function ae(K){return new A.vHH(3503,!1)}();this._animations.set(x,he)}_buildPlayer(x,D,B){const X=x.element,he=Bt(this._normalizer,x.keyframes,D,B);return this._driver.animate(X,he,x.duration,x.delay,x.easing,[],!0)}create(x,D,B={}){const X=[],he=this._animations.get(x);let Ue;const Be=new Map;if(he?(Ue=fo(this._driver,D,he,Mn,rn,new Map,new Map,B,Y,X),Ue.forEach(Nn=>{const Fn=br(Be,Nn.element,new Map);Nn.postStyleProps.forEach(ii=>Fn.set(ii,null))})):(X.push(function Ee(){return new A.vHH(3300,!1)}()),Ue=[]),X.length)throw function Se(K){return new A.vHH(3504,!1)}();Be.forEach((Nn,Fn)=>{Nn.forEach((ii,Jn)=>{Nn.set(Jn,this._driver.computeStyle(Fn,Jn,Zt.l3))})});const $t=Ge(Ue.map(Nn=>{const Fn=Be.get(Nn.element);return this._buildPlayer(Nn,new Map,Fn)}));return this._playersById.set(x,$t),$t.onDestroy(()=>this.destroy(x)),this.players.push($t),$t}destroy(x){const D=this._getPlayer(x);D.destroy(),this._playersById.delete(x);const B=this.players.indexOf(D);B>=0&&this.players.splice(B,1)}_getPlayer(x){const D=this._playersById.get(x);if(!D)throw function Nt(K){return new A.vHH(3301,!1)}();return D}listen(x,D,B,X){const he=fn(D,"","","");return cn(this._getPlayer(x),B,he,X),()=>{}}command(x,D,B,X){if("register"==B)return void this.register(x,X[0]);if("create"==B)return void this.create(x,D,X[0]||{});const he=this._getPlayer(x);switch(B){case"play":he.play();break;case"pause":he.pause();break;case"reset":he.reset();break;case"restart":he.restart();break;case"finish":he.finish();break;case"init":he.init();break;case"setPosition":he.setPosition(parseFloat(X[0]));break;case"destroy":this.destroy(x)}}}const ue="ng-animate-queued",yn="ng-animate-disabled",Bi=[],ji={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ki="__ng_removed";class ni{get params(){return this.options.params}constructor(x,D=""){this.namespaceId=D;const B=x&&x.hasOwnProperty("value");if(this.value=function Pl(K){return K??null}(B?x.value:x),B){const he=Ti(x);delete he.value,this.options=he}else this.options={};this.options.params||(this.options.params={})}absorbOptions(x){const D=x.params;if(D){const B=this.options.params;Object.keys(D).forEach(X=>{null==B[X]&&(B[X]=D[X])})}}}const Hi="void",us=new ni(Hi);class ea{constructor(x,D,B){this.id=x,this.hostElement=D,this._engine=B,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+x,wi(D,this._hostClassName)}listen(x,D,B,X){if(!this._triggers.has(D))throw function tn(K,x){return new A.vHH(3302,!1)}();if(null==B||0==B.length)throw function Dn(K){return new A.vHH(3303,!1)}();if(!function Fa(K){return"start"==K||"done"==K}(B))throw function pr(K,x){return new A.vHH(3400,!1)}();const he=br(this._elementListeners,x,[]),Ue={name:D,phase:B,callback:X};he.push(Ue);const Be=br(this._engine.statesByElement,x,new Map);return Be.has(D)||(wi(x,Un),wi(x,Un+"-"+D),Be.set(D,us)),()=>{this._engine.afterFlush(()=>{const Tt=he.indexOf(Ue);Tt>=0&&he.splice(Tt,1),this._triggers.has(D)||Be.delete(D)})}}register(x,D){return!this._triggers.has(x)&&(this._triggers.set(x,D),!0)}_getTrigger(x){const D=this._triggers.get(x);if(!D)throw function sr(K){return new A.vHH(3401,!1)}();return D}trigger(x,D,B,X=!0){const he=this._getTrigger(D),Ue=new Zo(this.id,D,x);let Be=this._engine.statesByElement.get(x);Be||(wi(x,Un),wi(x,Un+"-"+D),this._engine.statesByElement.set(x,Be=new Map));let Tt=Be.get(D);const $t=new ni(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&Tt&&$t.absorbOptions(Tt.options),Be.set(D,$t),Tt||(Tt=us),$t.value!==Hi&&Tt.value===$t.value){if(!function pl(K,x){const D=Object.keys(K),B=Object.keys(x);if(D.length!=B.length)return!1;for(let X=0;X<D.length;X++){const he=D[X];if(!x.hasOwnProperty(he)||K[he]!==x[he])return!1}return!0}(Tt.params,$t.params)){const kr=[],Ci=he.matchStyles(Tt.value,Tt.params,kr),fs=he.matchStyles($t.value,$t.params,kr);kr.length?this._engine.reportError(kr):this._engine.afterFlush(()=>{ti(x,Ci),rs(x,fs)})}return}const ii=br(this._engine.playersByElement,x,[]);ii.forEach(kr=>{kr.namespaceId==this.id&&kr.triggerName==D&&kr.queued&&kr.destroy()});let Jn=he.matchTransition(Tt.value,$t.value,x,$t.params),rr=!1;if(!Jn){if(!X)return;Jn=he.fallbackTransition,rr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:x,triggerName:D,transition:Jn,fromState:Tt,toState:$t,player:Ue,isFallbackTransition:rr}),rr||(wi(x,ue),Ue.onStart(()=>{qs(x,ue)})),Ue.onDone(()=>{let kr=this.players.indexOf(Ue);kr>=0&&this.players.splice(kr,1);const Ci=this._engine.playersByElement.get(x);if(Ci){let fs=Ci.indexOf(Ue);fs>=0&&Ci.splice(fs,1)}}),this.players.push(Ue),ii.push(Ue),Ue}deregister(x){this._triggers.delete(x),this._engine.statesByElement.forEach(D=>D.delete(x)),this._elementListeners.forEach((D,B)=>{this._elementListeners.set(B,D.filter(X=>X.name!=x))})}clearElementCache(x){this._engine.statesByElement.delete(x),this._elementListeners.delete(x);const D=this._engine.playersByElement.get(x);D&&(D.forEach(B=>B.destroy()),this._engine.playersByElement.delete(x))}_signalRemovalForInnerTriggers(x,D){const B=this._engine.driver.query(x,Wn,!0);B.forEach(X=>{if(X[Ki])return;const he=this._engine.fetchNamespacesByElement(X);he.size?he.forEach(Ue=>Ue.triggerLeaveAnimation(X,D,!1,!0)):this.clearElementCache(X)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(X=>this.clearElementCache(X)))}triggerLeaveAnimation(x,D,B,X){const he=this._engine.statesByElement.get(x),Ue=new Map;if(he){const Be=[];if(he.forEach((Tt,$t)=>{if(Ue.set($t,Tt.value),this._triggers.has($t)){const Nn=this.trigger(x,$t,Hi,X);Nn&&Be.push(Nn)}}),Be.length)return this._engine.markElementAsRemoved(this.id,x,!0,D,Ue),B&&Ge(Be).onDone(()=>this._engine.processLeaveNode(x)),!0}return!1}prepareLeaveAnimationListeners(x){const D=this._elementListeners.get(x),B=this._engine.statesByElement.get(x);if(D&&B){const X=new Set;D.forEach(he=>{const Ue=he.name;if(X.has(Ue))return;X.add(Ue);const Tt=this._triggers.get(Ue).fallbackTransition,$t=B.get(Ue)||us,Nn=new ni(Hi),Fn=new Zo(this.id,Ue,x);this._engine.totalQueuedPlayers++,this._queue.push({element:x,triggerName:Ue,transition:Tt,fromState:$t,toState:Nn,player:Fn,isFallbackTransition:!0})})}}removeNode(x,D){const B=this._engine;if(x.childElementCount&&this._signalRemovalForInnerTriggers(x,D),this.triggerLeaveAnimation(x,D,!0))return;let X=!1;if(B.totalAnimations){const he=B.players.length?B.playersByQueriedElement.get(x):[];if(he&&he.length)X=!0;else{let Ue=x;for(;Ue=Ue.parentNode;)if(B.statesByElement.get(Ue)){X=!0;break}}}if(this.prepareLeaveAnimationListeners(x),X)B.markElementAsRemoved(this.id,x,!1,D);else{const he=x[Ki];(!he||he===ji)&&(B.afterFlush(()=>this.clearElementCache(x)),B.destroyInnerAnimations(x),B._onRemovalComplete(x,D))}}insertNode(x,D){wi(x,this._hostClassName)}drainQueuedTransitions(x){const D=[];return this._queue.forEach(B=>{const X=B.player;if(X.destroyed)return;const he=B.element,Ue=this._elementListeners.get(he);Ue&&Ue.forEach(Be=>{if(Be.name==B.triggerName){const Tt=fn(he,B.triggerName,B.fromState.value,B.toState.value);Tt._data=x,cn(B.player,Be.phase,Tt,Be.callback)}}),X.markedForDestroy?this._engine.afterFlush(()=>{X.destroy()}):D.push(B)}),this._queue=[],D.sort((B,X)=>{const he=B.transition.ast.depCount,Ue=X.transition.ast.depCount;return 0==he||0==Ue?he-Ue:this._engine.driver.containsElement(B.element,X.element)?1:-1})}destroy(x){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,x)}}class Eo{_onRemovalComplete(x,D){this.onRemovalComplete(x,D)}constructor(x,D,B){this.bodyNode=x,this.driver=D,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(X,he)=>{}}get queuedPlayers(){const x=[];return this._namespaceList.forEach(D=>{D.players.forEach(B=>{B.queued&&x.push(B)})}),x}createNamespace(x,D){const B=new ea(x,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(B,D):(this.newHostElements.set(D,B),this.collectEnterElement(D)),this._namespaceLookup[x]=B}_balanceNamespaceList(x,D){const B=this._namespaceList,X=this.namespacesByHostElement;if(B.length-1>=0){let Ue=!1,Be=this.driver.getParentElement(D);for(;Be;){const Tt=X.get(Be);if(Tt){const $t=B.indexOf(Tt);B.splice($t+1,0,x),Ue=!0;break}Be=this.driver.getParentElement(Be)}Ue||B.unshift(x)}else B.push(x);return X.set(D,x),x}register(x,D){let B=this._namespaceLookup[x];return B||(B=this.createNamespace(x,D)),B}registerTrigger(x,D,B){let X=this._namespaceLookup[x];X&&X.register(D,B)&&this.totalAnimations++}destroy(x,D){x&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const B=this._fetchNamespace(x);this.namespacesByHostElement.delete(B.hostElement);const X=this._namespaceList.indexOf(B);X>=0&&this._namespaceList.splice(X,1),B.destroy(D),delete this._namespaceLookup[x]}))}_fetchNamespace(x){return this._namespaceLookup[x]}fetchNamespacesByElement(x){const D=new Set,B=this.statesByElement.get(x);if(B)for(let X of B.values())if(X.namespaceId){const he=this._fetchNamespace(X.namespaceId);he&&D.add(he)}return D}trigger(x,D,B,X){if(Bo(D)){const he=this._fetchNamespace(x);if(he)return he.trigger(D,B,X),!0}return!1}insertNode(x,D,B,X){if(!Bo(D))return;const he=D[Ki];if(he&&he.setForRemoval){he.setForRemoval=!1,he.setForMove=!0;const Ue=this.collectedLeaveElements.indexOf(D);Ue>=0&&this.collectedLeaveElements.splice(Ue,1)}if(x){const Ue=this._fetchNamespace(x);Ue&&Ue.insertNode(D,B)}X&&this.collectEnterElement(D)}collectEnterElement(x){this.collectedEnterElements.push(x)}markElementAsDisabled(x,D){D?this.disabledNodes.has(x)||(this.disabledNodes.add(x),wi(x,yn)):this.disabledNodes.has(x)&&(this.disabledNodes.delete(x),qs(x,yn))}removeNode(x,D,B){if(Bo(D)){const X=x?this._fetchNamespace(x):null;X?X.removeNode(D,B):this.markElementAsRemoved(x,D,!1,B);const he=this.namespacesByHostElement.get(D);he&&he.id!==x&&he.removeNode(D,B)}else this._onRemovalComplete(D,B)}markElementAsRemoved(x,D,B,X,he){this.collectedLeaveElements.push(D),D[Ki]={namespaceId:x,setForRemoval:X,hasAnimation:B,removedBeforeQueried:!1,previousTriggersValues:he}}listen(x,D,B,X,he){return Bo(D)?this._fetchNamespace(x).listen(D,B,X,he):()=>{}}_buildInstruction(x,D,B,X,he){return x.transition.build(this.driver,x.element,x.fromState.value,x.toState.value,B,X,x.fromState.options,x.toState.options,D,he)}destroyInnerAnimations(x){let D=this.driver.query(x,Wn,!0);D.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(x,ki,!0),D.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(x){const D=this.playersByElement.get(x);D&&D.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(x){const D=this.playersByQueriedElement.get(x);D&&D.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(x=>{if(this.players.length)return Ge(this.players).onDone(()=>x());x()})}processLeaveNode(x){const D=x[Ki];if(D&&D.setForRemoval){if(x[Ki]=ji,D.namespaceId){this.destroyInnerAnimations(x);const B=this._fetchNamespace(D.namespaceId);B&&B.clearElementCache(x)}this._onRemovalComplete(x,D.setForRemoval)}x.classList?.contains(yn)&&this.markElementAsDisabled(x,!1),this.driver.query(x,".ng-animate-disabled",!0).forEach(B=>{this.markElementAsDisabled(B,!1)})}flush(x=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,X)=>this._balanceNamespaceList(B,X)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)wi(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{D=this._flushAnimations(B,x)}finally{for(let X=0;X<B.length;X++)B[X]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],D.length?Ge(D).onDone(()=>{B.forEach(X=>X())}):B.forEach(X=>X())}}reportError(x){throw function gr(K){return new A.vHH(3402,!1)}()}_flushAnimations(x,D){const B=new to,X=[],he=new Map,Ue=[],Be=new Map,Tt=new Map,$t=new Map,Nn=new Set;this.disabledNodes.forEach(mn=>{Nn.add(mn);const yr=this.driver.query(mn,".ng-animate-queued",!0);for(let Lr=0;Lr<yr.length;Lr++)Nn.add(yr[Lr])});const Fn=this.bodyNode,ii=Array.from(this.statesByElement.keys()),Jn=La(ii,this.collectedEnterElements),rr=new Map;let kr=0;Jn.forEach((mn,yr)=>{const Lr=Mn+kr++;rr.set(yr,Lr),mn.forEach(cr=>wi(cr,Lr))});const Ci=[],fs=new Set,Yn=new Set;for(let mn=0;mn<this.collectedLeaveElements.length;mn++){const yr=this.collectedLeaveElements[mn],Lr=yr[Ki];Lr&&Lr.setForRemoval&&(Ci.push(yr),fs.add(yr),Lr.hasAnimation?this.driver.query(yr,".ng-star-inserted",!0).forEach(cr=>fs.add(cr)):Yn.add(yr))}const Ws=new Map,Cs=La(ii,Array.from(fs));Cs.forEach((mn,yr)=>{const Lr=rn+kr++;Ws.set(yr,Lr),mn.forEach(cr=>wi(cr,Lr))}),x.push(()=>{Jn.forEach((mn,yr)=>{const Lr=rr.get(yr);mn.forEach(cr=>qs(cr,Lr))}),Cs.forEach((mn,yr)=>{const Lr=Ws.get(yr);mn.forEach(cr=>qs(cr,Lr))}),Ci.forEach(mn=>{this.processLeaveNode(mn)})});const ga=[],To=[];for(let mn=this._namespaceList.length-1;mn>=0;mn--)this._namespaceList[mn].drainQueuedTransitions(D).forEach(Lr=>{const cr=Lr.player,Ns=Lr.element;if(ga.push(cr),this.collectedEnterElements.length){const Zs=Ns[Ki];if(Zs&&Zs.setForMove){if(Zs.previousTriggersValues&&Zs.previousTriggersValues.has(Lr.triggerName)){const Xi=Zs.previousTriggersValues.get(Lr.triggerName),As=this.statesByElement.get(Lr.element);if(As&&As.has(Lr.triggerName)){const Ya=As.get(Lr.triggerName);Ya.value=Xi,As.set(Lr.triggerName,Ya)}}return void cr.destroy()}}const Oo=!Fn||!this.driver.containsElement(Fn,Ns),es=Ws.get(Ns),ro=rr.get(Ns),Ai=this._buildInstruction(Lr,B,ro,es,Oo);if(Ai.errors&&Ai.errors.length)return void To.push(Ai);if(Oo)return cr.onStart(()=>ti(Ns,Ai.fromStyles)),cr.onDestroy(()=>rs(Ns,Ai.toStyles)),void X.push(cr);if(Lr.isFallbackTransition)return cr.onStart(()=>ti(Ns,Ai.fromStyles)),cr.onDestroy(()=>rs(Ns,Ai.toStyles)),void X.push(cr);const Ka=[];Ai.timelines.forEach(Zs=>{Zs.stretchStartingKeyframe=!0,this.disabledNodes.has(Zs.element)||Ka.push(Zs)}),Ai.timelines=Ka,B.append(Ns,Ai.timelines),Ue.push({instruction:Ai,player:cr,element:Ns}),Ai.queriedElements.forEach(Zs=>br(Be,Zs,[]).push(cr)),Ai.preStyleProps.forEach((Zs,Xi)=>{if(Zs.size){let As=Tt.get(Xi);As||Tt.set(Xi,As=new Set),Zs.forEach((Ya,ma)=>As.add(ma))}}),Ai.postStyleProps.forEach((Zs,Xi)=>{let As=$t.get(Xi);As||$t.set(Xi,As=new Set),Zs.forEach((Ya,ma)=>As.add(ma))})});if(To.length){const mn=[];To.forEach(yr=>{mn.push(function lt(K,x){return new A.vHH(3505,!1)}())}),ga.forEach(yr=>yr.destroy()),this.reportError(mn)}const Io=new Map,sa=new Map;Ue.forEach(mn=>{const yr=mn.element;B.has(yr)&&(sa.set(yr,yr),this._beforeAnimationBuild(mn.player.namespaceId,mn.instruction,Io))}),X.forEach(mn=>{const yr=mn.element;this._getPreviousPlayers(yr,!1,mn.namespaceId,mn.triggerName,null).forEach(cr=>{br(Io,yr,[]).push(cr),cr.destroy()})});const wo=Ci.filter(mn=>Wa(mn,Tt,$t)),Da=new Map;qr(Da,this.driver,Yn,$t,Zt.l3).forEach(mn=>{Wa(mn,Tt,$t)&&wo.push(mn)});const Za=new Map;Jn.forEach((mn,yr)=>{qr(Za,this.driver,new Set(mn),Tt,Zt.k1)}),wo.forEach(mn=>{const yr=Da.get(mn),Lr=Za.get(mn);Da.set(mn,new Map([...yr?.entries()??[],...Lr?.entries()??[]]))});const hs=[],ic=[],sn={};Ue.forEach(mn=>{const{element:yr,player:Lr,instruction:cr}=mn;if(B.has(yr)){if(Nn.has(yr))return Lr.onDestroy(()=>rs(yr,cr.toStyles)),Lr.disabled=!0,Lr.overrideTotalTime(cr.totalTime),void X.push(Lr);let Ns=sn;if(sa.size>1){let es=yr;const ro=[];for(;es=es.parentNode;){const Ai=sa.get(es);if(Ai){Ns=Ai;break}ro.push(es)}ro.forEach(Ai=>sa.set(Ai,Ns))}const Oo=this._buildAnimation(Lr.namespaceId,cr,Io,he,Za,Da);if(Lr.setRealPlayer(Oo),Ns===sn)hs.push(Lr);else{const es=this.playersByElement.get(Ns);es&&es.length&&(Lr.parentPlayer=Ge(es)),X.push(Lr)}}else ti(yr,cr.fromStyles),Lr.onDestroy(()=>rs(yr,cr.toStyles)),ic.push(Lr),Nn.has(yr)&&X.push(Lr)}),ic.forEach(mn=>{const yr=he.get(mn.element);if(yr&&yr.length){const Lr=Ge(yr);mn.setRealPlayer(Lr)}}),X.forEach(mn=>{mn.parentPlayer?mn.syncPlayerEvents(mn.parentPlayer):mn.destroy()});for(let mn=0;mn<Ci.length;mn++){const yr=Ci[mn],Lr=yr[Ki];if(qs(yr,rn),Lr&&Lr.hasAnimation)continue;let cr=[];if(Be.size){let Oo=Be.get(yr);Oo&&Oo.length&&cr.push(...Oo);let es=this.driver.query(yr,ki,!0);for(let ro=0;ro<es.length;ro++){let Ai=Be.get(es[ro]);Ai&&Ai.length&&cr.push(...Ai)}}const Ns=cr.filter(Oo=>!Oo.destroyed);Ns.length?ao(this,yr,Ns):this.processLeaveNode(yr)}return Ci.length=0,hs.forEach(mn=>{this.players.push(mn),mn.onDone(()=>{mn.destroy();const yr=this.players.indexOf(mn);this.players.splice(yr,1)}),mn.play()}),hs}afterFlush(x){this._flushFns.push(x)}afterFlushAnimationsDone(x){this._whenQuietFns.push(x)}_getPreviousPlayers(x,D,B,X,he){let Ue=[];if(D){const Be=this.playersByQueriedElement.get(x);Be&&(Ue=Be)}else{const Be=this.playersByElement.get(x);if(Be){const Tt=!he||he==Hi;Be.forEach($t=>{$t.queued||!Tt&&$t.triggerName!=X||Ue.push($t)})}}return(B||X)&&(Ue=Ue.filter(Be=>!(B&&B!=Be.namespaceId||X&&X!=Be.triggerName))),Ue}_beforeAnimationBuild(x,D,B){const he=D.element,Ue=D.isRemovalTransition?void 0:x,Be=D.isRemovalTransition?void 0:D.triggerName;for(const Tt of D.timelines){const $t=Tt.element,Nn=$t!==he,Fn=br(B,$t,[]);this._getPreviousPlayers($t,Nn,Ue,Be,D.toState).forEach(Jn=>{const rr=Jn.getRealPlayer();rr.beforeDestroy&&rr.beforeDestroy(),Jn.destroy(),Fn.push(Jn)})}ti(he,D.fromStyles)}_buildAnimation(x,D,B,X,he,Ue){const Be=D.triggerName,Tt=D.element,$t=[],Nn=new Set,Fn=new Set,ii=D.timelines.map(rr=>{const kr=rr.element;Nn.add(kr);const Ci=kr[Ki];if(Ci&&Ci.removedBeforeQueried)return new Zt.ZN(rr.duration,rr.delay);const fs=kr!==Tt,Yn=function nl(K){const x=[];return Va(K,x),x}((B.get(kr)||Bi).map(Io=>Io.getRealPlayer())).filter(Io=>!!Io.element&&Io.element===kr),Ws=he.get(kr),Cs=Ue.get(kr),ga=Bt(this._normalizer,rr.keyframes,Ws,Cs),To=this._buildPlayer(rr,ga,Yn);if(rr.subTimeline&&X&&Fn.add(kr),fs){const Io=new Zo(x,Be,kr);Io.setRealPlayer(To),$t.push(Io)}return To});$t.forEach(rr=>{br(this.playersByQueriedElement,rr.element,[]).push(rr),rr.onDone(()=>function Ms(K,x,D){let B=K.get(x);if(B){if(B.length){const X=B.indexOf(D);B.splice(X,1)}0==B.length&&K.delete(x)}return B}(this.playersByQueriedElement,rr.element,rr))}),Nn.forEach(rr=>wi(rr,Or));const Jn=Ge(ii);return Jn.onDestroy(()=>{Nn.forEach(rr=>qs(rr,Or)),rs(Tt,D.toStyles)}),Fn.forEach(rr=>{br(X,rr,[]).push(Jn)}),Jn}_buildPlayer(x,D,B){return D.length>0?this.driver.animate(x.element,D,x.duration,x.delay,x.easing,B):new Zt.ZN(x.duration,x.delay)}}class Zo{constructor(x,D,B){this.namespaceId=x,this.triggerName=D,this.element=B,this._player=new Zt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(x){this._containsRealPlayer||(this._player=x,this._queuedCallbacks.forEach((D,B)=>{D.forEach(X=>cn(x,B,void 0,X))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(x.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(x){this.totalTime=x}syncPlayerEvents(x){const D=this._player;D.triggerCallback&&x.onStart(()=>D.triggerCallback("start")),x.onDone(()=>this.finish()),x.onDestroy(()=>this.destroy())}_queueEvent(x,D){br(this._queuedCallbacks,x,[]).push(D)}onDone(x){this.queued&&this._queueEvent("done",x),this._player.onDone(x)}onStart(x){this.queued&&this._queueEvent("start",x),this._player.onStart(x)}onDestroy(x){this.queued&&this._queueEvent("destroy",x),this._player.onDestroy(x)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(x){this.queued||this._player.setPosition(x)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(x){const D=this._player;D.triggerCallback&&D.triggerCallback(x)}}function Bo(K){return K&&1===K.nodeType}function Ro(K,x){const D=K.style.display;return K.style.display=x??"none",D}function qr(K,x,D,B,X){const he=[];D.forEach(Tt=>he.push(Ro(Tt)));const Ue=[];B.forEach((Tt,$t)=>{const Nn=new Map;Tt.forEach(Fn=>{const ii=x.computeStyle($t,Fn,X);Nn.set(Fn,ii),(!ii||0==ii.length)&&($t[Ki]=Rs,Ue.push($t))}),K.set($t,Nn)});let Be=0;return D.forEach(Tt=>Ro(Tt,he[Be++])),Ue}function La(K,x){const D=new Map;if(K.forEach(Be=>D.set(Be,[])),0==x.length)return D;const X=new Set(x),he=new Map;function Ue(Be){if(!Be)return 1;let Tt=he.get(Be);if(Tt)return Tt;const $t=Be.parentNode;return Tt=D.has($t)?$t:X.has($t)?1:Ue($t),he.set(Be,Tt),Tt}return x.forEach(Be=>{const Tt=Ue(Be);1!==Tt&&D.get(Tt).push(Be)}),D}function wi(K,x){K.classList?.add(x)}function qs(K,x){K.classList?.remove(x)}function ao(K,x,D){Ge(D).onDone(()=>K.processLeaveNode(x))}function Va(K,x){for(let D=0;D<K.length;D++){const B=K[D];B instanceof Zt.ZE?Va(B.players,x):x.push(B)}}function Wa(K,x,D){const B=D.get(K);if(!B)return!1;let X=x.get(K);return X?B.forEach(he=>X.add(he)):x.set(K,B),D.delete(K),!0}class ta{constructor(x,D,B){this.bodyNode=x,this._driver=D,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(X,he)=>{},this._transitionEngine=new Eo(x,D,B),this._timelineEngine=new z(x,D,B),this._transitionEngine.onRemovalComplete=(X,he)=>this.onRemovalComplete(X,he)}registerTrigger(x,D,B,X,he){const Ue=x+"-"+X;let Be=this._triggerCache[Ue];if(!Be){const Tt=[],Nn=nr(this._driver,he,Tt,[]);if(Tt.length)throw function ye(K,x){return new A.vHH(3404,!1)}();Be=function Pe(K,x,D){return new ct(K,x,D)}(X,Nn,this._normalizer),this._triggerCache[Ue]=Be}this._transitionEngine.registerTrigger(D,X,Be)}register(x,D){this._transitionEngine.register(x,D)}destroy(x,D){this._transitionEngine.destroy(x,D)}onInsert(x,D,B,X){this._transitionEngine.insertNode(x,D,B,X)}onRemove(x,D,B){this._transitionEngine.removeNode(x,D,B)}disableAnimations(x,D){this._transitionEngine.markElementAsDisabled(x,D)}process(x,D,B,X){if("@"==B.charAt(0)){const[he,Ue]=On(B);this._timelineEngine.command(he,D,Ue,X)}else this._transitionEngine.trigger(x,D,B,X)}listen(x,D,B,X,he){if("@"==B.charAt(0)){const[Ue,Be]=On(B);return this._timelineEngine.listen(Ue,D,Be,he)}return this._transitionEngine.listen(x,D,B,X,he)}flush(x=-1){this._transitionEngine.flush(x)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(x){this._transitionEngine.afterFlushAnimationsDone(x)}}let Os=(()=>{class K{static#e=this.initialStylesByElement=new WeakMap;constructor(D,B,X){this._element=D,this._startStyles=B,this._endStyles=X,this._state=0;let he=K.initialStylesByElement.get(D);he||K.initialStylesByElement.set(D,he=new Map),this._initialStyles=he}start(){this._state<1&&(this._startStyles&&rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rs(this._element,this._initialStyles),this._endStyles&&(rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(K.initialStylesByElement.delete(this._element),this._startStyles&&(ti(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ti(this._element,this._endStyles),this._endStyles=null),rs(this._element,this._initialStyles),this._state=3)}}return K})();function Ua(K){let x=null;return K.forEach((D,B)=>{(function na(K){return"display"===K||"position"===K})(B)&&(x=x||new Map,x.set(B,D))}),x}class Rl{constructor(x,D,B,X){this.element=x,this.keyframes=D,this.options=B,this._specialStyles=X,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(x=>x()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const x=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,x,this.options),this._finalKeyframe=x.length?x[x.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(x){const D=[];return x.forEach(B=>{D.push(Object.fromEntries(B))}),D}_triggerWebAnimation(x,D,B){return x.animate(this._convertKeyframesToObject(D),B)}onStart(x){this._originalOnStartFns.push(x),this._onStartFns.push(x)}onDone(x){this._originalOnDoneFns.push(x),this._onDoneFns.push(x)}onDestroy(x){this._onDestroyFns.push(x)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(x=>x()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(x=>x()),this._onDestroyFns=[])}setPosition(x){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=x*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const x=new Map;this.hasStarted()&&this._finalKeyframe.forEach((B,X)=>{"offset"!==X&&x.set(X,this._finished?B:vo(this.element,X))}),this.currentSnapshot=x}triggerCallback(x){const D="start"===x?this._onStartFns:this._onDoneFns;D.forEach(B=>B()),D.length=0}}class ra{validateStyleProperty(x){return!0}validateAnimatableStyleProperty(x){return!0}matchesElement(x,D){return!1}containsElement(x,D){return Cr(x,D)}getParentElement(x){return dt(x)}query(x,D,B){return _i(x,D,B)}computeStyle(x,D,B){return window.getComputedStyle(x)[D]}animate(x,D,B,X,he,Ue=[]){const Tt={duration:B,delay:X,fill:0==X?"both":"forwards"};he&&(Tt.easing=he);const $t=new Map,Nn=Ue.filter(Jn=>Jn instanceof Rl);(function xs(K,x){return 0===K||0===x})(B,X)&&Nn.forEach(Jn=>{Jn.currentSnapshot.forEach((rr,kr)=>$t.set(kr,rr))});let Fn=function Go(K){return K.length?K[0]instanceof Map?K:K.map(x=>cs(x)):[]}(D).map(Jn=>Qs(Jn));Fn=function Fs(K,x,D){if(D.size&&x.length){let B=x[0],X=[];if(D.forEach((he,Ue)=>{B.has(Ue)||X.push(Ue),B.set(Ue,he)}),X.length)for(let he=1;he<x.length;he++){let Ue=x[he];X.forEach(Be=>Ue.set(Be,vo(K,Be)))}}return x}(x,Fn,$t);const ii=function wa(K,x){let D=null,B=null;return Array.isArray(x)&&x.length?(D=Ua(x[0]),x.length>1&&(B=Ua(x[x.length-1]))):x instanceof Map&&(D=Ua(x)),D||B?new Os(K,D,B):null}(x,Fn);return new Rl(x,Fn,Tt,ii)}}let Ca=(()=>{class K extends Zt._j{constructor(D,B){super(),this._nextAnimationId=0,this._renderer=D.createRenderer(B.body,{id:"0",encapsulation:A.ifc.None,styles:[],data:{animation:[]}})}build(D){const B=this._nextAnimationId.toString();this._nextAnimationId++;const X=Array.isArray(D)?(0,Zt.vP)(D):D;return rc(this._renderer,null,B,"register",[X]),new Aa(B,this._renderer)}static#e=this.\u0275fac=function(B){return new(B||K)(A.LFG(A.FYo),A.LFG(Vt.K0))};static#t=this.\u0275prov=A.Yz7({token:K,factory:K.\u0275fac})}return K})();class Aa extends Zt.LC{constructor(x,D){super(),this._id=x,this._renderer=D}create(x,D){return new Ko(this._id,x,D||{},this._renderer)}}class Ko{constructor(x,D,B,X){this.id=x,this.element=D,this._renderer=X,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(x,D){return this._renderer.listen(this.element,`@@${this.id}:${x}`,D)}_command(x,...D){return rc(this._renderer,this.element,this.id,x,D)}onDone(x){this._listen("done",x)}onStart(x){this._listen("start",x)}onDestroy(x){this._listen("destroy",x)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(x){this._command("setPosition",x)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rc(K,x,D,B,X){return K.setProperty(x,`@@${D}:${B}`,X)}const ds="@.disabled";let F=(()=>{class K{constructor(D,B,X){this.delegate=D,this.engine=B,this._zone=X,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,B.onRemovalComplete=(he,Ue)=>{const Be=Ue?.parentNode(he);Be&&Ue.removeChild(Be,he)}}createRenderer(D,B){const he=this.delegate.createRenderer(D,B);if(!(D&&B&&B.data&&B.data.animation)){let Nn=this._rendererCache.get(he);return Nn||(Nn=new de("",he,this.engine,()=>this._rendererCache.delete(he)),this._rendererCache.set(he,Nn)),Nn}const Ue=B.id,Be=B.id+"-"+this._currentId;this._currentId++,this.engine.register(Be,D);const Tt=Nn=>{Array.isArray(Nn)?Nn.forEach(Tt):this.engine.registerTrigger(Ue,Be,D,Nn.name,Nn)};return B.data.animation.forEach(Tt),new W(this,Be,he,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(D,B,X){D>=0&&D<this._microtaskId?this._zone.run(()=>B(X)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(he=>{const[Ue,Be]=he;Ue(Be)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,X]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(B){return new(B||K)(A.LFG(A.FYo),A.LFG(ta),A.LFG(A.R0b))};static#t=this.\u0275prov=A.Yz7({token:K,factory:K.\u0275fac})}return K})();class de{constructor(x,D,B,X){this.namespaceId=x,this.delegate=D,this.engine=B,this._onDestroy=X}get data(){return this.delegate.data}destroyNode(x){this.delegate.destroyNode?.(x)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(x,D){return this.delegate.createElement(x,D)}createComment(x){return this.delegate.createComment(x)}createText(x){return this.delegate.createText(x)}appendChild(x,D){this.delegate.appendChild(x,D),this.engine.onInsert(this.namespaceId,D,x,!1)}insertBefore(x,D,B,X=!0){this.delegate.insertBefore(x,D,B),this.engine.onInsert(this.namespaceId,D,x,X)}removeChild(x,D,B){this.engine.onRemove(this.namespaceId,D,this.delegate)}selectRootElement(x,D){return this.delegate.selectRootElement(x,D)}parentNode(x){return this.delegate.parentNode(x)}nextSibling(x){return this.delegate.nextSibling(x)}setAttribute(x,D,B,X){this.delegate.setAttribute(x,D,B,X)}removeAttribute(x,D,B){this.delegate.removeAttribute(x,D,B)}addClass(x,D){this.delegate.addClass(x,D)}removeClass(x,D){this.delegate.removeClass(x,D)}setStyle(x,D,B,X){this.delegate.setStyle(x,D,B,X)}removeStyle(x,D,B){this.delegate.removeStyle(x,D,B)}setProperty(x,D,B){"@"==D.charAt(0)&&D==ds?this.disableAnimations(x,!!B):this.delegate.setProperty(x,D,B)}setValue(x,D){this.delegate.setValue(x,D)}listen(x,D,B){return this.delegate.listen(x,D,B)}disableAnimations(x,D){this.engine.disableAnimations(x,D)}}class W extends de{constructor(x,D,B,X,he){super(D,B,X,he),this.factory=x,this.namespaceId=D}setProperty(x,D,B){"@"==D.charAt(0)?"."==D.charAt(1)&&D==ds?this.disableAnimations(x,B=void 0===B||!!B):this.engine.process(this.namespaceId,x,D.slice(1),B):this.delegate.setProperty(x,D,B)}listen(x,D,B){if("@"==D.charAt(0)){const X=function oe(K){switch(K){case"body":return document.body;case"document":return document;case"window":return window;default:return K}}(x);let he=D.slice(1),Ue="";return"@"!=he.charAt(0)&&([he,Ue]=function Ne(K){const x=K.indexOf(".");return[K.substring(0,x),K.slice(x+1)]}(he)),this.engine.listen(this.namespaceId,X,he,Ue,Be=>{this.factory.scheduleListenerCallback(Be._data||-1,B,Be)})}return this.delegate.listen(x,D,B)}}const li=[{provide:Zt._j,useClass:Ca},{provide:Wo,useFactory:function Jt(){return new is}},{provide:ta,useClass:(()=>{class K extends ta{constructor(D,B,X,he){super(D.body,B,X)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(B){return new(B||K)(A.LFG(Vt.K0),A.LFG(di),A.LFG(Wo),A.LFG(A.z2F))};static#t=this.\u0275prov=A.Yz7({token:K,factory:K.\u0275fac})}return K})()},{provide:A.FYo,useFactory:function Kn(K,x,D){return new F(K,x,D)},deps:[b.se,ta,A.R0b]}],Fi=[{provide:di,useFactory:()=>new ra},{provide:A.QbO,useValue:"BrowserAnimations"},...li],Ri=[{provide:di,useClass:si},{provide:A.QbO,useValue:"NoopAnimations"},...li];let Ur=(()=>{class K{static withConfig(D){return{ngModule:K,providers:D.disableAnimations?Ri:Fi}}static#e=this.\u0275fac=function(B){return new(B||K)};static#t=this.\u0275mod=A.oAB({type:K});static#n=this.\u0275inj=A.cJS({providers:Fi,imports:[b.b2]})}return K})();var Bs=ne(8645);const Mo=new A.OlP("recaptcha-language"),Yo=new A.OlP("recaptcha-base-url"),lo=new A.OlP("recaptcha-nonce-tag"),ri=(new A.OlP("recaptcha-settings"),new A.OlP("recaptcha-v3-site-key")),gl_loadScript=function pa(K,x,D,B,X){window.ng2recaptchaloaded=()=>{x(grecaptcha)};const he=document.createElement("script");he.innerHTML="",he.src=`${B||"https://www.google.com/recaptcha/api.js"}?render=${K}&onload=ng2recaptchaloaded${D}`,X&&he.setAttribute("nonce",X),he.async=!0,he.defer=!0,document.head.appendChild(he)};let il=(()=>{class K{constructor(D,B,X,he,Ue,Be){this.onLoadComplete=Tt=>{this.grecaptcha=Tt,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([$t,Nn])=>this.executeActionWithSubject($t,Nn)),this.actionBacklog=void 0)},this.zone=D,this.isBrowser=(0,Vt.NF)(X),this.siteKey=B,this.nonce=Ue,this.language=Be,this.baseUrl=he,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new Bs.x,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new Bs.x,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(D){const B=new Bs.x;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(D,B):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([D,B]))),B.asObservable()}executeActionWithSubject(D,B){const X=he=>{this.zone.run(()=>{B.error(he),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:D,error:he})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:D}).then(he=>{this.zone.run(()=>{B.next(he),B.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:D,token:he})})},X)}catch(he){X(he)}})}init(){this.isBrowser&&("grecaptcha"in window?this.grecaptcha=grecaptcha:gl_loadScript(this.siteKey,this.onLoadComplete,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce))}static#e=this.\u0275fac=function(B){return new(B||K)(A.LFG(A.R0b),A.LFG(ri),A.LFG(A.Lbi),A.LFG(Yo,8),A.LFG(lo,8),A.LFG(Mo,8))};static#t=this.\u0275prov=A.Yz7({token:K,factory:K.\u0275fac})}return K})(),ia=(()=>{class K{static#e=this.\u0275fac=function(B){return new(B||K)};static#t=this.\u0275mod=A.oAB({type:K});static#n=this.\u0275inj=A.cJS({providers:[il]})}return K})();var ml=ne(9862);let Cc=(()=>{class K{static#e=this.\u0275fac=function(B){return new(B||K)};static#t=this.\u0275mod=A.oAB({type:K,bootstrap:[on]});static#n=this.\u0275inj=A.cJS({imports:[b.b2,en,(0,tr.hX)(()=>(0,tr.ZF)(jt_firebase)),(0,Fr.AR)(()=>(0,Fr.v0)()),(0,Ze.Cm)(()=>(0,Ze.ad)()),(0,er.Vq)(()=>(0,er.cF)()),fr.K,Ur,ut.Rh.forRoot(),ia,ml.JF,nn.u5]})}return K})();b.q6().bootstrapModule(Cc).catch(K=>console.error(K))},5619:(Xn,Lt,ne)=>{ne.d(Lt,{X:()=>_e});var b=ne(8645);class _e extends b.x{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const A=super._subscribe(O);return!A.closed&&O.next(this._value),A}getValue(){const{hasError:O,thrownError:A,_value:Ze}=this;if(O)throw A;return this._throwIfClosed(),Ze}next(O){super.next(this._value=O)}}},5592:(Xn,Lt,ne)=>{ne.d(Lt,{y:()=>ht});var b=ne(305),_e=ne(7394),Fe=ne(4850),O=ne(8407),A=ne(2653),Ze=ne(4674),Le=ne(1441);let ht=(()=>{class _t{constructor(At){At&&(this._subscribe=At)}lift(At){const Vt=new _t;return Vt.source=this,Vt.operator=At,Vt}subscribe(At,Vt,Ut){const Tn=function ke(_t){return _t&&_t instanceof b.Lv||function Ve(_t){return _t&&(0,Ze.m)(_t.next)&&(0,Ze.m)(_t.error)&&(0,Ze.m)(_t.complete)}(_t)&&(0,_e.Nn)(_t)}(At)?At:new b.Hp(At,Vt,Ut);return(0,Le.x)(()=>{const{operator:wn,source:er}=this;Tn.add(wn?wn.call(Tn,er):er?this._subscribe(Tn):this._trySubscribe(Tn))}),Tn}_trySubscribe(At){try{return this._subscribe(At)}catch(Vt){At.error(Vt)}}forEach(At,Vt){return new(Vt=vt(Vt))((Ut,Tn)=>{const wn=new b.Hp({next:er=>{try{At(er)}catch(nn){Tn(nn),wn.unsubscribe()}},error:Tn,complete:Ut});this.subscribe(wn)})}_subscribe(At){var Vt;return null===(Vt=this.source)||void 0===Vt?void 0:Vt.subscribe(At)}[Fe.L](){return this}pipe(...At){return(0,O.U)(At)(this)}toPromise(At){return new(At=vt(At))((Vt,Ut)=>{let Tn;this.subscribe(wn=>Tn=wn,wn=>Ut(wn),()=>Vt(Tn))})}}return _t.create=Qt=>new _t(Qt),_t})();function vt(_t){var Qt;return null!==(Qt=_t??A.config.Promise)&&void 0!==Qt?Qt:Promise}},8645:(Xn,Lt,ne)=>{ne.d(Lt,{x:()=>Le});var b=ne(5592),_e=ne(7394);const O=(0,ne(2306).d)(vt=>function(){vt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var A=ne(9039),Ze=ne(1441);let Le=(()=>{class vt extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ke){const _t=new ht(this,this);return _t.operator=ke,_t}_throwIfClosed(){if(this.closed)throw new O}next(ke){(0,Ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _t of this.currentObservers)_t.next(ke)}})}error(ke){(0,Ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ke;const{observers:_t}=this;for(;_t.length;)_t.shift().error(ke)}})}complete(){(0,Ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ke}=this;for(;ke.length;)ke.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ke;return(null===(ke=this.observers)||void 0===ke?void 0:ke.length)>0}_trySubscribe(ke){return this._throwIfClosed(),super._trySubscribe(ke)}_subscribe(ke){return this._throwIfClosed(),this._checkFinalizedStatuses(ke),this._innerSubscribe(ke)}_innerSubscribe(ke){const{hasError:_t,isStopped:Qt,observers:At}=this;return _t||Qt?_e.Lc:(this.currentObservers=null,At.push(ke),new _e.w0(()=>{this.currentObservers=null,(0,A.P)(At,ke)}))}_checkFinalizedStatuses(ke){const{hasError:_t,thrownError:Qt,isStopped:At}=this;_t?ke.error(Qt):At&&ke.complete()}asObservable(){const ke=new b.y;return ke.source=this,ke}}return vt.create=(Ve,ke)=>new ht(Ve,ke),vt})();class ht extends Le{constructor(Ve,ke){super(),this.destination=Ve,this.source=ke}next(Ve){var ke,_t;null===(_t=null===(ke=this.destination)||void 0===ke?void 0:ke.next)||void 0===_t||_t.call(ke,Ve)}error(Ve){var ke,_t;null===(_t=null===(ke=this.destination)||void 0===ke?void 0:ke.error)||void 0===_t||_t.call(ke,Ve)}complete(){var Ve,ke;null===(ke=null===(Ve=this.destination)||void 0===Ve?void 0:Ve.complete)||void 0===ke||ke.call(Ve)}_subscribe(Ve){var ke,_t;return null!==(_t=null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(Ve))&&void 0!==_t?_t:_e.Lc}}},305:(Xn,Lt,ne)=>{ne.d(Lt,{Hp:()=>Ut,Lv:()=>_t});var b=ne(4674),_e=ne(7394),Fe=ne(2653),O=ne(3894),A=ne(2420);const Ze=vt("C",void 0,void 0);function vt(We,ut,Ct){return{kind:We,value:ut,error:Ct}}var Ve=ne(7599),ke=ne(1441);class _t extends _e.w0{constructor(ut){super(),this.isStopped=!1,ut?(this.destination=ut,(0,_e.Nn)(ut)&&ut.add(this)):this.destination=nn}static create(ut,Ct,Ot){return new Ut(ut,Ct,Ot)}next(ut){this.isStopped?er(function ht(We){return vt("N",We,void 0)}(ut),this):this._next(ut)}error(ut){this.isStopped?er(function Le(We){return vt("E",void 0,We)}(ut),this):(this.isStopped=!0,this._error(ut))}complete(){this.isStopped?er(Ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ut){this.destination.next(ut)}_error(ut){try{this.destination.error(ut)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qt=Function.prototype.bind;function At(We,ut){return Qt.call(We,ut)}class Vt{constructor(ut){this.partialObserver=ut}next(ut){const{partialObserver:Ct}=this;if(Ct.next)try{Ct.next(ut)}catch(Ot){Tn(Ot)}}error(ut){const{partialObserver:Ct}=this;if(Ct.error)try{Ct.error(ut)}catch(Ot){Tn(Ot)}else Tn(ut)}complete(){const{partialObserver:ut}=this;if(ut.complete)try{ut.complete()}catch(Ct){Tn(Ct)}}}class Ut extends _t{constructor(ut,Ct,Ot){let Yt;if(super(),(0,b.m)(ut)||!ut)Yt={next:ut??void 0,error:Ct??void 0,complete:Ot??void 0};else{let zt;this&&Fe.config.useDeprecatedNextContext?(zt=Object.create(ut),zt.unsubscribe=()=>this.unsubscribe(),Yt={next:ut.next&&At(ut.next,zt),error:ut.error&&At(ut.error,zt),complete:ut.complete&&At(ut.complete,zt)}):Yt=ut}this.destination=new Vt(Yt)}}function Tn(We){Fe.config.useDeprecatedSynchronousErrorHandling?(0,ke.O)(We):(0,O.h)(We)}function er(We,ut){const{onStoppedNotification:Ct}=Fe.config;Ct&&Ve.z.setTimeout(()=>Ct(We,ut))}const nn={closed:!0,next:A.Z,error:function wn(We){throw We},complete:A.Z}},7394:(Xn,Lt,ne)=>{ne.d(Lt,{Lc:()=>Ze,w0:()=>A,Nn:()=>Le});var b=ne(4674);const Fe=(0,ne(2306).d)(vt=>function(ke){vt(this),this.message=ke?`${ke.length} errors occurred during unsubscription:\n${ke.map((_t,Qt)=>`${Qt+1}) ${_t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ke});var O=ne(9039);class A{constructor(Ve){this.initialTeardown=Ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ve;if(!this.closed){this.closed=!0;const{_parentage:ke}=this;if(ke)if(this._parentage=null,Array.isArray(ke))for(const At of ke)At.remove(this);else ke.remove(this);const{initialTeardown:_t}=this;if((0,b.m)(_t))try{_t()}catch(At){Ve=At instanceof Fe?At.errors:[At]}const{_finalizers:Qt}=this;if(Qt){this._finalizers=null;for(const At of Qt)try{ht(At)}catch(Vt){Ve=Ve??[],Vt instanceof Fe?Ve=[...Ve,...Vt.errors]:Ve.push(Vt)}}if(Ve)throw new Fe(Ve)}}add(Ve){var ke;if(Ve&&Ve!==this)if(this.closed)ht(Ve);else{if(Ve instanceof A){if(Ve.closed||Ve._hasParent(this))return;Ve._addParent(this)}(this._finalizers=null!==(ke=this._finalizers)&&void 0!==ke?ke:[]).push(Ve)}}_hasParent(Ve){const{_parentage:ke}=this;return ke===Ve||Array.isArray(ke)&&ke.includes(Ve)}_addParent(Ve){const{_parentage:ke}=this;this._parentage=Array.isArray(ke)?(ke.push(Ve),ke):ke?[ke,Ve]:Ve}_removeParent(Ve){const{_parentage:ke}=this;ke===Ve?this._parentage=null:Array.isArray(ke)&&(0,O.P)(ke,Ve)}remove(Ve){const{_finalizers:ke}=this;ke&&(0,O.P)(ke,Ve),Ve instanceof A&&Ve._removeParent(this)}}A.EMPTY=(()=>{const vt=new A;return vt.closed=!0,vt})();const Ze=A.EMPTY;function Le(vt){return vt instanceof A||vt&&"closed"in vt&&(0,b.m)(vt.remove)&&(0,b.m)(vt.add)&&(0,b.m)(vt.unsubscribe)}function ht(vt){(0,b.m)(vt)?vt():vt.unsubscribe()}},2653:(Xn,Lt,ne)=>{ne.d(Lt,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Xn,Lt,ne)=>{ne.d(Lt,{E:()=>_e});const _e=new(ne(5592).y)(A=>A.complete())},2459:(Xn,Lt,ne)=>{ne.d(Lt,{D:()=>ut});var b=ne(4829),_e=ne(3093),Fe=ne(5137),Ze=ne(5592),ht=ne(4971),vt=ne(4674),Ve=ne(7103);function _t(Ct,Ot){if(!Ct)throw new Error("Iterable cannot be null");return new Ze.y(Yt=>{(0,Ve.f)(Yt,Ot,()=>{const zt=Ct[Symbol.asyncIterator]();(0,Ve.f)(Yt,Ot,()=>{zt.next().then(Ke=>{Ke.done?Yt.complete():Yt.next(Ke.value)})},0,!0)})})}var Qt=ne(8382),At=ne(4026),Vt=ne(4266),Ut=ne(3664),Tn=ne(5726),wn=ne(9853),er=ne(541);function ut(Ct,Ot){return Ot?function We(Ct,Ot){if(null!=Ct){if((0,Qt.c)(Ct))return function O(Ct,Ot){return(0,b.Xf)(Ct).pipe((0,Fe.R)(Ot),(0,_e.Q)(Ot))}(Ct,Ot);if((0,Vt.z)(Ct))return function Le(Ct,Ot){return new Ze.y(Yt=>{let zt=0;return Ot.schedule(function(){zt===Ct.length?Yt.complete():(Yt.next(Ct[zt++]),Yt.closed||this.schedule())})})}(Ct,Ot);if((0,At.t)(Ct))return function A(Ct,Ot){return(0,b.Xf)(Ct).pipe((0,Fe.R)(Ot),(0,_e.Q)(Ot))}(Ct,Ot);if((0,Tn.D)(Ct))return _t(Ct,Ot);if((0,Ut.T)(Ct))return function ke(Ct,Ot){return new Ze.y(Yt=>{let zt;return(0,Ve.f)(Yt,Ot,()=>{zt=Ct[ht.h](),(0,Ve.f)(Yt,Ot,()=>{let Ke,ln;try{({value:Ke,done:ln}=zt.next())}catch(Qn){return void Yt.error(Qn)}ln?Yt.complete():Yt.next(Ke)},0,!0)}),()=>(0,vt.m)(zt?.return)&&zt.return()})}(Ct,Ot);if((0,er.L)(Ct))return function nn(Ct,Ot){return _t((0,er.Q)(Ct),Ot)}(Ct,Ot)}throw(0,wn.z)(Ct)}(Ct,Ot):(0,b.Xf)(Ct)}},4829:(Xn,Lt,ne)=>{ne.d(Lt,{Xf:()=>Qt});var b=ne(7582),_e=ne(4266),Fe=ne(4026),O=ne(5592),A=ne(8382),Ze=ne(5726),Le=ne(9853),ht=ne(3664),vt=ne(541),Ve=ne(4674),ke=ne(3894),_t=ne(4850);function Qt(We){if(We instanceof O.y)return We;if(null!=We){if((0,A.c)(We))return function At(We){return new O.y(ut=>{const Ct=We[_t.L]();if((0,Ve.m)(Ct.subscribe))return Ct.subscribe(ut);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,_e.z)(We))return function Vt(We){return new O.y(ut=>{for(let Ct=0;Ct<We.length&&!ut.closed;Ct++)ut.next(We[Ct]);ut.complete()})}(We);if((0,Fe.t)(We))return function Ut(We){return new O.y(ut=>{We.then(Ct=>{ut.closed||(ut.next(Ct),ut.complete())},Ct=>ut.error(Ct)).then(null,ke.h)})}(We);if((0,Ze.D)(We))return wn(We);if((0,ht.T)(We))return function Tn(We){return new O.y(ut=>{for(const Ct of We)if(ut.next(Ct),ut.closed)return;ut.complete()})}(We);if((0,vt.L)(We))return function er(We){return wn((0,vt.Q)(We))}(We)}throw(0,Le.z)(We)}function wn(We){return new O.y(ut=>{(function nn(We,ut){var Ct,Ot,Yt,zt;return(0,b.mG)(this,void 0,void 0,function*(){try{for(Ct=(0,b.KL)(We);!(Ot=yield Ct.next()).done;)if(ut.next(Ot.value),ut.closed)return}catch(Ke){Yt={error:Ke}}finally{try{Ot&&!Ot.done&&(zt=Ct.return)&&(yield zt.call(Ct))}finally{if(Yt)throw Yt.error}}ut.complete()})})(We,ut).catch(Ct=>ut.error(Ct))})}},2096:(Xn,Lt,ne)=>{ne.d(Lt,{of:()=>Fe});var b=ne(4564),_e=ne(2459);function Fe(...O){const A=(0,b.yG)(O);return(0,_e.D)(O,A)}},8251:(Xn,Lt,ne)=>{ne.d(Lt,{x:()=>_e});var b=ne(305);function _e(O,A,Ze,Le,ht){return new Fe(O,A,Ze,Le,ht)}class Fe extends b.Lv{constructor(A,Ze,Le,ht,vt,Ve){super(A),this.onFinalize=vt,this.shouldUnsubscribe=Ve,this._next=Ze?function(ke){try{Ze(ke)}catch(_t){A.error(_t)}}:super._next,this._error=ht?function(ke){try{ht(ke)}catch(_t){A.error(_t)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(ke){A.error(ke)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var A;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ze}=this;super.unsubscribe(),!Ze&&(null===(A=this.onFinalize)||void 0===A||A.call(this))}}}},6328:(Xn,Lt,ne)=>{ne.d(Lt,{b:()=>Fe});var b=ne(1631),_e=ne(4674);function Fe(O,A){return(0,_e.m)(A)?(0,b.z)(O,A,1):(0,b.z)(O,1)}},2181:(Xn,Lt,ne)=>{ne.d(Lt,{h:()=>Fe});var b=ne(9360),_e=ne(8251);function Fe(O,A){return(0,b.e)((Ze,Le)=>{let ht=0;Ze.subscribe((0,_e.x)(Le,vt=>O.call(A,vt,ht++)&&Le.next(vt)))})}},4716:(Xn,Lt,ne)=>{ne.d(Lt,{x:()=>_e});var b=ne(9360);function _e(Fe){return(0,b.e)((O,A)=>{try{O.subscribe(A)}finally{A.add(Fe)}})}},7398:(Xn,Lt,ne)=>{ne.d(Lt,{U:()=>Fe});var b=ne(9360),_e=ne(8251);function Fe(O,A){return(0,b.e)((Ze,Le)=>{let ht=0;Ze.subscribe((0,_e.x)(Le,vt=>{Le.next(O.call(A,vt,ht++))}))})}},7537:(Xn,Lt,ne)=>{ne.d(Lt,{J:()=>Fe});var b=ne(1631),_e=ne(2737);function Fe(O=1/0){return(0,b.z)(_e.y,O)}},1631:(Xn,Lt,ne)=>{ne.d(Lt,{z:()=>ht});var b=ne(7398),_e=ne(4829),Fe=ne(9360),O=ne(7103),A=ne(8251),Le=ne(4674);function ht(vt,Ve,ke=1/0){return(0,Le.m)(Ve)?ht((_t,Qt)=>(0,b.U)((At,Vt)=>Ve(_t,At,Qt,Vt))((0,_e.Xf)(vt(_t,Qt))),ke):("number"==typeof Ve&&(ke=Ve),(0,Fe.e)((_t,Qt)=>function Ze(vt,Ve,ke,_t,Qt,At,Vt,Ut){const Tn=[];let wn=0,er=0,nn=!1;const We=()=>{nn&&!Tn.length&&!wn&&Ve.complete()},ut=Ot=>wn<_t?Ct(Ot):Tn.push(Ot),Ct=Ot=>{At&&Ve.next(Ot),wn++;let Yt=!1;(0,_e.Xf)(ke(Ot,er++)).subscribe((0,A.x)(Ve,zt=>{Qt?.(zt),At?ut(zt):Ve.next(zt)},()=>{Yt=!0},void 0,()=>{if(Yt)try{for(wn--;Tn.length&&wn<_t;){const zt=Tn.shift();Vt?(0,O.f)(Ve,Vt,()=>Ct(zt)):Ct(zt)}We()}catch(zt){Ve.error(zt)}}))};return vt.subscribe((0,A.x)(Ve,ut,()=>{nn=!0,We()})),()=>{Ut?.()}}(_t,Qt,vt,ke)))}},3093:(Xn,Lt,ne)=>{ne.d(Lt,{Q:()=>O});var b=ne(7103),_e=ne(9360),Fe=ne(8251);function O(A,Ze=0){return(0,_e.e)((Le,ht)=>{Le.subscribe((0,Fe.x)(ht,vt=>(0,b.f)(ht,A,()=>ht.next(vt),Ze),()=>(0,b.f)(ht,A,()=>ht.complete(),Ze),vt=>(0,b.f)(ht,A,()=>ht.error(vt),Ze)))})}},5137:(Xn,Lt,ne)=>{ne.d(Lt,{R:()=>_e});var b=ne(9360);function _e(Fe,O=0){return(0,b.e)((A,Ze)=>{Ze.add(Fe.schedule(()=>A.subscribe(Ze),O))})}},4664:(Xn,Lt,ne)=>{ne.d(Lt,{w:()=>O});var b=ne(4829),_e=ne(9360),Fe=ne(8251);function O(A,Ze){return(0,_e.e)((Le,ht)=>{let vt=null,Ve=0,ke=!1;const _t=()=>ke&&!vt&&ht.complete();Le.subscribe((0,Fe.x)(ht,Qt=>{vt?.unsubscribe();let At=0;const Vt=Ve++;(0,b.Xf)(A(Qt,Vt)).subscribe(vt=(0,Fe.x)(ht,Ut=>ht.next(Ze?Ze(Qt,Ut,Vt,At++):Ut),()=>{vt=null,_t()}))},()=>{ke=!0,_t()}))})}},8180:(Xn,Lt,ne)=>{ne.d(Lt,{q:()=>O});var b=ne(6232),_e=ne(9360),Fe=ne(8251);function O(A){return A<=0?()=>b.E:(0,_e.e)((Ze,Le)=>{let ht=0;Ze.subscribe((0,Fe.x)(Le,vt=>{++ht<=A&&(Le.next(vt),A<=ht&&Le.complete())}))})}},9397:(Xn,Lt,ne)=>{ne.d(Lt,{b:()=>A});var b=ne(4674),_e=ne(9360),Fe=ne(8251),O=ne(2737);function A(Ze,Le,ht){const vt=(0,b.m)(Ze)||Le||ht?{next:Ze,error:Le,complete:ht}:Ze;return vt?(0,_e.e)((Ve,ke)=>{var _t;null===(_t=vt.subscribe)||void 0===_t||_t.call(vt);let Qt=!0;Ve.subscribe((0,Fe.x)(ke,At=>{var Vt;null===(Vt=vt.next)||void 0===Vt||Vt.call(vt,At),ke.next(At)},()=>{var At;Qt=!1,null===(At=vt.complete)||void 0===At||At.call(vt),ke.complete()},At=>{var Vt;Qt=!1,null===(Vt=vt.error)||void 0===Vt||Vt.call(vt,At),ke.error(At)},()=>{var At,Vt;Qt&&(null===(At=vt.unsubscribe)||void 0===At||At.call(vt)),null===(Vt=vt.finalize)||void 0===Vt||Vt.call(vt)}))}):O.y}},7599:(Xn,Lt,ne)=>{ne.d(Lt,{z:()=>b});const b={setTimeout(_e,Fe,...O){const{delegate:A}=b;return A?.setTimeout?A.setTimeout(_e,Fe,...O):setTimeout(_e,Fe,...O)},clearTimeout(_e){const{delegate:Fe}=b;return(Fe?.clearTimeout||clearTimeout)(_e)},delegate:void 0}},4971:(Xn,Lt,ne)=>{ne.d(Lt,{h:()=>_e});const _e=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Xn,Lt,ne)=>{ne.d(Lt,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Xn,Lt,ne)=>{ne.d(Lt,{_6:()=>Ze,jO:()=>O,yG:()=>A});var b=ne(4674);function Fe(Le){return Le[Le.length-1]}function O(Le){return(0,b.m)(Fe(Le))?Le.pop():void 0}function A(Le){return function _e(Le){return Le&&(0,b.m)(Le.schedule)}(Fe(Le))?Le.pop():void 0}function Ze(Le,ht){return"number"==typeof Fe(Le)?Le.pop():ht}},7453:(Xn,Lt,ne)=>{ne.d(Lt,{D:()=>A});const{isArray:b}=Array,{getPrototypeOf:_e,prototype:Fe,keys:O}=Object;function A(Le){if(1===Le.length){const ht=Le[0];if(b(ht))return{args:ht,keys:null};if(function Ze(Le){return Le&&"object"==typeof Le&&_e(Le)===Fe}(ht)){const vt=O(ht);return{args:vt.map(Ve=>ht[Ve]),keys:vt}}}return{args:Le,keys:null}}},9039:(Xn,Lt,ne)=>{function b(_e,Fe){if(_e){const O=_e.indexOf(Fe);0<=O&&_e.splice(O,1)}}ne.d(Lt,{P:()=>b})},2306:(Xn,Lt,ne)=>{function b(_e){const O=_e(A=>{Error.call(A),A.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}ne.d(Lt,{d:()=>b})},2714:(Xn,Lt,ne)=>{function b(_e,Fe){return _e.reduce((O,A,Ze)=>(O[A]=Fe[Ze],O),{})}ne.d(Lt,{n:()=>b})},1441:(Xn,Lt,ne)=>{ne.d(Lt,{O:()=>O,x:()=>Fe});var b=ne(2653);let _e=null;function Fe(A){if(b.config.useDeprecatedSynchronousErrorHandling){const Ze=!_e;if(Ze&&(_e={errorThrown:!1,error:null}),A(),Ze){const{errorThrown:Le,error:ht}=_e;if(_e=null,Le)throw ht}}else A()}function O(A){b.config.useDeprecatedSynchronousErrorHandling&&_e&&(_e.errorThrown=!0,_e.error=A)}},7103:(Xn,Lt,ne)=>{function b(_e,Fe,O,A=0,Ze=!1){const Le=Fe.schedule(function(){O(),Ze?_e.add(this.schedule(null,A)):this.unsubscribe()},A);if(_e.add(Le),!Ze)return Le}ne.d(Lt,{f:()=>b})},2737:(Xn,Lt,ne)=>{function b(_e){return _e}ne.d(Lt,{y:()=>b})},4266:(Xn,Lt,ne)=>{ne.d(Lt,{z:()=>b});const b=_e=>_e&&"number"==typeof _e.length&&"function"!=typeof _e},5726:(Xn,Lt,ne)=>{ne.d(Lt,{D:()=>_e});var b=ne(4674);function _e(Fe){return Symbol.asyncIterator&&(0,b.m)(Fe?.[Symbol.asyncIterator])}},4674:(Xn,Lt,ne)=>{function b(_e){return"function"==typeof _e}ne.d(Lt,{m:()=>b})},8382:(Xn,Lt,ne)=>{ne.d(Lt,{c:()=>Fe});var b=ne(4850),_e=ne(4674);function Fe(O){return(0,_e.m)(O[b.L])}},3664:(Xn,Lt,ne)=>{ne.d(Lt,{T:()=>Fe});var b=ne(4971),_e=ne(4674);function Fe(O){return(0,_e.m)(O?.[b.h])}},4026:(Xn,Lt,ne)=>{ne.d(Lt,{t:()=>_e});var b=ne(4674);function _e(Fe){return(0,b.m)(Fe?.then)}},541:(Xn,Lt,ne)=>{ne.d(Lt,{L:()=>O,Q:()=>Fe});var b=ne(7582),_e=ne(4674);function Fe(A){return(0,b.FC)(this,arguments,function*(){const Le=A.getReader();try{for(;;){const{value:ht,done:vt}=yield(0,b.qq)(Le.read());if(vt)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(ht)}}finally{Le.releaseLock()}})}function O(A){return(0,_e.m)(A?.getReader)}},9360:(Xn,Lt,ne)=>{ne.d(Lt,{A:()=>_e,e:()=>Fe});var b=ne(4674);function _e(O){return(0,b.m)(O?.lift)}function Fe(O){return A=>{if(_e(A))return A.lift(function(Ze){try{return O(Ze,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Xn,Lt,ne)=>{ne.d(Lt,{Z:()=>O});var b=ne(7398);const{isArray:_e}=Array;function O(A){return(0,b.U)(Ze=>function Fe(A,Ze){return _e(Ze)?A(...Ze):A(Ze)}(A,Ze))}},2420:(Xn,Lt,ne)=>{function b(){}ne.d(Lt,{Z:()=>b})},8407:(Xn,Lt,ne)=>{ne.d(Lt,{U:()=>Fe,z:()=>_e});var b=ne(2737);function _e(...O){return Fe(O)}function Fe(O){return 0===O.length?b.y:1===O.length?O[0]:function(Ze){return O.reduce((Le,ht)=>ht(Le),Ze)}}},3894:(Xn,Lt,ne)=>{ne.d(Lt,{h:()=>Fe});var b=ne(2653),_e=ne(7599);function Fe(O){_e.z.setTimeout(()=>{const{onUnhandledError:A}=b.config;if(!A)throw O;A(O)})}},9853:(Xn,Lt,ne)=>{function b(_e){return new TypeError(`You provided ${null!==_e&&"object"==typeof _e?"an invalid object":`'${_e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ne.d(Lt,{z:()=>b})},6825:(Xn,Lt,ne)=>{ne.d(Lt,{IO:()=>Vt,LC:()=>_e,SB:()=>vt,X$:()=>O,ZE:()=>wn,ZN:()=>Tn,_j:()=>b,eR:()=>ke,jt:()=>A,k1:()=>er,l3:()=>Fe,oB:()=>ht,ru:()=>Ze,vP:()=>Le});class b{}class _e{}const Fe="*";function O(nn,We){return{type:7,name:nn,definitions:We,options:{}}}function A(nn,We=null){return{type:4,styles:We,timings:nn}}function Ze(nn,We=null){return{type:3,steps:nn,options:We}}function Le(nn,We=null){return{type:2,steps:nn,options:We}}function ht(nn){return{type:6,styles:nn,offset:null}}function vt(nn,We,ut){return{type:0,name:nn,styles:We,options:ut}}function ke(nn,We,ut=null){return{type:1,expr:nn,animation:We,options:ut}}function Vt(nn,We,ut=null){return{type:11,selector:nn,animation:We,options:ut}}class Tn{constructor(We=0,ut=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=We+ut}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}onStart(We){this._originalOnStartFns.push(We),this._onStartFns.push(We)}onDone(We){this._originalOnDoneFns.push(We),this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(We=>We()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(We){this._position=this.totalTime?We*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(We){const ut="start"==We?this._onStartFns:this._onDoneFns;ut.forEach(Ct=>Ct()),ut.length=0}}class wn{constructor(We){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=We;let ut=0,Ct=0,Ot=0;const Yt=this.players.length;0==Yt?queueMicrotask(()=>this._onFinish()):this.players.forEach(zt=>{zt.onDone(()=>{++ut==Yt&&this._onFinish()}),zt.onDestroy(()=>{++Ct==Yt&&this._onDestroy()}),zt.onStart(()=>{++Ot==Yt&&this._onStart()})}),this.totalTime=this.players.reduce((zt,Ke)=>Math.max(zt,Ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}init(){this.players.forEach(We=>We.init())}onStart(We){this._onStartFns.push(We)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(We=>We()),this._onStartFns=[])}onDone(We){this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(We=>We.play())}pause(){this.players.forEach(We=>We.pause())}restart(){this.players.forEach(We=>We.restart())}finish(){this._onFinish(),this.players.forEach(We=>We.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(We=>We.destroy()),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this.players.forEach(We=>We.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(We){const ut=We*this.totalTime;this.players.forEach(Ct=>{const Ot=Ct.totalTime?Math.min(1,ut/Ct.totalTime):1;Ct.setPosition(Ot)})}getPosition(){const We=this.players.reduce((ut,Ct)=>null===ut||Ct.totalTime>ut.totalTime?Ct:ut,null);return null!=We?We.getPosition():0}beforeDestroy(){this.players.forEach(We=>{We.beforeDestroy&&We.beforeDestroy()})}triggerCallback(We){const ut="start"==We?this._onStartFns:this._onDoneFns;ut.forEach(Ct=>Ct()),ut.length=0}}const er="!"},6814:(Xn,Lt,ne)=>{ne.d(Lt,{Do:()=>Ut,EM:()=>Kr,HT:()=>O,JF:()=>Wi,K0:()=>Ze,Mx:()=>ur,NF:()=>Ln,O5:()=>gs,PM:()=>nr,RF:()=>Un,S$:()=>Qt,V_:()=>ht,Ye:()=>Tn,b0:()=>Vt,bD:()=>_s,ez:()=>ms,gd:()=>zs,mk:()=>mr,n9:()=>Wn,q:()=>Fe,sg:()=>si,uU:()=>ho,w_:()=>A});var b=ne(4946);let _e=null;function Fe(){return _e}function O(F){_e||(_e=F)}class A{}const Ze=new b.OlP("DocumentToken");let Le=(()=>{class F{historyGo(W){throw new Error("Not implemented")}static#e=this.\u0275fac=function(oe){return new(oe||F)};static#t=this.\u0275prov=b.Yz7({token:F,factory:function(){return(0,b.f3M)(vt)},providedIn:"platform"})}return F})();const ht=new b.OlP("Location Initialized");let vt=(()=>{class F extends Le{constructor(){super(),this._doc=(0,b.f3M)(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fe().getBaseHref(this._doc)}onPopState(W){const oe=Fe().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",W,!1),()=>oe.removeEventListener("popstate",W)}onHashChange(W){const oe=Fe().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",W,!1),()=>oe.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,oe,Ne){this._history.pushState(W,oe,Ne)}replaceState(W,oe,Ne){this._history.replaceState(W,oe,Ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}static#e=this.\u0275fac=function(oe){return new(oe||F)};static#t=this.\u0275prov=b.Yz7({token:F,factory:function(){return new F},providedIn:"platform"})}return F})();function Ve(F,de){if(0==F.length)return de;if(0==de.length)return F;let W=0;return F.endsWith("/")&&W++,de.startsWith("/")&&W++,2==W?F+de.substring(1):1==W?F+de:F+"/"+de}function ke(F){const de=F.match(/#|\?|$/),W=de&&de.index||F.length;return F.slice(0,W-("/"===F[W-1]?1:0))+F.slice(W)}function _t(F){return F&&"?"!==F[0]?"?"+F:F}let Qt=(()=>{class F{historyGo(W){throw new Error("Not implemented")}static#e=this.\u0275fac=function(oe){return new(oe||F)};static#t=this.\u0275prov=b.Yz7({token:F,factory:function(){return(0,b.f3M)(Vt)},providedIn:"root"})}return F})();const At=new b.OlP("appBaseHref");let Vt=(()=>{class F extends Qt{constructor(W,oe){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=oe??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return Ve(this._baseHref,W)}path(W=!1){const oe=this._platformLocation.pathname+_t(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&W?`${oe}${Ne}`:oe}pushState(W,oe,Ne,Mt){const Jt=this.prepareExternalUrl(Ne+_t(Mt));this._platformLocation.pushState(W,oe,Jt)}replaceState(W,oe,Ne,Mt){const Jt=this.prepareExternalUrl(Ne+_t(Mt));this._platformLocation.replaceState(W,oe,Jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.LFG(Le),b.LFG(At,8))};static#t=this.\u0275prov=b.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),Ut=(()=>{class F extends Qt{constructor(W,oe){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(W){const oe=Ve(this._baseHref,W);return oe.length>0?"#"+oe:oe}pushState(W,oe,Ne,Mt){let Jt=this.prepareExternalUrl(Ne+_t(Mt));0==Jt.length&&(Jt=this._platformLocation.pathname),this._platformLocation.pushState(W,oe,Jt)}replaceState(W,oe,Ne,Mt){let Jt=this.prepareExternalUrl(Ne+_t(Mt));0==Jt.length&&(Jt=this._platformLocation.pathname),this._platformLocation.replaceState(W,oe,Jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.LFG(Le),b.LFG(At,8))};static#t=this.\u0275prov=b.Yz7({token:F,factory:F.\u0275fac})}return F})(),Tn=(()=>{class F{constructor(W){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const oe=this._locationStrategy.getBaseHref();this._basePath=function We(F){if(new RegExp("^(https?:)?//").test(F)){const[,W]=F.split(/\/\/[^\/]+/);return W}return F}(ke(nn(oe))),this._locationStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,oe=""){return this.path()==this.normalize(W+_t(oe))}normalize(W){return F.stripTrailingSlash(function er(F,de){if(!F||!de.startsWith(F))return de;const W=de.substring(F.length);return""===W||["/",";","?","#"].includes(W[0])?W:de}(this._basePath,nn(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,oe="",Ne=null){this._locationStrategy.pushState(Ne,"",W,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+_t(oe)),Ne)}replaceState(W,oe="",Ne=null){this._locationStrategy.replaceState(Ne,"",W,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+_t(oe)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)})),()=>{const oe=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(oe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",oe){this._urlChangeListeners.forEach(Ne=>Ne(W,oe))}subscribe(W,oe,Ne){return this._subject.subscribe({next:W,error:oe,complete:Ne})}static#e=this.normalizeQueryParams=_t;static#t=this.joinWithSlash=Ve;static#n=this.stripTrailingSlash=ke;static#r=this.\u0275fac=function(oe){return new(oe||F)(b.LFG(Qt))};static#i=this.\u0275prov=b.Yz7({token:F,factory:function(){return function wn(){return new Tn((0,b.LFG)(Qt))}()},providedIn:"root"})}return F})();function nn(F){return F.replace(/\/index.html$/,"")}var Yt=function(F){return F[F.Format=0]="Format",F[F.Standalone=1]="Standalone",F}(Yt||{}),zt=function(F){return F[F.Narrow=0]="Narrow",F[F.Abbreviated=1]="Abbreviated",F[F.Wide=2]="Wide",F[F.Short=3]="Short",F}(zt||{}),Ke=function(F){return F[F.Short=0]="Short",F[F.Medium=1]="Medium",F[F.Long=2]="Long",F[F.Full=3]="Full",F}(Ke||{}),ln=function(F){return F[F.Decimal=0]="Decimal",F[F.Group=1]="Group",F[F.List=2]="List",F[F.PercentSign=3]="PercentSign",F[F.PlusSign=4]="PlusSign",F[F.MinusSign=5]="MinusSign",F[F.Exponential=6]="Exponential",F[F.SuperscriptingExponent=7]="SuperscriptingExponent",F[F.PerMille=8]="PerMille",F[F.Infinity=9]="Infinity",F[F.NaN=10]="NaN",F[F.TimeSeparator=11]="TimeSeparator",F[F.CurrencyDecimal=12]="CurrencyDecimal",F[F.CurrencyGroup=13]="CurrencyGroup",F}(ln||{});function ft(F,de){return $n((0,b.cg1)(F)[b.wAp.DateFormat],de)}function It(F,de){return $n((0,b.cg1)(F)[b.wAp.TimeFormat],de)}function $e(F,de){return $n((0,b.cg1)(F)[b.wAp.DateTimeFormat],de)}function Ce(F,de){const W=(0,b.cg1)(F),oe=W[b.wAp.NumberSymbols][de];if(typeof oe>"u"){if(de===ln.CurrencyDecimal)return W[b.wAp.NumberSymbols][ln.Decimal];if(de===ln.CurrencyGroup)return W[b.wAp.NumberSymbols][ln.Group]}return oe}function Er(F){if(!F[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $n(F,de){for(let W=de;W>-1;W--)if(typeof F[W]<"u")return F[W];throw new Error("Locale data API: locale data undefined")}function Rn(F){const[de,W]=F.split(":");return{hours:+de,minutes:+W}}const tr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fr={},jt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fr=function(F){return F[F.Short=0]="Short",F[F.ShortGMT=1]="ShortGMT",F[F.Long=2]="Long",F[F.Extended=3]="Extended",F}(fr||{}),vr=function(F){return F[F.FullYear=0]="FullYear",F[F.Month=1]="Month",F[F.Date=2]="Date",F[F.Hours=3]="Hours",F[F.Minutes=4]="Minutes",F[F.Seconds=5]="Seconds",F[F.FractionalSeconds=6]="FractionalSeconds",F[F.Day=7]="Day",F}(vr||{}),ar=function(F){return F[F.DayPeriods=0]="DayPeriods",F[F.Days=1]="Days",F[F.Months=2]="Months",F[F.Eras=3]="Eras",F}(ar||{});function Mi(F,de,W,oe){let Ne=function ye(F){if(ae(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[Ne,Mt=1,Jt=1]=F.split("-").map(Kn=>+Kn);return Ei(Ne,Mt-1,Jt)}const W=parseFloat(F);if(!isNaN(F-W))return new Date(W);let oe;if(oe=F.match(tr))return function ce(F){const de=new Date(0);let W=0,oe=0;const Ne=F[8]?de.setUTCFullYear:de.setFullYear,Mt=F[8]?de.setUTCHours:de.setHours;F[9]&&(W=Number(F[9]+F[10]),oe=Number(F[9]+F[11])),Ne.call(de,Number(F[1]),Number(F[2])-1,Number(F[3]));const Jt=Number(F[4]||0)-W,Kn=Number(F[5]||0)-oe,li=Number(F[6]||0),Fi=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return Mt.call(de,Jt,Kn,li,Fi),de}(oe)}const de=new Date(F);if(!ae(de))throw new Error(`Unable to convert "${F}" into a date`);return de}(F);de=Jr(W,de)||de;let Kn,Jt=[];for(;de;){if(Kn=jt.exec(de),!Kn){Jt.push(de);break}{Jt=Jt.concat(Kn.slice(1));const Ri=Jt.pop();if(!Ri)break;de=Ri}}let li=Ne.getTimezoneOffset();oe&&(li=Gi(oe,li),Ne=function Ni(F,de,W){const oe=W?-1:1,Ne=F.getTimezoneOffset();return function zr(F,de){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+de),F}(F,oe*(Gi(de,Ne)-Ne))}(Ne,oe,!0));let Fi="";return Jt.forEach(Ri=>{const Ur=function Br(F){if(lr[F])return lr[F];let de;switch(F){case"G":case"GG":case"GGG":de=Hn(ar.Eras,zt.Abbreviated);break;case"GGGG":de=Hn(ar.Eras,zt.Wide);break;case"GGGGG":de=Hn(ar.Eras,zt.Narrow);break;case"y":de=Pr(vr.FullYear,1,0,!1,!0);break;case"yy":de=Pr(vr.FullYear,2,0,!0,!0);break;case"yyy":de=Pr(vr.FullYear,3,0,!1,!0);break;case"yyyy":de=Pr(vr.FullYear,4,0,!1,!0);break;case"Y":de=ei(1);break;case"YY":de=ei(2,!0);break;case"YYY":de=ei(3);break;case"YYYY":de=ei(4);break;case"M":case"L":de=Pr(vr.Month,1,1);break;case"MM":case"LL":de=Pr(vr.Month,2,1);break;case"MMM":de=Hn(ar.Months,zt.Abbreviated);break;case"MMMM":de=Hn(ar.Months,zt.Wide);break;case"MMMMM":de=Hn(ar.Months,zt.Narrow);break;case"LLL":de=Hn(ar.Months,zt.Abbreviated,Yt.Standalone);break;case"LLLL":de=Hn(ar.Months,zt.Wide,Yt.Standalone);break;case"LLLLL":de=Hn(ar.Months,zt.Narrow,Yt.Standalone);break;case"w":de=Zr(1);break;case"ww":de=Zr(2);break;case"W":de=Zr(1,!0);break;case"d":de=Pr(vr.Date,1);break;case"dd":de=Pr(vr.Date,2);break;case"c":case"cc":de=Pr(vr.Day,1);break;case"ccc":de=Hn(ar.Days,zt.Abbreviated,Yt.Standalone);break;case"cccc":de=Hn(ar.Days,zt.Wide,Yt.Standalone);break;case"ccccc":de=Hn(ar.Days,zt.Narrow,Yt.Standalone);break;case"cccccc":de=Hn(ar.Days,zt.Short,Yt.Standalone);break;case"E":case"EE":case"EEE":de=Hn(ar.Days,zt.Abbreviated);break;case"EEEE":de=Hn(ar.Days,zt.Wide);break;case"EEEEE":de=Hn(ar.Days,zt.Narrow);break;case"EEEEEE":de=Hn(ar.Days,zt.Short);break;case"a":case"aa":case"aaa":de=Hn(ar.DayPeriods,zt.Abbreviated);break;case"aaaa":de=Hn(ar.DayPeriods,zt.Wide);break;case"aaaaa":de=Hn(ar.DayPeriods,zt.Narrow);break;case"b":case"bb":case"bbb":de=Hn(ar.DayPeriods,zt.Abbreviated,Yt.Standalone,!0);break;case"bbbb":de=Hn(ar.DayPeriods,zt.Wide,Yt.Standalone,!0);break;case"bbbbb":de=Hn(ar.DayPeriods,zt.Narrow,Yt.Standalone,!0);break;case"B":case"BB":case"BBB":de=Hn(ar.DayPeriods,zt.Abbreviated,Yt.Format,!0);break;case"BBBB":de=Hn(ar.DayPeriods,zt.Wide,Yt.Format,!0);break;case"BBBBB":de=Hn(ar.DayPeriods,zt.Narrow,Yt.Format,!0);break;case"h":de=Pr(vr.Hours,1,-12);break;case"hh":de=Pr(vr.Hours,2,-12);break;case"H":de=Pr(vr.Hours,1);break;case"HH":de=Pr(vr.Hours,2);break;case"m":de=Pr(vr.Minutes,1);break;case"mm":de=Pr(vr.Minutes,2);break;case"s":de=Pr(vr.Seconds,1);break;case"ss":de=Pr(vr.Seconds,2);break;case"S":de=Pr(vr.FractionalSeconds,1);break;case"SS":de=Pr(vr.FractionalSeconds,2);break;case"SSS":de=Pr(vr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":de=ns(fr.Short);break;case"ZZZZZ":de=ns(fr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":de=ns(fr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":de=ns(fr.Long);break;default:return null}return lr[F]=de,de}(Ri);Fi+=Ur?Ur(Ne,W,li):"''"===Ri?"'":Ri.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fi}function Ei(F,de,W){const oe=new Date(0);return oe.setFullYear(F,de,W),oe.setHours(0,0,0),oe}function Jr(F,de){const W=function kn(F){return(0,b.cg1)(F)[b.wAp.LocaleId]}(F);if(Fr[W]=Fr[W]||{},Fr[W][de])return Fr[W][de];let oe="";switch(de){case"shortDate":oe=ft(F,Ke.Short);break;case"mediumDate":oe=ft(F,Ke.Medium);break;case"longDate":oe=ft(F,Ke.Long);break;case"fullDate":oe=ft(F,Ke.Full);break;case"shortTime":oe=It(F,Ke.Short);break;case"mediumTime":oe=It(F,Ke.Medium);break;case"longTime":oe=It(F,Ke.Long);break;case"fullTime":oe=It(F,Ke.Full);break;case"short":const Ne=Jr(F,"shortTime"),Mt=Jr(F,"shortDate");oe=Wr($e(F,Ke.Short),[Ne,Mt]);break;case"medium":const Jt=Jr(F,"mediumTime"),Kn=Jr(F,"mediumDate");oe=Wr($e(F,Ke.Medium),[Jt,Kn]);break;case"long":const li=Jr(F,"longTime"),Fi=Jr(F,"longDate");oe=Wr($e(F,Ke.Long),[li,Fi]);break;case"full":const Ri=Jr(F,"fullTime"),Ur=Jr(F,"fullDate");oe=Wr($e(F,Ke.Full),[Ri,Ur])}return oe&&(Fr[W][de]=oe),oe}function Wr(F,de){return de&&(F=F.replace(/\{([^}]+)}/g,function(W,oe){return null!=de&&oe in de?de[oe]:W})),F}function Oi(F,de,W="-",oe,Ne){let Mt="";(F<0||Ne&&F<=0)&&(Ne?F=1-F:(F=-F,Mt=W));let Jt=String(F);for(;Jt.length<de;)Jt="0"+Jt;return oe&&(Jt=Jt.slice(Jt.length-de)),Mt+Jt}function Pr(F,de,W=0,oe=!1,Ne=!1){return function(Mt,Jt){let Kn=function so(F,de){switch(F){case vr.FullYear:return de.getFullYear();case vr.Month:return de.getMonth();case vr.Date:return de.getDate();case vr.Hours:return de.getHours();case vr.Minutes:return de.getMinutes();case vr.Seconds:return de.getSeconds();case vr.FractionalSeconds:return de.getMilliseconds();case vr.Day:return de.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,Mt);if((W>0||Kn>-W)&&(Kn+=W),F===vr.Hours)0===Kn&&-12===W&&(Kn=12);else if(F===vr.FractionalSeconds)return function as(F,de){return Oi(F,3).substring(0,de)}(Kn,de);const li=Ce(Jt,ln.MinusSign);return Oi(Kn,de,li,oe,Ne)}}function Hn(F,de,W=Yt.Format,oe=!1){return function(Ne,Mt){return function ls(F,de,W,oe,Ne,Mt){switch(W){case ar.Months:return function Pn(F,de,W){const oe=(0,b.cg1)(F),Mt=$n([oe[b.wAp.MonthsFormat],oe[b.wAp.MonthsStandalone]],de);return $n(Mt,W)}(de,Ne,oe)[F.getMonth()];case ar.Days:return function je(F,de,W){const oe=(0,b.cg1)(F),Mt=$n([oe[b.wAp.DaysFormat],oe[b.wAp.DaysStandalone]],de);return $n(Mt,W)}(de,Ne,oe)[F.getDay()];case ar.DayPeriods:const Jt=F.getHours(),Kn=F.getMinutes();if(Mt){const Fi=function Zt(F){const de=(0,b.cg1)(F);return Er(de),(de[b.wAp.ExtraData][2]||[]).map(oe=>"string"==typeof oe?Rn(oe):[Rn(oe[0]),Rn(oe[1])])}(de),Ri=function pn(F,de,W){const oe=(0,b.cg1)(F);Er(oe);const Mt=$n([oe[b.wAp.ExtraData][0],oe[b.wAp.ExtraData][1]],de)||[];return $n(Mt,W)||[]}(de,Ne,oe),Ur=Fi.findIndex(zi=>{if(Array.isArray(zi)){const[hi,ws]=zi,Bs=Jt>=hi.hours&&Kn>=hi.minutes,Mo=Jt<ws.hours||Jt===ws.hours&&Kn<ws.minutes;if(hi.hours<ws.hours){if(Bs&&Mo)return!0}else if(Bs||Mo)return!0}else if(zi.hours===Jt&&zi.minutes===Kn)return!0;return!1});if(-1!==Ur)return Ri[Ur]}return function tt(F,de,W){const oe=(0,b.cg1)(F),Mt=$n([oe[b.wAp.DayPeriodsFormat],oe[b.wAp.DayPeriodsStandalone]],de);return $n(Mt,W)}(de,Ne,oe)[Jt<12?0:1];case ar.Eras:return function rt(F,de){return $n((0,b.cg1)(F)[b.wAp.Eras],de)}(de,oe)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(Ne,Mt,F,de,W,oe)}}function ns(F){return function(de,W,oe){const Ne=-1*oe,Mt=Ce(W,ln.MinusSign),Jt=Ne>0?Math.floor(Ne/60):Math.ceil(Ne/60);switch(F){case fr.Short:return(Ne>=0?"+":"")+Oi(Jt,2,Mt)+Oi(Math.abs(Ne%60),2,Mt);case fr.ShortGMT:return"GMT"+(Ne>=0?"+":"")+Oi(Jt,1,Mt);case fr.Long:return"GMT"+(Ne>=0?"+":"")+Oi(Jt,2,Mt)+":"+Oi(Math.abs(Ne%60),2,Mt);case fr.Extended:return 0===oe?"Z":(Ne>=0?"+":"")+Oi(Jt,2,Mt)+":"+Oi(Math.abs(Ne%60),2,Mt);default:throw new Error(`Unknown zone width "${F}"`)}}}const oi=0,et=4;function Bn(F){return Ei(F.getFullYear(),F.getMonth(),F.getDate()+(et-F.getDay()))}function Zr(F,de=!1){return function(W,oe){let Ne;if(de){const Mt=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,Jt=W.getDate();Ne=1+Math.floor((Jt+Mt)/7)}else{const Mt=Bn(W),Jt=function Xr(F){const de=Ei(F,oi,1).getDay();return Ei(F,0,1+(de<=et?et:et+7)-de)}(Mt.getFullYear()),Kn=Mt.getTime()-Jt.getTime();Ne=1+Math.round(Kn/6048e5)}return Oi(Ne,F,Ce(oe,ln.MinusSign))}}function ei(F,de=!1){return function(W,oe){return Oi(Bn(W).getFullYear(),F,Ce(oe,ln.MinusSign),de)}}const lr={};function Gi(F,de){F=F.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(W)?de:W}function ae(F){return F instanceof Date&&!isNaN(F.valueOf())}function ur(F,de){de=encodeURIComponent(de);for(const W of F.split(";")){const oe=W.indexOf("="),[Ne,Mt]=-1==oe?[W,""]:[W.slice(0,oe),W.slice(oe+1)];if(Ne.trim()===de)return decodeURIComponent(Mt)}return null}const dr=/\s+/,Vn=[];let mr=(()=>{class F{constructor(W,oe,Ne,Mt){this._iterableDiffers=W,this._keyValueDiffers=oe,this._ngEl=Ne,this._renderer=Mt,this.initialClasses=Vn,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(dr):Vn}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(dr):W}ngDoCheck(){for(const oe of this.initialClasses)this._updateState(oe,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const oe of W)this._updateState(oe,!0);else if(null!=W)for(const oe of Object.keys(W))this._updateState(oe,!!W[oe]);this._applyStateDiff()}_updateState(W,oe){const Ne=this.stateMap.get(W);void 0!==Ne?(Ne.enabled!==oe&&(Ne.changed=!0,Ne.enabled=oe),Ne.touched=!0):this.stateMap.set(W,{enabled:oe,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const oe=W[0],Ne=W[1];Ne.changed?(this._toggleClass(oe,Ne.enabled),Ne.changed=!1):Ne.touched||(Ne.enabled&&this._toggleClass(oe,!1),this.stateMap.delete(oe)),Ne.touched=!1}}_toggleClass(W,oe){(W=W.trim()).length>0&&W.split(dr).forEach(Ne=>{oe?this._renderer.addClass(this._ngEl.nativeElement,Ne):this._renderer.removeClass(this._ngEl.nativeElement,Ne)})}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))};static#t=this.\u0275dir=b.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return F})();class _r{constructor(de,W,oe,Ne){this.$implicit=de,this.ngForOf=W,this.index=oe,this.count=Ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let si=(()=>{class F{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,oe,Ne){this._viewContainer=W,this._template=oe,this._differs=Ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const oe=this._viewContainer;W.forEachOperation((Ne,Mt,Jt)=>{if(null==Ne.previousIndex)oe.createEmbeddedView(this._template,new _r(Ne.item,this._ngForOf,-1,-1),null===Jt?void 0:Jt);else if(null==Jt)oe.remove(null===Mt?void 0:Mt);else if(null!==Mt){const Kn=oe.get(Mt);oe.move(Kn,Jt),di(Kn,Ne)}});for(let Ne=0,Mt=oe.length;Ne<Mt;Ne++){const Kn=oe.get(Ne).context;Kn.index=Ne,Kn.count=Mt,Kn.ngForOf=this._ngForOf}W.forEachIdentityChange(Ne=>{di(oe.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard(W,oe){return!0}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))};static#t=this.\u0275dir=b.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return F})();function di(F,de){F.context.$implicit=de.item}let gs=(()=>{class F{constructor(W,oe){this._viewContainer=W,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){Mn("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){Mn("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,oe){return!0}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.Y36(b.s_b),b.Y36(b.Rgc))};static#t=this.\u0275dir=b.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return F})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function Mn(F,de){if(de&&!de.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,b.AaK)(de)}'.`)}class rn{constructor(de,W){this._viewContainerRef=de,this._templateRef=W,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(de){de&&!this._created?this.create():!de&&this._created&&this.destroy()}}let Un=(()=>{class F{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(W){this._ngSwitch=W,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(W){this._defaultViews.push(W)}_matchCase(W){const oe=W==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(W){if(this._defaultViews.length>0&&W!==this._defaultUsed){this._defaultUsed=W;for(const oe of this._defaultViews)oe.enforceState(W)}}static#e=this.\u0275fac=function(oe){return new(oe||F)};static#t=this.\u0275dir=b.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return F})(),Wn=(()=>{class F{constructor(W,oe,Ne){this.ngSwitch=Ne,Ne._addCase(),this._view=new rn(W,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(Un,9))};static#t=this.\u0275dir=b.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return F})();function cs(F,de){return new b.vHH(2100,!1)}let zs=(()=>{class F{transform(W){if(null==W)return null;if("string"!=typeof W)throw cs();return W.toUpperCase()}static#e=this.\u0275fac=function(oe){return new(oe||F)};static#t=this.\u0275pipe=b.Yjl({name:"uppercase",type:F,pure:!0,standalone:!0})}return F})();const Xs=new b.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),xi=new b.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ho=(()=>{class F{constructor(W,oe,Ne){this.locale=W,this.defaultTimezone=oe,this.defaultOptions=Ne}transform(W,oe,Ne,Mt){if(null==W||""===W||W!=W)return null;try{return Mi(W,oe??this.defaultOptions?.dateFormat??"mediumDate",Mt||this.locale,Ne??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Jt){throw cs()}}static#e=this.\u0275fac=function(oe){return new(oe||F)(b.Y36(b.soG,16),b.Y36(Xs,24),b.Y36(xi,24))};static#t=this.\u0275pipe=b.Yjl({name:"date",type:F,pure:!0,standalone:!0})}return F})(),ms=(()=>{class F{static#e=this.\u0275fac=function(oe){return new(oe||F)};static#t=this.\u0275mod=b.oAB({type:F});static#n=this.\u0275inj=b.cJS({})}return F})();const _s="browser",da="server";function Ln(F){return F===_s}function nr(F){return F===da}let Kr=(()=>{class F{static#e=this.\u0275prov=(0,b.Yz7)({token:F,providedIn:"root",factory:()=>new qi((0,b.LFG)(Ze),window)})}return F})();class qi{constructor(de,W){this.document=de,this.window=W,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(de){this.supportsScrolling()&&this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){if(!this.supportsScrolling())return;const W=function ai(F,de){const W=F.getElementById(de)||F.getElementsByName(de)[0];if(W)return W;if("function"==typeof F.createTreeWalker&&F.body&&"function"==typeof F.body.attachShadow){const oe=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let Ne=oe.currentNode;for(;Ne;){const Mt=Ne.shadowRoot;if(Mt){const Jt=Mt.getElementById(de)||Mt.querySelector(`[name="${de}"]`);if(Jt)return Jt}Ne=oe.nextNode()}}return null}(this.document,de);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(de){this.supportsScrolling()&&(this.window.history.scrollRestoration=de)}scrollToElement(de){const W=de.getBoundingClientRect(),oe=W.left+this.window.pageXOffset,Ne=W.top+this.window.pageYOffset,Mt=this.offset();this.window.scrollTo(oe-Mt[0],Ne-Mt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wi{}},9862:(Xn,Lt,ne)=>{ne.d(Lt,{JF:()=>Ee,eN:()=>De});var b=ne(4946),_e=ne(2096),Fe=ne(2459),O=ne(5592),A=ne(6328),Ze=ne(2181),Le=ne(7398),ht=ne(4716),vt=ne(4664),Ve=ne(6814);class ke{}class _t{}class Qt{constructor(ze){this.normalizedNames=new Map,this.lazyUpdate=null,ze?"string"==typeof ze?this.lazyInit=()=>{this.headers=new Map,ze.split("\n").forEach(Ge=>{const Bt=Ge.indexOf(":");if(Bt>0){const cn=Ge.slice(0,Bt),gn=cn.toLowerCase(),fn=Ge.slice(Bt+1).trim();this.maybeSetNormalizedName(cn,gn),this.headers.has(gn)?this.headers.get(gn).push(fn):this.headers.set(gn,[fn])}})}:typeof Headers<"u"&&ze instanceof Headers?(this.headers=new Map,ze.forEach((Ge,Bt)=>{this.setHeaderEntries(Bt,Ge)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ze).forEach(([Ge,Bt])=>{this.setHeaderEntries(Ge,Bt)})}:this.headers=new Map}has(ze){return this.init(),this.headers.has(ze.toLowerCase())}get(ze){this.init();const Ge=this.headers.get(ze.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ze){return this.init(),this.headers.get(ze.toLowerCase())||null}append(ze,Ge){return this.clone({name:ze,value:Ge,op:"a"})}set(ze,Ge){return this.clone({name:ze,value:Ge,op:"s"})}delete(ze,Ge){return this.clone({name:ze,value:Ge,op:"d"})}maybeSetNormalizedName(ze,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,ze)}init(){this.lazyInit&&(this.lazyInit instanceof Qt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ze=>this.applyUpdate(ze)),this.lazyUpdate=null))}copyFrom(ze){ze.init(),Array.from(ze.headers.keys()).forEach(Ge=>{this.headers.set(Ge,ze.headers.get(Ge)),this.normalizedNames.set(Ge,ze.normalizedNames.get(Ge))})}clone(ze){const Ge=new Qt;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof Qt?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([ze]),Ge}applyUpdate(ze){const Ge=ze.name.toLowerCase();switch(ze.op){case"a":case"s":let Bt=ze.value;if("string"==typeof Bt&&(Bt=[Bt]),0===Bt.length)return;this.maybeSetNormalizedName(ze.name,Ge);const cn=("a"===ze.op?this.headers.get(Ge):void 0)||[];cn.push(...Bt),this.headers.set(Ge,cn);break;case"d":const gn=ze.value;if(gn){let fn=this.headers.get(Ge);if(!fn)return;fn=fn.filter(br=>-1===gn.indexOf(br)),0===fn.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,fn)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}setHeaderEntries(ze,Ge){const Bt=(Array.isArray(Ge)?Ge:[Ge]).map(gn=>gn.toString()),cn=ze.toLowerCase();this.headers.set(cn,Bt),this.maybeSetNormalizedName(ze,cn)}forEach(ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>ze(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class Vt{encodeKey(ze){return er(ze)}encodeValue(ze){return er(ze)}decodeKey(ze){return decodeURIComponent(ze)}decodeValue(ze){return decodeURIComponent(ze)}}const Tn=/%(\d[a-f0-9])/gi,wn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function er(lt){return encodeURIComponent(lt).replace(Tn,(ze,Ge)=>wn[Ge]??ze)}function nn(lt){return`${lt}`}class We{constructor(ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ze.encoder||new Vt,ze.fromString){if(ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ut(lt,ze){const Ge=new Map;return lt.length>0&&lt.replace(/^\?/,"").split("&").forEach(cn=>{const gn=cn.indexOf("="),[fn,br]=-1==gn?[ze.decodeKey(cn),""]:[ze.decodeKey(cn.slice(0,gn)),ze.decodeValue(cn.slice(gn+1))],On=Ge.get(fn)||[];On.push(br),Ge.set(fn,On)}),Ge}(ze.fromString,this.encoder)}else ze.fromObject?(this.map=new Map,Object.keys(ze.fromObject).forEach(Ge=>{const Bt=ze.fromObject[Ge],cn=Array.isArray(Bt)?Bt.map(nn):[nn(Bt)];this.map.set(Ge,cn)})):this.map=null}has(ze){return this.init(),this.map.has(ze)}get(ze){this.init();const Ge=this.map.get(ze);return Ge?Ge[0]:null}getAll(ze){return this.init(),this.map.get(ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ze,Ge){return this.clone({param:ze,value:Ge,op:"a"})}appendAll(ze){const Ge=[];return Object.keys(ze).forEach(Bt=>{const cn=ze[Bt];Array.isArray(cn)?cn.forEach(gn=>{Ge.push({param:Bt,value:gn,op:"a"})}):Ge.push({param:Bt,value:cn,op:"a"})}),this.clone(Ge)}set(ze,Ge){return this.clone({param:ze,value:Ge,op:"s"})}delete(ze,Ge){return this.clone({param:ze,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(ze=>{const Ge=this.encoder.encodeKey(ze);return this.map.get(ze).map(Bt=>Ge+"="+this.encoder.encodeValue(Bt)).join("&")}).filter(ze=>""!==ze).join("&")}clone(ze){const Ge=new We({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(ze),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ze=>this.map.set(ze,this.cloneFrom.map.get(ze))),this.updates.forEach(ze=>{switch(ze.op){case"a":case"s":const Ge=("a"===ze.op?this.map.get(ze.param):void 0)||[];Ge.push(nn(ze.value)),this.map.set(ze.param,Ge);break;case"d":if(void 0===ze.value){this.map.delete(ze.param);break}{let Bt=this.map.get(ze.param)||[];const cn=Bt.indexOf(nn(ze.value));-1!==cn&&Bt.splice(cn,1),Bt.length>0?this.map.set(ze.param,Bt):this.map.delete(ze.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(ze,Ge){return this.map.set(ze,Ge),this}get(ze){return this.map.has(ze)||this.map.set(ze,ze.defaultValue()),this.map.get(ze)}delete(ze){return this.map.delete(ze),this}has(ze){return this.map.has(ze)}keys(){return this.map.keys()}}function Yt(lt){return typeof ArrayBuffer<"u"&&lt instanceof ArrayBuffer}function zt(lt){return typeof Blob<"u"&&lt instanceof Blob}function Ke(lt){return typeof FormData<"u"&&lt instanceof FormData}class Qn{constructor(ze,Ge,Bt,cn){let gn;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ze.toUpperCase(),function Ot(lt){switch(lt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||cn?(this.body=void 0!==Bt?Bt:null,gn=cn):gn=Bt,gn&&(this.reportProgress=!!gn.reportProgress,this.withCredentials=!!gn.withCredentials,gn.responseType&&(this.responseType=gn.responseType),gn.headers&&(this.headers=gn.headers),gn.context&&(this.context=gn.context),gn.params&&(this.params=gn.params)),this.headers||(this.headers=new Qt),this.context||(this.context=new Ct),this.params){const fn=this.params.toString();if(0===fn.length)this.urlWithParams=Ge;else{const br=Ge.indexOf("?");this.urlWithParams=Ge+(-1===br?"?":br<Ge.length-1?"&":"")+fn}}else this.params=new We,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:Yt(this.body)||zt(this.body)||Ke(this.body)||function ln(lt){return typeof URLSearchParams<"u"&&lt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:zt(this.body)?this.body.type||null:Yt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ze={}){const Ge=ze.method||this.method,Bt=ze.url||this.url,cn=ze.responseType||this.responseType,gn=void 0!==ze.body?ze.body:this.body,fn=void 0!==ze.withCredentials?ze.withCredentials:this.withCredentials,br=void 0!==ze.reportProgress?ze.reportProgress:this.reportProgress;let On=ze.headers||this.headers,gt=ze.params||this.params;const dt=ze.context??this.context;return void 0!==ze.setHeaders&&(On=Object.keys(ze.setHeaders).reduce((Pt,_n)=>Pt.set(_n,ze.setHeaders[_n]),On)),ze.setParams&&(gt=Object.keys(ze.setParams).reduce((Pt,_n)=>Pt.set(_n,ze.setParams[_n]),gt)),new Qn(Ge,Bt,gn,{params:gt,headers:On,context:dt,reportProgress:br,responseType:cn,withCredentials:fn})}}var kn=function(lt){return lt[lt.Sent=0]="Sent",lt[lt.UploadProgress=1]="UploadProgress",lt[lt.ResponseHeader=2]="ResponseHeader",lt[lt.DownloadProgress=3]="DownloadProgress",lt[lt.Response=4]="Response",lt[lt.User=5]="User",lt}(kn||{});class tt{constructor(ze,Ge=200,Bt="OK"){this.headers=ze.headers||new Qt,this.status=void 0!==ze.status?ze.status:Ge,this.statusText=ze.statusText||Bt,this.url=ze.url||null,this.ok=this.status>=200&&this.status<300}}class je extends tt{constructor(ze={}){super(ze),this.type=kn.ResponseHeader}clone(ze={}){return new je({headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class Pn extends tt{constructor(ze={}){super(ze),this.type=kn.Response,this.body=void 0!==ze.body?ze.body:null}clone(ze={}){return new Pn({body:void 0!==ze.body?ze.body:this.body,headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class rt extends tt{constructor(ze){super(ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ze.url||"(unknown url)"}`:`Http failure response for ${ze.url||"(unknown url)"}: ${ze.status} ${ze.statusText}`,this.error=ze.error||null}}function Ye(lt,ze){return{body:ze,headers:lt.headers,context:lt.context,observe:lt.observe,params:lt.params,reportProgress:lt.reportProgress,responseType:lt.responseType,withCredentials:lt.withCredentials}}let De=(()=>{class lt{constructor(Ge){this.handler=Ge}request(Ge,Bt,cn={}){let gn;if(Ge instanceof Qn)gn=Ge;else{let On,gt;On=cn.headers instanceof Qt?cn.headers:new Qt(cn.headers),cn.params&&(gt=cn.params instanceof We?cn.params:new We({fromObject:cn.params})),gn=new Qn(Ge,Bt,void 0!==cn.body?cn.body:null,{headers:On,context:cn.context,params:gt,reportProgress:cn.reportProgress,responseType:cn.responseType||"json",withCredentials:cn.withCredentials})}const fn=(0,_e.of)(gn).pipe((0,A.b)(On=>this.handler.handle(On)));if(Ge instanceof Qn||"events"===cn.observe)return fn;const br=fn.pipe((0,Ze.h)(On=>On instanceof Pn));switch(cn.observe||"body"){case"body":switch(gn.responseType){case"arraybuffer":return br.pipe((0,Le.U)(On=>{if(null!==On.body&&!(On.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return On.body}));case"blob":return br.pipe((0,Le.U)(On=>{if(null!==On.body&&!(On.body instanceof Blob))throw new Error("Response is not a Blob.");return On.body}));case"text":return br.pipe((0,Le.U)(On=>{if(null!==On.body&&"string"!=typeof On.body)throw new Error("Response is not a string.");return On.body}));default:return br.pipe((0,Le.U)(On=>On.body))}case"response":return br;default:throw new Error(`Unreachable: unhandled observe type ${cn.observe}}`)}}delete(Ge,Bt={}){return this.request("DELETE",Ge,Bt)}get(Ge,Bt={}){return this.request("GET",Ge,Bt)}head(Ge,Bt={}){return this.request("HEAD",Ge,Bt)}jsonp(Ge,Bt){return this.request("JSONP",Ge,{params:(new We).append(Bt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,Bt={}){return this.request("OPTIONS",Ge,Bt)}patch(Ge,Bt,cn={}){return this.request("PATCH",Ge,Ye(cn,Bt))}post(Ge,Bt,cn={}){return this.request("POST",Ge,Ye(cn,Bt))}put(Ge,Bt,cn={}){return this.request("PUT",Ge,Ye(cn,Bt))}static#e=this.\u0275fac=function(Bt){return new(Bt||lt)(b.LFG(ke))};static#t=this.\u0275prov=b.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();function pt(lt,ze){return ze(lt)}function bt(lt,ze){return(Ge,Bt)=>ze.intercept(Ge,{handle:cn=>lt(cn,Bt)})}const Er=new b.OlP(""),Zt=new b.OlP(""),pn=new b.OlP("");function qn(){let lt=null;return(ze,Ge)=>{null===lt&&(lt=((0,b.f3M)(Er,{optional:!0})??[]).reduceRight(bt,pt));const Bt=(0,b.f3M)(b.HDt),cn=Bt.add();return lt(ze,Ge).pipe((0,ht.x)(()=>Bt.remove(cn)))}}let $n=(()=>{class lt extends ke{constructor(Ge,Bt){super(),this.backend=Ge,this.injector=Bt,this.chain=null,this.pendingTasks=(0,b.f3M)(b.HDt)}handle(Ge){if(null===this.chain){const cn=Array.from(new Set([...this.injector.get(Zt),...this.injector.get(pn,[])]));this.chain=cn.reduceRight((gn,fn)=>function Cn(lt,ze,Ge){return(Bt,cn)=>Ge.runInContext(()=>ze(Bt,gn=>lt(gn,cn)))}(gn,fn,this.injector),pt)}const Bt=this.pendingTasks.add();return this.chain(Ge,cn=>this.backend.handle(cn)).pipe((0,ht.x)(()=>this.pendingTasks.remove(Bt)))}static#e=this.\u0275fac=function(Bt){return new(Bt||lt)(b.LFG(_t),b.LFG(b.lqb))};static#t=this.\u0275prov=b.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();const Ei=/^\)\]\}',?\n/;let Wr=(()=>{class lt{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new b.vHH(-2800,!1);const Bt=this.xhrFactory;return(Bt.\u0275loadImpl?(0,Fe.D)(Bt.\u0275loadImpl()):(0,_e.of)(null)).pipe((0,vt.w)(()=>new O.y(gn=>{const fn=Bt.build();if(fn.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(fn.withCredentials=!0),Ge.headers.forEach((Vn,mr)=>fn.setRequestHeader(Vn,mr.join(","))),Ge.headers.has("Accept")||fn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const Vn=Ge.detectContentTypeHeader();null!==Vn&&fn.setRequestHeader("Content-Type",Vn)}if(Ge.responseType){const Vn=Ge.responseType.toLowerCase();fn.responseType="json"!==Vn?Vn:"text"}const br=Ge.serializeBody();let On=null;const gt=()=>{if(null!==On)return On;const Vn=fn.statusText||"OK",mr=new Qt(fn.getAllResponseHeaders()),Cr=function Jr(lt){return"responseURL"in lt&&lt.responseURL?lt.responseURL:/^X-Request-URL:/m.test(lt.getAllResponseHeaders())?lt.getResponseHeader("X-Request-URL"):null}(fn)||Ge.url;return On=new je({headers:mr,status:fn.status,statusText:Vn,url:Cr}),On},dt=()=>{let{headers:Vn,status:mr,statusText:Cr,url:_i}=gt(),_r=null;204!==mr&&(_r=typeof fn.response>"u"?fn.responseText:fn.response),0===mr&&(mr=_r?200:0);let si=mr>=200&&mr<300;if("json"===Ge.responseType&&"string"==typeof _r){const di=_r;_r=_r.replace(Ei,"");try{_r=""!==_r?JSON.parse(_r):null}catch(So){_r=di,si&&(si=!1,_r={error:So,text:_r})}}si?(gn.next(new Pn({body:_r,headers:Vn,status:mr,statusText:Cr,url:_i||void 0})),gn.complete()):gn.error(new rt({error:_r,headers:Vn,status:mr,statusText:Cr,url:_i||void 0}))},Pt=Vn=>{const{url:mr}=gt(),Cr=new rt({error:Vn,status:fn.status||0,statusText:fn.statusText||"Unknown Error",url:mr||void 0});gn.error(Cr)};let _n=!1;const ur=Vn=>{_n||(gn.next(gt()),_n=!0);let mr={type:kn.DownloadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(mr.total=Vn.total),"text"===Ge.responseType&&fn.responseText&&(mr.partialText=fn.responseText),gn.next(mr)},dr=Vn=>{let mr={type:kn.UploadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(mr.total=Vn.total),gn.next(mr)};return fn.addEventListener("load",dt),fn.addEventListener("error",Pt),fn.addEventListener("timeout",Pt),fn.addEventListener("abort",Pt),Ge.reportProgress&&(fn.addEventListener("progress",ur),null!==br&&fn.upload&&fn.upload.addEventListener("progress",dr)),fn.send(br),gn.next({type:kn.Sent}),()=>{fn.removeEventListener("error",Pt),fn.removeEventListener("abort",Pt),fn.removeEventListener("load",dt),fn.removeEventListener("timeout",Pt),Ge.reportProgress&&(fn.removeEventListener("progress",ur),null!==br&&fn.upload&&fn.upload.removeEventListener("progress",dr)),fn.readyState!==fn.DONE&&fn.abort()}})))}static#e=this.\u0275fac=function(Bt){return new(Bt||lt)(b.LFG(Ve.JF))};static#t=this.\u0275prov=b.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();const Oi=new b.OlP("XSRF_ENABLED"),Pr=new b.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hn=new b.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ls{}let ns=(()=>{class lt{constructor(Ge,Bt,cn){this.doc=Ge,this.platform=Bt,this.cookieName=cn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ve.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}static#e=this.\u0275fac=function(Bt){return new(Bt||lt)(b.LFG(Ve.K0),b.LFG(b.Lbi),b.LFG(Pr))};static#t=this.\u0275prov=b.Yz7({token:lt,factory:lt.\u0275fac})}return lt})();function oi(lt,ze){const Ge=lt.url.toLowerCase();if(!(0,b.f3M)(Oi)||"GET"===lt.method||"HEAD"===lt.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return ze(lt);const Bt=(0,b.f3M)(ls).getToken(),cn=(0,b.f3M)(Hn);return null!=Bt&&!lt.headers.has(cn)&&(lt=lt.clone({headers:lt.headers.set(cn,Bt)})),ze(lt)}var Xr=function(lt){return lt[lt.Interceptors=0]="Interceptors",lt[lt.LegacyInterceptors=1]="LegacyInterceptors",lt[lt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",lt[lt.NoXsrfProtection=3]="NoXsrfProtection",lt[lt.JsonpSupport=4]="JsonpSupport",lt[lt.RequestsMadeViaParent=5]="RequestsMadeViaParent",lt[lt.Fetch=6]="Fetch",lt}(Xr||{});function Zr(...lt){const ze=[De,Wr,$n,{provide:ke,useExisting:$n},{provide:_t,useExisting:Wr},{provide:Zt,useValue:oi,multi:!0},{provide:Oi,useValue:!0},{provide:ls,useClass:ns}];for(const Ge of lt)ze.push(...Ge.\u0275providers);return(0,b.MR2)(ze)}const lr=new b.OlP("LEGACY_INTERCEPTOR_FN");function Br(){return function Bn(lt,ze){return{\u0275kind:lt,\u0275providers:ze}}(Xr.LegacyInterceptors,[{provide:lr,useFactory:qn},{provide:Zt,useExisting:lr,multi:!0}])}let Ee=(()=>{class lt{static#e=this.\u0275fac=function(Bt){return new(Bt||lt)};static#t=this.\u0275mod=b.oAB({type:lt});static#n=this.\u0275inj=b.cJS({providers:[Zr(Br())]})}return lt})()},4946:(Xn,Lt,ne)=>{ne.d(Lt,{QbO:()=>wg,tb:()=>Hv,AFp:()=>Fm,ip1:()=>Z0,hGG:()=>BA,z2F:()=>cg,Ojb:()=>Cg,sBO:()=>wA,Sil:()=>$C,_Vd:()=>nf,EJc:()=>jC,Xts:()=>Qh,SBq:()=>Lp,lqb:()=>Xc,qLn:()=>eu,vpe:()=>tu,XFs:()=>Hn,OlP:()=>lr,zs3:()=>bc,ZZ4:()=>Zv,aQg:()=>Kv,soG:()=>G_,YKP:()=>WE,h0i:()=>fp,PXZ:()=>mA,R0b:()=>Ra,FiY:()=>bu,Lbi:()=>Zd,g9A:()=>Pp,Qsj:()=>yy,FYo:()=>_y,JOm:()=>Du,q3G:()=>Qc,tp0:()=>Uc,Rgc:()=>gm,dDg:()=>hA,eoX:()=>nT,q4F:()=>eh,GfV:()=>pd,s_b:()=>z_,ifc:()=>Cr,VuI:()=>QA,MMx:()=>KE,Lck:()=>Sw,eFA:()=>oT,Gpc:()=>zt,f3M:()=>On,$WT:()=>Vs,MR2:()=>Pm,_c5:()=>UA,qFp:()=>XA,rg0:()=>Mo,c2e:()=>K0,zSh:()=>Om,HDt:()=>Y0,wAp:()=>sg,vHH:()=>je,lri:()=>eT,rWj:()=>tT,JZr:()=>tt,EiD:()=>Cm,mCW:()=>Zh,qzn:()=>tl,JVY:()=>pg,pB0:()=>_g,eBb:()=>ym,L6k:()=>gg,LAX:()=>mg,cg1:()=>gv,kL8:()=>yE,dqk:()=>Bn,Z0I:()=>Mi,eJc:()=>Mv,QGY:()=>rv,F4k:()=>Ib,RDi:()=>ui,AaK:()=>Ct,z3N:()=>xa,qOj:()=>oh,Xq5:()=>g_,TTD:()=>gl,_Bn:()=>qE,jDz:()=>YE,xp6:()=>bn,uIk:()=>tm,Tol:()=>qb,ekj:()=>uv,Suo:()=>A0,Xpm:()=>ho,lG2:()=>Ps,Yz7:()=>jt,cJS:()=>vr,oAB:()=>Li,Yjl:()=>eo,Y36:()=>Rr,_UZ:()=>ks,BQk:()=>fl,ynx:()=>ku,qZA:()=>Gn,TgZ:()=>qt,EpF:()=>Tb,n5z:()=>Ih,LFG:()=>fn,$8M:()=>fu,$Z:()=>Sr,NdJ:()=>iv,CRH:()=>D0,O4$:()=>vl,oxw:()=>Sb,ALo:()=>u0,lcZ:()=>d0,xi3:()=>h0,Hsn:()=>Pb,F$t:()=>xb,Q6J:()=>te,s9C:()=>sv,MGl:()=>O_,VKq:()=>r0,iGM:()=>w0,MAs:()=>G,KtG:()=>Lr,Jf7:()=>My,CHM:()=>yr,oJD:()=>$i,LSH:()=>wp,P3R:()=>Sm,Udp:()=>cv,d8E:()=>pv,YNc:()=>cp,W1O:()=>R0,_uU:()=>Xb,Oqu:()=>hv,hij:()=>F_,AsE:()=>fv,Gf:()=>C0});var b=ne(8645),_e=ne(7394),Fe=ne(5592),O=ne(7537),A=ne(4829),Ze=ne(6232),Le=ne(4564),ht=ne(2459),Ve=ne(5619),ke=ne(2096),_t=ne(305),Qt=ne(9360);function At(t={}){const{connector:n=(()=>new b.x),resetOnError:i=!0,resetOnComplete:c=!0,resetOnRefCountZero:f=!0}=t;return _=>{let C,N,j,J=0,fe=!1,xe=!1;const at=()=>{N?.unsubscribe(),N=void 0},Et=()=>{at(),C=j=void 0,fe=xe=!1},Xt=()=>{const In=C;Et(),In?.unsubscribe()};return(0,Qt.e)((In,ir)=>{J++,!xe&&!fe&&at();const xr=j=j??n();ir.add(()=>{J--,0===J&&!xe&&!fe&&(N=Vt(Xt,f))}),xr.subscribe(ir),!C&&J>0&&(C=new _t.Hp({next:hn=>xr.next(hn),error:hn=>{xe=!0,at(),N=Vt(Et,i,hn),xr.error(hn)},complete:()=>{fe=!0,at(),N=Vt(Et,c),xr.complete()}}),(0,A.Xf)(In).subscribe(C))})(_)}}function Vt(t,n,...i){if(!0===n)return void t();if(!1===n)return;const c=new _t.Hp({next:()=>{c.unsubscribe(),t()}});return(0,A.Xf)(n(...i)).subscribe(c)}var Ut=ne(4664),Tn=ne(2737),wn=ne(8251);function nn(t,n){return t===n}function We(t){for(let n in t)if(t[n]===We)return n;throw Error("Could not find renamed property on target object.")}function ut(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Ct(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ot(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Yt=We({__forward_ref__:We});function zt(t){return t.__forward_ref__=zt,t.toString=function(){return Ct(this())},t}function Ke(t){return ln(t)?t():t}function ln(t){return"function"==typeof t&&t.hasOwnProperty(Yt)&&t.__forward_ref__===zt}function Qn(t){return t&&!!t.\u0275providers}const tt="https://g.co/ng/security#xss";class je extends Error{constructor(n,i){super(function Pn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function rt(t){return"string"==typeof t?t:null==t?"":String(t)}function $e(t,n){throw new je(-201,!1)}function en(t,n){null==t&&function An(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function jt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ar(t){return Ei(t,Oi)||Ei(t,Pr)}function Mi(t){return null!==ar(t)}function Ei(t,n){return t.hasOwnProperty(n)?t[n]:null}function Wr(t){return t&&(t.hasOwnProperty(as)||t.hasOwnProperty(so))?t[as]:null}const Oi=We({\u0275prov:We}),as=We({\u0275inj:We}),Pr=We({ngInjectableDef:We}),so=We({ngInjectorDef:We});var Hn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Hn||{});let ls;function oi(t){const n=ls;return ls=t,n}function et(t,n,i){const c=ar(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&Hn.Optional?null:void 0!==n?n:void $e(Ct(t))}const Bn=globalThis;class lr{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=jt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Dn={},pr="__NG_DI_FLAG__",sr="ngTempTokenPath",Mr=/\n/gm,ze="__source";let Ge;function cn(t){const n=Ge;return Ge=t,n}function gn(t,n=Hn.Default){if(void 0===Ge)throw new je(-203,!1);return null===Ge?et(t,void 0,n):Ge.get(t,n&Hn.Optional?null:void 0,n)}function fn(t,n=Hn.Default){return(function ns(){return ls}()||gn)(Ke(t),n)}function On(t,n=Hn.Default){return fn(t,gt(n))}function gt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dt(t){const n=[];for(let i=0;i<t.length;i++){const c=Ke(t[i]);if(Array.isArray(c)){if(0===c.length)throw new je(900,!1);let f,_=Hn.Default;for(let C=0;C<c.length;C++){const N=c[C],j=_n(N);"number"==typeof j?-1===j?f=N.token:_|=j:f=N}n.push(fn(f,_))}else n.push(fn(c))}return n}function Pt(t,n){return t[pr]=n,t.prototype[pr]=n,t}function _n(t){return t[pr]}function Vn(t){return{toString:t}.toString()}var mr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mr||{}),Cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cr||{});const _i={},_r=[],si=We({\u0275cmp:We}),di=We({\u0275dir:We}),So=We({\u0275pipe:We}),gs=We({\u0275mod:We}),Ir=We({\u0275fac:We}),Mn=We({__NG_ELEMENT_ID__:We}),rn=We({__NG_ENV_ID__:We});function Un(t,n,i){let c=t.length;for(;;){const f=t.indexOf(n,i);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const _=n.length;if(f+_===c||t.charCodeAt(f+_)<=32)return f}i=f+1}}function Wn(t,n,i){let c=0;for(;c<i.length;){const f=i[c];if("number"==typeof f){if(0!==f)break;c++;const _=i[c++],C=i[c++],N=i[c++];t.setAttribute(n,C,N,_)}else{const _=f,C=i[++c];ki(_)?t.setProperty(n,_,C):t.setAttribute(n,_,C),c++}}return c}function Or(t){return 3===t||4===t||6===t}function ki(t){return 64===t.charCodeAt(0)}function Vr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?i=f:0===i||Yr(t,i,f,null,-1===i||2===i?n[++c]:null)}}return t}function Yr(t,n,i,c,f){let _=0,C=t.length;if(-1===n)C=-1;else for(;_<t.length;){const N=t[_++];if("number"==typeof N){if(N===n){C=-1;break}if(N>n){C=_-1;break}}}for(;_<t.length;){const N=t[_];if("number"==typeof N)break;if(N===i){if(null===c)return void(null!==f&&(t[_+1]=f));if(c===t[_+1])return void(t[_+2]=f)}_++,null!==c&&_++,null!==f&&_++}-1!==C&&(t.splice(C,0,n),_=C+1),t.splice(_++,0,i),null!==c&&t.splice(_++,0,c),null!==f&&t.splice(_++,0,f)}const Ji="ng-template";function Ys(t,n,i){let c=0,f=!0;for(;c<t.length;){let _=t[c++];if("string"==typeof _&&f){const C=t[c++];if(i&&"class"===_&&-1!==Un(C.toLowerCase(),n,0))return!0}else{if(1===_){for(;c<t.length&&"string"==typeof(_=t[c++]);)if(_.toLowerCase()===n)return!0;return!1}"number"==typeof _&&(f=!1)}}return!1}function Ti(t){return 4===t.type&&t.value!==Ji}function cs(t,n,i){return n===(4!==t.type||i?t.value:Ji)}function Go(t,n,i){let c=4;const f=t.attrs||[],_=function Ss(t){for(let n=0;n<t.length;n++)if(Or(t[n]))return n;return t.length}(f);let C=!1;for(let N=0;N<n.length;N++){const j=n[N];if("number"!=typeof j){if(!C)if(4&c){if(c=2|1&c,""!==j&&!cs(t,j,i)||""===j&&1===n.length){if($r(c))return!1;C=!0}}else{const J=8&c?j:n[++N];if(8&c&&null!==t.attrs){if(!Ys(t.attrs,J,i)){if($r(c))return!1;C=!0}continue}const xe=Qs(8&c?"class":j,f,Ti(t),i);if(-1===xe){if($r(c))return!1;C=!0;continue}if(""!==J){let at;at=xe>_?"":f[xe+1].toLowerCase();const Et=8&c?at:null;if(Et&&-1!==Un(Et,J,0)||2&c&&J!==at){if($r(c))return!1;C=!0}}}}else{if(!C&&!$r(c)&&!$r(j))return!1;if(C&&$r(j))continue;C=!1,c=j|1&c}}return $r(c)||C}function $r(t){return 0==(1&t)}function Qs(t,n,i,c){if(null===n)return-1;let f=0;if(c||!i){let _=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)_=!0;else{if(1===C||2===C){let N=n[++f];for(;"string"==typeof N;)N=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=_?1:2}return-1}return function Js(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function rs(t,n,i=!1){for(let c=0;c<n.length;c++)if(Go(t,n[c],i))return!0;return!1}function _o(t,n){e:for(let i=0;i<n.length;i++){const c=n[i];if(t.length===c.length){for(let f=0;f<t.length;f++)if(t[f]!==c[f])continue e;return!0}}return!1}function zs(t,n){return t?":not("+n.trim()+")":n}function yo(t){let n=t[0],i=1,c=2,f="",_=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&c){const N=t[++i];f+="["+C+(N.length>0?'="'+N+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!$r(C)&&(n+=zs(_,f),f=""),c=C,_=_||!$r(c);i++}return""!==f&&(n+=zs(_,f)),n}function ho(t){return Vn(()=>{const n=qo(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cr.Emulated,styles:t.styles||_r,_:null,schemas:t.schemas||null,tView:null,id:""};ms(i);const c=t.dependencies;return i.directiveDefs=_s(c,!1),i.pipeDefs=_s(c,!0),i.id=function Uo(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of i)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function xs(t){return Nr(t)||Pi(t)}function Fs(t){return null!==t}function Li(t){return Vn(()=>({type:t.type,bootstrap:t.bootstrap||_r,declarations:t.declarations||_r,imports:t.imports||_r,exports:t.exports||_r,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ls(t,n){if(null==t)return _i;const i={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),i[f]=c,n&&(n[f]=_)}return i}function Ps(t){return Vn(()=>{const n=qo(t);return ms(n),n})}function eo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[si]||null}function Pi(t){return t[di]||null}function yi(t){return t[So]||null}function Vs(t){const n=Nr(t)||Pi(t)||yi(t);return null!==n&&n.standalone}function Ts(t,n){const i=t[gs]||null;if(!i&&!0===n)throw new Error(`Type ${Ct(t)} does not have '\u0275mod' property.`);return i}function qo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||_i,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_r,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ls(t.inputs,n),outputs:Ls(t.outputs)}}function ms(t){t.features?.forEach(n=>n(t))}function _s(t,n){if(!t)return null;const i=n?yi:xs;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(Fs)}const Ui=0,Ln=1,nr=2,vi=3,jr=4,Ii=5,Kr=6,qi=7,ai=8,Is=9,Wi=10,En=11,Hr=12,to=13,Gs=14,Vi=15,xo=16,no=17,Us=18,fo=19,Xo=20,po=21,go=22,oo=23,ha=24,Gr=25,Ta=1,Wo=2,ys=7,is=9,Zi=11;function vs(t){return Array.isArray(t)&&"object"==typeof t[Ta]}function ie(t){return Array.isArray(t)&&!0===t[Ta]}function se(t){return 0!=(4&t.flags)}function Re(t){return t.componentOffset>-1}function Pe(t){return 1==(1&t.flags)}function ct(t){return!!t.template}function Gt(t){return 0!=(512&t[nr])}function Fa(t,n){return t.hasOwnProperty(Ir)?t[Ir]:null}let wi=null,qs=!1;function ao(t){const n=wi;return wi=t,n}const nl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function pl(t){if(!Aa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!na(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function wa(t){t.dirty=!0,function Wa(t){if(void 0===t.liveConsumerNode)return;const n=qs;qs=!0;try{for(const i of t.liveConsumerNode)i.dirty||wa(i)}finally{qs=n}}(t),t.consumerMarkedDirty?.(t)}function Os(t){return t&&(t.nextProducerIndex=0),ao(t)}function Ua(t,n){if(ao(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Aa(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ca(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function na(t){Ko(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(pl(i),c!==i.version))return!0}return!1}function Rl(t){if(Ko(t),Aa(t))for(let n=0;n<t.producerNode.length;n++)Ca(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ca(t,n){if(function rc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ko(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Ca(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Ko(f),f.producerIndexOfThis[c]=n}}function Aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ko(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ne=null;function Mo(t){const n=ao(null);try{return t()}finally{ao(n)}}const lo=()=>{},Yi=(()=>({...nl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:lo}))();class pa{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function gl(){return rl}function rl(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ic),iu}function iu(){const t=wc(this),n=t?.current;if(n){const i=t.previous;if(i===_i)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Ic(t,n,i,c){const f=this.declaredInputs[i],_=wc(t)||function il(t,n){return t[su]=n}(t,{previous:_i,current:null}),C=_.current||(_.current={}),N=_.previous,j=N[f];C[f]=new pa(j&&j.currentValue,n,N===_i),t[c]=n}gl.ngInherit=!0;const su="__ngSimpleChanges__";function wc(t){return t[su]||null}const jo=function(t,n,i){},ml="svg";function K(t){for(;Array.isArray(t);)t=t[Ui];return t}function D(t,n){return K(n[t])}function B(t,n){return K(n[t.index])}function he(t,n){return t.data[n]}function Ue(t,n){return t[n]}function Be(t,n){const i=n[t];return vs(i)?i:i[Ui]}function Fn(t,n){return null==n?null:t[n]}function ii(t){t[no]=0}function Jn(t){1024&t[nr]||(t[nr]|=1024,kr(t,1))}function rr(t){1024&t[nr]&&(t[nr]&=-1025,kr(t,-1))}function kr(t,n){let i=t[vi];if(null===i)return;i[Ii]+=n;let c=i;for(i=i[vi];null!==i&&(1===n&&1===c[Ii]||-1===n&&0===c[Ii]);)i[Ii]+=n,c=i,i=i[vi]}const Yn={lFrame:Di(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sa(){return Yn.bindingsEnabled}function wo(){return null!==Yn.skipHydrationRootTNode}function sn(){return Yn.lFrame.lView}function mn(){return Yn.lFrame.tView}function yr(t){return Yn.lFrame.contextLView=t,t[ai]}function Lr(t){return Yn.lFrame.contextLView=null,t}function cr(){let t=Ns();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ns(){return Yn.lFrame.currentTNode}function es(t,n){const i=Yn.lFrame;i.currentTNode=t,i.isParent=n}function ro(){return Yn.lFrame.isParent}function Ai(){Yn.lFrame.isParent=!1}function Xi(){const t=Yn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ma(){return Yn.lFrame.bindingIndex++}function _a(t){const n=Yn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function P(t,n){const i=Yn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Q(n)}function Q(t){Yn.lFrame.currentDirectiveIndex=t}function ge(t){const n=Yn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Me(){return Yn.lFrame.currentQueryIndex}function Rt(t){Yn.lFrame.currentQueryIndex=t}function St(t){const n=t[Ln];return 2===n.type?n.declTNode:1===n.type?t[Kr]:null}function jn(t,n,i){if(i&Hn.SkipSelf){let f=n,_=t;for(;!(f=f.parent,null!==f||i&Hn.Host||(f=St(_),null===f||(_=_[Gs],10&f.type))););if(null===f)return!1;n=f,t=_}const c=Yn.lFrame=ts();return c.currentTNode=n,c.lView=t,!0}function Ar(t){const n=ts(),i=t[Ln];Yn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function ts(){const t=Yn.lFrame,n=null===t?null:t.child;return null===n?Di(t):n}function Di(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function No(){const t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ya=No;function _l(){const t=No();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ko(){return Yn.lFrame.selectedIndex}function Nl(t){Yn.lFrame.selectedIndex=t}function bs(){const t=Yn.lFrame;return he(t.tView,t.selectedIndex)}function vl(){Yn.lFrame.currentNamespace=ml}let Vu=!0;function au(){return Vu}function ja(t){Vu=t}function va(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const _=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:N,ngAfterViewInit:j,ngAfterViewChecked:J,ngOnDestroy:fe}=_;C&&(t.contentHooks??=[]).push(-i,C),N&&((t.contentHooks??=[]).push(i,N),(t.contentCheckHooks??=[]).push(i,N)),j&&(t.viewHooks??=[]).push(-i,j),J&&((t.viewHooks??=[]).push(i,J),(t.viewCheckHooks??=[]).push(i,J)),null!=fe&&(t.destroyHooks??=[]).push(i,fe)}}function Fl(t,n,i){Ll(t,n,3,i)}function sc(t,n,i,c){(3&t[nr])===i&&Ll(t,n,i,c)}function lu(t,n){let i=t[nr];(3&i)===n&&(i&=8191,i+=1,t[nr]=i)}function Ll(t,n,i,c){const _=c??-1,C=n.length-1;let N=0;for(let j=void 0!==c?65535&t[no]:0;j<C;j++)if("number"==typeof n[j+1]){if(N=n[j],null!=c&&N>=c)break}else n[j]<0&&(t[no]+=65536),(N<_||-1==_)&&(Sa(t,i,n,j),t[no]=(4294901760&t[no])+j+2),j++}function Ac(t,n){jo(4,t,n);const i=ao(null);try{n.call(t)}finally{ao(i),jo(5,t,n)}}function Sa(t,n,i,c){const f=i[c]<0,_=i[c+1],N=t[f?-i[c]:i[c]];f?t[nr]>>13<t[no]>>16&&(3&t[nr])===n&&(t[nr]+=8192,Ac(N,_)):Ac(N,_)}const Dc=-1;class Sc{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function ol(t){return t!==Dc}function bl(t){return 32767&t}function ba(t,n){let i=function Ul(t){return t>>16}(t),c=n;for(;i>0;)c=c[Gs],i--;return c}let cu=!0;function Qa(t){const n=cu;return cu=t,n}const al=255,xc=5;let ll=0;const aa={};function ac(t,n){const i=wd(t,n);if(-1!==i)return i;const c=n[Ln];c.firstCreatePass&&(t.injectorIndex=n.length,vh(c.data,t),vh(n,null),vh(c.blueprint,null));const f=Pc(t,n),_=t.injectorIndex;if(ol(f)){const C=bl(f),N=ba(f,n),j=N[Ln].data;for(let J=0;J<8;J++)n[_+J]=N[C+J]|j[C+J]}return n[_+8]=f,_}function vh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function wd(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Pc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,f=n;for(;null!==f;){if(c=wh(f),null===c)return Dc;if(i++,f=f[Gs],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return Dc}function uu(t,n,i){!function yh(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(Mn)&&(c=i[Mn]),null==c&&(c=i[Mn]=ll++);const f=c&al;n.data[t+(f>>xc)]|=1<<f}(t,n,i)}function du(t,n,i){if(i&Hn.Optional||void 0!==t)return t;$e()}function Cd(t,n,i,c){if(i&Hn.Optional&&void 0===c&&(c=null),!(i&(Hn.Self|Hn.Host))){const f=t[Is],_=oi(void 0);try{return f?f.get(n,c,i&Hn.Optional):et(n,c,i&Hn.Optional)}finally{oi(_)}}return du(c,0,i)}function Eh(t,n,i,c=Hn.Default,f){if(null!==t){if(2048&n[nr]&&!(c&Hn.Self)){const C=function Nc(t,n,i,c,f){let _=t,C=n;for(;null!==_&&null!==C&&2048&C[nr]&&!(512&C[nr]);){const N=Rc(_,C,i,c|Hn.Self,aa);if(N!==aa)return N;let j=_.parent;if(!j){const J=C[Xo];if(J){const fe=J.get(i,aa,c);if(fe!==aa)return fe}j=wh(C),C=C[Gs]}_=j}return f}(t,n,i,c,aa);if(C!==aa)return C}const _=Rc(t,n,i,c,aa);if(_!==aa)return _}return Cd(n,i,c,f)}function Rc(t,n,i,c,f){const _=function zu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Mn)?t[Mn]:void 0;return"number"==typeof n?n>=0?n&al:Co:n}(i);if("function"==typeof _){if(!jn(n,t,c))return c&Hn.Host?du(f,0,c):Cd(n,i,c,f);try{let C;if(C=_(c),null!=C||c&Hn.Optional)return C;$e()}finally{ya()}}else if("number"==typeof _){let C=null,N=wd(t,n),j=Dc,J=c&Hn.Host?n[Vi][Kr]:null;for((-1===N||c&Hn.SkipSelf)&&(j=-1===N?Pc(t,n):n[N+8],j!==Dc&&hu(c,!1)?(C=n[Ln],N=bl(j),n=ba(j,n)):N=-1);-1!==N;){const fe=n[Ln];if(Mc(_,N,fe.data)){const xe=El(N,n,i,C,c,J);if(xe!==aa)return xe}j=n[N+8],j!==Dc&&hu(c,n[Ln].data[N+8]===J)&&Mc(_,N,n)?(C=fe,N=bl(j),n=ba(j,n)):N=-1}}return f}function El(t,n,i,c,f,_){const C=n[Ln],N=C.data[t+8],fe=Ja(N,C,i,null==c?Re(N)&&cu:c!=C&&0!=(3&N.type),f&Hn.Host&&_===N);return null!==fe?Tl(n,C,fe,N):aa}function Ja(t,n,i,c,f){const _=t.providerIndexes,C=n.data,N=1048575&_,j=t.directiveStart,fe=_>>20,at=f?N+fe:t.directiveEnd;for(let Et=c?N:N+fe;Et<at;Et++){const Xt=C[Et];if(Et<j&&i===Xt||Et>=j&&Xt.type===i)return Et}if(f){const Et=C[j];if(Et&&ct(Et)&&Et.type===i)return j}return null}function Tl(t,n,i,c){let f=t[i];const _=n.data;if(function Vl(t){return t instanceof Sc}(f)){const C=f;C.resolving&&function De(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new je(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rt(t)}(_[i]));const N=Qa(C.canSeeViewProviders);C.resolving=!0;const J=C.injectImpl?oi(C.injectImpl):null;jn(t,c,Hn.Default);try{f=t[i]=C.factory(void 0,_,t,c),n.firstCreatePass&&i>=c.directiveStart&&function Uu(t,n,i){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:_}=n.type.prototype;if(c){const C=rl(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}f&&(i.preOrderHooks??=[]).push(0-t,f),_&&((i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_))}(i,_[i],n)}finally{null!==J&&oi(J),Qa(N),C.resolving=!1,ya()}}return f}function Mc(t,n,i){return!!(i[n+(t>>xc)]&1<<t)}function hu(t,n){return!(t&Hn.Self||t&Hn.Host&&n)}class Fo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Eh(this._tNode,this._lView,n,gt(c),i)}}function Co(){return new Fo(cr(),sn())}function Ih(t){return Vn(()=>{const n=t.prototype.constructor,i=n[Ir]||Bl(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const _=f[Ir]||Bl(f);if(_&&_!==i)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Bl(t){return ln(t)?()=>{const n=Bl(Ke(t));return n&&n()}:Fa(t)}function wh(t){const n=t[Ln],i=n.type;return 2===i?n.declTNode:1===i?t[Kr]:null}function fu(t){return function bh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let f=0;for(;f<c;){const _=i[f];if(Or(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<c&&"string"==typeof i[f];)f++;else{if(_===n)return i[f+1];f+=2}}}return null}(cr(),t)}const Ha="__parameters__";function jl(t,n,i){return Vn(()=>{const c=function Fc(t){return function(...i){if(t){const c=t(...i);for(const f in c)this[f]=c[f]}}}(n);function f(..._){if(this instanceof f)return c.apply(this,_),this;const C=new f(..._);return N.annotation=C,N;function N(j,J,fe){const xe=j.hasOwnProperty(Ha)?j[Ha]:Object.defineProperty(j,Ha,{value:[]})[Ha];for(;xe.length<=fe;)xe.push(null);return(xe[fe]=xe[fe]||[]).push(C),j}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Xa(t,n){t.forEach(i=>Array.isArray(i)?Xa(i,n):n(i))}function cc(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function zl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $l(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}function Lo(t,n,i){let c=Gl(t,n);return c>=0?t[1|c]=i:(c=~c,function mu(t,n,i,c){let f=t.length;if(f==n)t.push(i,c);else if(1===f)t.push(c,t[0]),t[0]=i;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Sd(t,n){const i=Gl(t,n);if(i>=0)return t[1|i]}function Gl(t,n){return function Wu(t,n,i){let c=0,f=t.length>>i;for(;f!==c;){const _=c+(f-c>>1),C=t[_<<i];if(n===C)return _<<i;C>n?f=_:c=_+1}return~(f<<i)}(t,n,1)}const bu=Pt(jl("Optional"),8),Uc=Pt(jl("SkipSelf"),4);function Au(t){return 128==(128&t.flags)}var Du=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Du||{});const vp=/^>|^->|<!--|-->|--!>|<!-$/g,Vh=/(<|>)/g,Mf="\u200b$1\u200b";const Vd=new Map;let ed=0;const gc="__ngContext__";function ca(t,n){vs(n)?(t[gc]=n[fo],function Ud(t){Vd.set(t[fo],t)}(n)):t[gc]=n}let $d;function R(t,n){return $d(t,n)}function T(t){const n=t[vi];return ie(n)?n[vi]:n}function be(t){return kt(t[Hr])}function ot(t){return kt(t[jr])}function kt(t){for(;null!==t&&!ie(t);)t=t[jr];return t}function un(t,n,i,c,f){if(null!=c){let _,C=!1;ie(c)?_=c:vs(c)&&(C=!0,c=c[Ui]);const N=K(c);0===t&&null!==i?null==f?bp(n,i,N):Kl(n,i,N,f||null,!0):1===t&&null!==i?Kl(n,i,N,f||null,!0):2===t?function S(t,n,i){const c=$h(t,n);c&&function Nf(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,N,C):3===t&&n.destroyNode(N),null!=_&&function Qe(t,n,i,c,f){const _=i[ys];_!==K(i)&&un(n,t,c,_,f);for(let N=Zi;N<i.length;N++){const j=i[N];le(j[Ln],j,t,n,c,_)}}(n,t,_,i,f)}}function Si(t,n){return t.createComment(function Ld(t){return t.replace(vp,n=>n.replace(Vh,Mf))}(n))}function Do(t,n,i){return t.createElement(n,i)}function od(t,n){const i=t[is],c=i.indexOf(n);rr(n),i.splice(c,1)}function ul(t,n){if(t.length<=Zi)return;const i=Zi+n,c=t[i];if(c){const f=c[xo];null!==f&&f!==t&&od(f,c),n>0&&(t[i-1][jr]=c[jr]);const _=zl(t,Zi+n);!function Al(t,n){le(t,n,n[En],2,null,null),n[Ui]=null,n[Kr]=null}(c[Ln],c);const C=_[Us];null!==C&&C.detachView(_[Ln]),c[vi]=null,c[jr]=null,c[nr]&=-129}return c}function Ho(t,n){if(!(256&n[nr])){const i=n[En];n[oo]&&Rl(n[oo]),n[ha]&&Rl(n[ha]),i.destroyNode&&le(t,n,i,3,null,null),function Wc(t){let n=t[Hr];if(!n)return Zl(t[Ln],t);for(;n;){let i=null;if(vs(n))i=n[Hr];else{const c=n[Zi];c&&(i=c)}if(!i){for(;n&&!n[jr]&&n!==t;)vs(n)&&Zl(n[Ln],n),n=n[vi];null===n&&(n=t),vs(n)&&Zl(n[Ln],n),i=n&&n[jr]}n=i}}(n)}}function Zl(t,n){if(!(256&n[nr])){n[nr]&=-129,n[nr]|=256,function ld(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const f=n[i[c]];if(!(f instanceof Sc)){const _=i[c+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const N=f[_[C]],j=_[C+1];jo(4,N,j);try{j.call(N)}finally{jo(5,N,j)}}else{jo(4,f,_);try{_.call(f)}finally{jo(5,f,_)}}}}}(t,n),function ad(t,n){const i=t.cleanup,c=n[qi];if(null!==i)for(let _=0;_<i.length-1;_+=2)if("string"==typeof i[_]){const C=i[_+3];C>=0?c[C]():c[-C].unsubscribe(),_+=2}else i[_].call(c[i[_+1]]);null!==c&&(n[qi]=null);const f=n[po];if(null!==f){n[po]=null;for(let _=0;_<f.length;_++)(0,f[_])()}}(t,n),1===n[Ln].type&&n[En].destroy();const i=n[xo];if(null!==i&&ie(n[vi])){i!==n[vi]&&od(i,n);const c=n[Us];null!==c&&c.detachView(t)}!function Wl(t){Vd.delete(t[fo])}(n)}}function Zc(t,n,i){return function zh(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[Ui];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:_}=t.data[c.directiveStart+f];if(_===Cr.None||_===Cr.Emulated)return null}return B(c,i)}}(t,n.parent,i)}function Kl(t,n,i,c,f){t.insertBefore(n,i,c,f)}function bp(t,n,i){t.appendChild(n,i)}function Gd(t,n,i,c,f){null!==c?Kl(t,n,i,c,f):bp(t,n,i)}function $h(t,n){return t.parentNode(n)}function Gh(t,n,i){return a(t,n,i)}let s,vn,ci,Vo,a=function l(t,n,i){return 40&t.type?B(t,i):null};function h(t,n,i,c){const f=Zc(t,c,n),_=n[En],N=Gh(c.parent||n[Kr],c,n);if(null!=f)if(Array.isArray(i))for(let j=0;j<i.length;j++)Gd(_,f,i[j],N,!1);else Gd(_,f,i,N,!1);void 0!==s&&s(_,c,n,i,f)}function g(t,n){if(null!==n){const i=n.type;if(3&i)return B(n,t);if(4&i)return I(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return g(t,c);{const f=t[n.index];return ie(f)?I(-1,f):K(f)}}if(32&i)return R(n,t)()||K(t[n.index]);{const c=v(t,n);return null!==c?Array.isArray(c)?c[0]:g(T(t[Vi]),c):g(t,n.next)}}return null}function v(t,n){return null!==n?t[Vi][Kr].projection[n.projection]:null}function I(t,n){const i=Zi+t+1;if(i<n.length){const c=n[i],f=c[Ln].firstChild;if(null!==f)return g(c,f)}return n[ys]}function Z(t,n,i,c,f,_,C){for(;null!=i;){const N=c[i.index],j=i.type;if(C&&0===n&&(N&&ca(K(N),c),i.flags|=2),32!=(32&i.flags))if(8&j)Z(t,n,i.child,c,f,_,!1),un(n,t,f,N,_);else if(32&j){const J=R(i,c);let fe;for(;fe=J();)un(n,t,f,fe,_);un(n,t,f,N,_)}else 16&j?we(t,n,c,i,f,_):un(n,t,f,N,_);i=C?i.projectionNext:i.next}}function le(t,n,i,c,f,_){Z(i,c,t.firstChild,n,f,_,!1)}function we(t,n,i,c,f,_){const C=i[Vi],j=C[Kr].projection[c.projection];if(Array.isArray(j))for(let J=0;J<j.length;J++)un(n,t,f,j[J],_);else{let J=j;const fe=C[vi];Au(c)&&(J.flags|=128),Z(t,n,J,fe,f,_,!0)}}function Wt(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Ht(t,n,i){const{mergedAttrs:c,classes:f,styles:_}=i;null!==c&&Wn(t,n,c),null!==f&&Wt(t,n,f),null!==_&&function nt(t,n,i){t.setAttribute(n,"style",i)}(t,n,_)}function an(t){return function Sn(){if(void 0===vn&&(vn=null,Bn.trustedTypes))try{vn=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vn}()?.createHTML(t)||t}function ui(t){ci=t}function fi(){if(void 0!==ci)return ci;if(typeof document<"u")return document;throw new je(210,!1)}function Qo(){if(void 0===Vo&&(Vo=null,Bn.trustedTypes))try{Vo=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vo}function Es(t){return Qo()?.createHTML(t)||t}function co(t){return Qo()?.createScriptURL(t)||t}class mo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class ua extends mo{getTypeName(){return"HTML"}}class yc extends mo{getTypeName(){return"Style"}}class qh extends mo{getTypeName(){return"Script"}}class cd extends mo{getTypeName(){return"URL"}}class Wd extends mo{getTypeName(){return"ResourceURL"}}function xa(t){return t instanceof mo?t.changingThisBreaksApplicationSecurity:t}function tl(t,n){const i=function vc(t){return t instanceof mo&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${tt})`)}return i===n}function pg(t){return new ua(t)}function gg(t){return new yc(t)}function ym(t){return new qh(t)}function mg(t){return new cd(t)}function _g(t){return new Wd(t)}class yg{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(an(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class vm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=an(n),i}}const bm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zh(t){return(t=String(t)).match(bm)?t:"unsafe:"+t}function Kc(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Yc(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const Ep=Kc("area,br,col,hr,img,wbr"),Em=Kc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tm=Kc("rp,rt"),Tp=Yc(Ep,Yc(Em,Kc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yc(Tm,Kc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yc(Tm,Em)),vg=Kc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Im=Yc(vg,Kc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J_=Kc("script,style,template");class X_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=this.checkClobberedElement(i,i.nextSibling);if(f){i=f;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Tp.hasOwnProperty(i))return this.sanitizedSomething=!0,!J_.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let f=0;f<c.length;f++){const _=c.item(f),C=_.name,N=C.toLowerCase();if(!Im.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let j=_.value;vg[N]&&(j=Zh(j)),this.buf.push(" ",C,'="',bg(j),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Tp.hasOwnProperty(i)&&!Ep.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(bg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const ey=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wm=/([^\#-~ |!])/g;function bg(t){return t.replace(/&/g,"&amp;").replace(ey,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(wm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kh;function Cm(t,n){let i=null;try{Kh=Kh||function Ff(t){const n=new vm(t);return function Wh(){try{return!!(new window.DOMParser).parseFromString(an(""),"text/html")}catch{return!1}}()?new yg(n):n}(t);let c=n?String(n):"";i=Kh.getInertBodyElement(c);let f=5,_=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=_,_=i.innerHTML,i=Kh.getInertBodyElement(c)}while(c!==_);return an((new X_).sanitizeChildren(Ip(i)||i))}finally{if(i){const c=Ip(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ip(t){return"content"in t&&function Am(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qc||{});function $i(t){const n=Cp();return n?Es(n.sanitize(Qc.HTML,t)||""):tl(t,"HTML")?Es(xa(t)):Cm(fi(),rt(t))}function wp(t){const n=Cp();return n?n.sanitize(Qc.URL,t)||"":tl(t,"URL")?xa(t):Zh(rt(t))}function Yh(t){const n=Cp();if(n)return co(n.sanitize(Qc.RESOURCE_URL,t)||"");if(tl(t,"ResourceURL"))return co(xa(t));throw new je(904,!1)}function Sm(t,n,i){return function Jc(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Yh:wp}(n,i)(t)}function Cp(){const t=sn();return t&&t[Wi].sanitizer}const Qh=new lr("ENVIRONMENT_INITIALIZER"),xm=new lr("INJECTOR",-1),Ap=new lr("INJECTOR_DEF_TYPES");class Eg{get(n,i=Dn){if(i===Dn){const c=new Error(`NullInjectorError: No provider for ${Ct(n)}!`);throw c.name="NullInjectorError",c}return i}}function Pm(t){return{\u0275providers:t}}function Hs(...t){return{\u0275providers:ry(0,t),\u0275fromNgModule:!0}}function ry(t,...n){const i=[],c=new Set;let f;const _=C=>{i.push(C)};return Xa(n,C=>{const N=C;io(N,_,[],c)&&(f||=[],f.push(N))}),void 0!==f&&Rm(f,_),i}function Rm(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:f}=t[i];Mm(f,_=>{n(_,c)})}}function io(t,n,i,c){if(!(t=Ke(t)))return!1;let f=null,_=Wr(t);const C=!_&&Nr(t);if(_||C){if(C&&!C.standalone)return!1;f=t}else{const j=t.ngModule;if(_=Wr(j),!_)return!1;f=j}const N=c.has(f);if(C){if(N)return!1;if(c.add(f),C.dependencies){const j="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const J of j)io(J,n,i,c)}}else{if(!_)return!1;{if(null!=_.imports&&!N){let J;c.add(f);try{Xa(_.imports,fe=>{io(fe,n,i,c)&&(J||=[],J.push(fe))})}finally{}void 0!==J&&Rm(J,n)}if(!N){const J=Fa(f)||(()=>new f);n({provide:f,useFactory:J,deps:_r},f),n({provide:Ap,useValue:f,multi:!0},f),n({provide:Qh,useValue:()=>fn(f),multi:!0},f)}const j=_.providers;if(null!=j&&!N){const J=t;Mm(j,fe=>{n(fe,J)})}}}return f!==t&&void 0!==t.providers}function Mm(t,n){for(let i of t)Qn(i)&&(i=i.\u0275providers),Array.isArray(i)?Mm(i,n):n(i)}const nb=We({provide:String,useValue:We});function Dp(t){return null!==t&&"object"==typeof t&&nb in t}function Jh(t){return"function"==typeof t}const Om=new lr("Set Injector scope."),Tg={},ib={};let Sp;function ud(){return void 0===Sp&&(Sp=new Eg),Sp}class Xc{}class Yl extends Xc{get destroyed(){return this._destroyed}constructor(n,i,c,f){super(),this.parent=i,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ef(n,C=>this.processProvider(C)),this.records.set(xm,Xh(void 0,this)),f.has("environment")&&this.records.set(Xc,Xh(void 0,this));const _=this.records.get(Om);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Ap.multi,_r,Hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=cn(this),c=oi(void 0);try{return n()}finally{cn(i),oi(c)}}get(n,i=Dn,c=Hn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(rn))return n[rn](this);c=gt(c);const _=cn(this),C=oi(void 0);try{if(!(c&Hn.SkipSelf)){let j=this.records.get(n);if(void 0===j){const J=function km(t){return"function"==typeof t||"object"==typeof t&&t instanceof lr}(n)&&ar(n);j=J&&this.injectableDefInScope(J)?Xh(dd(n),Tg):null,this.records.set(n,j)}if(null!=j)return this.hydrate(n,j)}return(c&Hn.Self?ud():this.parent).get(n,i=c&Hn.Optional&&i===Dn?null:i)}catch(N){if("NullInjectorError"===N.name){if((N[sr]=N[sr]||[]).unshift(Ct(n)),_)throw N;return function ur(t,n,i,c){const f=t[sr];throw n[ze]&&f.unshift(n[ze]),t.message=function dr(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Ct(n);if(Array.isArray(n))f=n.map(Ct).join(" -> ");else if("object"==typeof n){let _=[];for(let C in n)if(n.hasOwnProperty(C)){let N=n[C];_.push(C+":"+("string"==typeof N?JSON.stringify(N):Ct(N)))}f=`{${_.join(", ")}}`}return`${i}${c?"("+c+")":""}[${f}]: ${t.replace(Mr,"\n  ")}`}("\n"+t.message,f,i,c),t.ngTokenPath=f,t[sr]=null,t}(N,n,"R3InjectorError",this.source)}throw N}finally{oi(C),cn(_)}}resolveInjectorInitializers(){const n=cn(this),i=oi(void 0);try{const f=this.get(Qh.multi,_r,Hn.Self);for(const _ of f)_()}finally{cn(n),oi(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(Ct(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(n){let i=Jh(n=Ke(n))?n:Ke(n&&n.provide);const c=function Ig(t){return Dp(t)?Xh(void 0,t.useValue):Xh(xp(t),Tg)}(n);if(Jh(n)||!0!==n.multi)this.records.get(i);else{let f=this.records.get(i);f||(f=Xh(void 0,Tg,!0),f.factory=()=>dt(f.multi),this.records.set(i,f)),i=n,f.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===Tg&&(i.value=ib,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Nm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Ke(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function dd(t){const n=ar(t),i=null!==n?n.factory:Fa(t);if(null!==i)return i;if(t instanceof lr)throw new je(204,!1);if(t instanceof Function)return function sb(t){const n=t.length;if(n>0)throw $l(n,"?"),new je(204,!1);const i=function Jr(t){return t&&(t[Oi]||t[Pr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new je(204,!1)}function xp(t,n,i){let c;if(Jh(t)){const f=Ke(t);return Fa(f)||dd(f)}if(Dp(t))c=()=>Ke(t.useValue);else if(function oy(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...dt(t.deps||[]));else if(function sy(t){return!(!t||!t.useExisting)}(t))c=()=>fn(Ke(t.useExisting));else{const f=Ke(t&&(t.useClass||t.provide));if(!function ay(t){return!!t.deps}(t))return Fa(f)||dd(f);c=()=>new f(...dt(t.deps))}return c}function Xh(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ef(t,n){for(const i of t)Array.isArray(i)?ef(i,n):i&&Qn(i)?ef(i.\u0275providers,n):n(i)}const Fm=new lr("AppId",{providedIn:"root",factory:()=>tf}),tf="ng",Pp=new lr("Platform Initializer"),Zd=new lr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wg=new lr("AnimationModuleType"),Cg=new lr("CSP nonce",{providedIn:"root",factory:()=>fi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Um=(t,n,i)=>null;function hd(t,n,i=!1){return Um(t,n,i)}class ab{}class py{}class zm{resolveComponentFactory(n){throw function Hm(t){const n=Error(`No component factory found for ${Ct(t)}.`);return n.ngComponent=t,n}(n)}}let nf=(()=>{class t{static#e=this.NULL=new zm}return t})();function my(){return fd(cr(),sn())}function fd(t,n){return new Lp(B(t,n))}let Lp=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=my}return t})();function lb(t){return t instanceof Lp?t.nativeElement:t}class _y{}let yy=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function cb(){const t=sn(),i=Be(cr().index,t);return(vs(i)?i:t)[En]}()}return t})(),ub=(()=>{class t{static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:()=>null})}return t})();class pd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const eh=new pd("16.2.11"),rf={};function $m(t,n=null,i=null,c){const f=Iy(t,n,i,c);return f.resolveInjectorInitializers(),f}function Iy(t,n=null,i=null,c,f=new Set){const _=[i||_r,Hs(t)];return c=c||("object"==typeof t?void 0:Ct(t)),new Yl(_,n||ud(),c||null,f)}let bc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Dn;static#t=this.NULL=new Eg;static create(i,c){if(Array.isArray(i))return $m({name:""},c,i,"");{const f=i.name??"";return $m({name:f},i.parent,i.providers,f)}}static#n=this.\u0275prov=jt({token:t,providedIn:"any",factory:()=>fn(xm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function th(t){return t.ngOriginalError}class eu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&th(n);for(;i&&th(i);)i=th(i);return i||null}}function Mg(t){return n=>{setTimeout(t,void 0,n)}}const tu=class Cy extends b.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let f=n,_=i||(()=>null),C=c;if(n&&"object"==typeof n){const j=n;f=j.next?.bind(j),_=j.error?.bind(j),C=j.complete?.bind(j)}this.__isAsync&&(_=Mg(_),f&&(f=Mg(f)),C&&(C=Mg(C)));const N=super.subscribe({next:f,error:_,complete:C});return n instanceof _e.w0&&n.add(N),N}};function Ay(...t){}class Ra{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&i,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function mb(){const t="function"==typeof Bn.requestAnimationFrame;let n=Bn[t?"requestAnimationFrame":"setTimeout"],i=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=i[Zone.__symbol__("OriginalDelegate")];f&&(i=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function _b(t){const n=()=>{!function Sy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ng(t),t.isCheckStableRunning=!0,Og(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ng(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,f,_,C,N)=>{if(function yb(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(N))return i.invokeTask(f,_,C,N);try{return Wm(t),i.invokeTask(f,_,C,N)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||t.shouldCoalesceRunChangeDetection)&&n(),zf(t)}},onInvoke:(i,c,f,_,C,N,j)=>{try{return Wm(t),i.invoke(f,_,C,N,j)}finally{t.shouldCoalesceRunChangeDetection&&n(),zf(t)}},onHasTask:(i,c,f,_)=>{i.hasTask(f,_),c===f&&("microTask"==_.change?(t._hasPendingMicrotasks=_.microTask,Ng(t),Og(t)):"macroTask"==_.change&&(t.hasPendingMacrotasks=_.macroTask))},onHandleError:(i,c,f,_)=>(i.handleError(f,_),t.runOutsideAngular(()=>t.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new je(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,f){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+f,n,Dy,Ay,Ay);try{return _.runTask(C,i,c)}finally{_.cancelTask(C)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Dy={};function Og(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ng(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Wm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zf(t){t._nesting--,Og(t)}class xy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,f){return n.apply(i,c)}}const Py=new lr("",{providedIn:"root",factory:Ry});function Ry(){const t=On(Ra);let n=!0;return function vt(...t){const n=(0,Le.yG)(t),i=(0,Le._6)(t,1/0),c=t;return c.length?1===c.length?(0,A.Xf)(c[0]):(0,O.J)(i)((0,ht.D)(c,n)):Ze.E}(new Fe.y(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),new Fe.y(f=>{let _;t.runOutsideAngular(()=>{_=t.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{_.unsubscribe(),C.unsubscribe()}}).pipe(At()))}function My(t){return t.ownerDocument.defaultView}function md(t){return t instanceof Function?t():t}let Zm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:()=>new t})}return t})();function sf(t){for(;t;){t[nr]|=64;const n=T(t);if(Gt(t)&&!n)return t;t=n}return null}const Vy=new lr("",{providedIn:"root",factory:()=>!1});let ee=null;function me(t,n){return t[n]??dn()}function Ae(t,n){const i=dn();i.producerNode?.length&&(t[n]=ee,i.lView=t,ee=xt())}const Xe={...nl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sf(t.lView)},lView:null};function xt(){return Object.create(Xe)}function dn(){return ee??=xt(),ee}const Kt={};function bn(t){Tr(mn(),sn(),ko()+t,!1)}function Tr(t,n,i,c){if(!c)if(3==(3&n[nr])){const _=t.preOrderCheckHooks;null!==_&&Fl(n,_,i)}else{const _=t.preOrderHooks;null!==_&&sc(n,_,0,i)}Nl(i)}function Rr(t,n=Hn.Default){const i=sn();return null===i?fn(t,n):Eh(cr(),i,Ke(t),n)}function Sr(){throw new Error("invalid")}function os(t,n,i,c,f,_,C,N,j,J,fe){const xe=n.blueprint.slice();return xe[Ui]=f,xe[nr]=140|c,(null!==J||t&&2048&t[nr])&&(xe[nr]|=2048),ii(xe),xe[vi]=xe[Gs]=t,xe[ai]=i,xe[Wi]=C||t&&t[Wi],xe[En]=N||t&&t[En],xe[Is]=j||t&&t[Is]||null,xe[Kr]=_,xe[fo]=function Su(){return ed++}(),xe[go]=fe,xe[Xo]=J,xe[Vi]=2==n.type?t[Vi]:xe,xe}function gi(t,n,i,c,f){let _=t.data[n];if(null===_)_=function mt(t,n,i,c,f){const _=Ns(),C=ro(),j=t.data[n]=function _d(t,n,i,c,f,_){let C=n?n.injectorIndex:-1,N=0;return wo()&&(N|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:N,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,i,n,c,f);return null===t.firstChild&&(t.firstChild=j),null!==_&&(C?null==_.child&&null!==j.parent&&(_.child=j):null===_.next&&(_.next=j,j.prev=_)),j}(t,n,i,c,f),function M(){return Yn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=i,_.value=c,_.attrs=f;const C=function Oo(){const t=Yn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();_.injectorIndex=null===C?-1:C.injectorIndex}return es(_,!0),_}function qe(t,n,i,c){if(0===i)return-1;const f=n.length;for(let _=0;_<i;_++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function st(t,n,i,c,f){const _=me(n,oo),C=ko(),N=2&c;try{Nl(-1),N&&n.length>Gr&&Tr(t,n,Gr,!1),jo(N?2:0,f);const J=N?_:null,fe=Os(J);try{null!==J&&(J.dirty=!1),i(c,f)}finally{Ua(J,fe)}}finally{N&&null===n[oo]&&Ae(n,oo),Nl(C),jo(N?3:1,f)}}function yt(t,n,i){if(se(n)){const c=ao(null);try{const _=n.directiveEnd;for(let C=n.directiveStart;C<_;C++){const N=t.data[C];N.contentQueries&&N.contentQueries(1,i[C],C)}}finally{ao(c)}}}function wt(t,n,i){sa()&&(function Bg(t,n,i,c){const f=i.directiveStart,_=i.directiveEnd;Re(i)&&function zg(t,n,i){const c=B(n,t),f=it(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const N=Hp(t,os(t,f,null,C,c,n,null,t[Wi].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=N}(n,i,t.data[f+i.componentOffset]),t.firstCreatePass||ac(i,n),ca(c,n);const C=i.initialInputs;for(let N=f;N<_;N++){const j=t.data[N],J=Tl(n,t,N,i);ca(J,n),null!==C&&za(0,N-f,J,j,0,C),ct(j)&&(Be(i.index,n)[ai]=Tl(n,t,N,i))}}(t,n,i,B(i,n)),64==(64&i.flags)&&jg(t,n,i))}function Ft(t,n,i=B){const c=n.localNames;if(null!==c){let f=n.index+1;for(let _=0;_<c.length;_+=2){const C=c[_+1],N=-1===C?i(n,t):t[C];t[f++]=N}}}function it(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ec(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ec(t,n,i,c,f,_,C,N,j,J,fe){const xe=Gr+c,at=xe+f,Et=function qf(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:Kt);return i}(xe,at),Xt="function"==typeof J?J():J;return Et[Ln]={type:t,blueprint:Et,template:i,queries:null,viewQuery:N,declTNode:n,data:Et.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:at,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:j,consts:Xt,incompleteFirstPass:!1,ssrId:fe}}let af=t=>null;function Ma(t,n,i,c){for(let f in t)if(t.hasOwnProperty(f)){i=null===i?{}:i;const _=t[f];null===c?Ym(i,n,f,_):c.hasOwnProperty(f)&&Ym(i,n,c[f],_)}return i}function Ym(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function Oa(t,n,i,c,f,_,C,N){const j=B(n,i);let fe,J=n.inputs;!N&&null!=J&&(fe=J[c])?(Yf(t,i,fe,c,f),Re(n)&&function Hy(t,n){const i=Be(n,t);16&i[nr]||(i[nr]|=64)}(i,n.index)):3&n.type&&(c=function jy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,n.value||"",c):f,_.setProperty(j,c,f))}function lf(t,n,i,c){if(sa()){const f=null===c?null:{"":-1},_=function $y(t,n){const i=t.directiveRegistry;let c=null,f=null;if(i)for(let _=0;_<i.length;_++){const C=i[_];if(rs(n,C.selectors,!1))if(c||(c=[]),ct(C))if(null!==C.findHostDirectiveDefs){const N=[];f=f||new Map,C.findHostDirectiveDefs(C,N,f),c.unshift(...N,C),Bp(t,n,N.length)}else c.unshift(C),Bp(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,i);let C,N;null===_?C=N=null:[C,N]=_,null!==C&&Up(t,n,i,C,f,N),f&&function Jm(t,n,i){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const _=i[n[f+1]];if(null==_)throw new je(-301,!1);c.push(n[f],_)}}}(i,c,f)}i.mergedAttrs=Vr(i.mergedAttrs,i.attrs)}function Up(t,n,i,c,f,_){for(let J=0;J<c.length;J++)uu(ac(i,n),t,c[J].type);!function Xm(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let J=0;J<c.length;J++){const fe=c[J];fe.providersResolver&&fe.providersResolver(fe)}let C=!1,N=!1,j=qe(t,n,c.length,null);for(let J=0;J<c.length;J++){const fe=c[J];i.mergedAttrs=Vr(i.mergedAttrs,fe.hostAttrs),Gy(t,i,n,j,fe),Hg(j,fe,f),null!==fe.contentQueries&&(i.flags|=4),(null!==fe.hostBindings||null!==fe.hostAttrs||0!==fe.hostVars)&&(i.flags|=64);const xe=fe.type.prototype;!C&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!N&&(xe.ngOnChanges||xe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),N=!0),j++}!function Zf(t,n,i){const f=n.directiveEnd,_=t.data,C=n.attrs,N=[];let j=null,J=null;for(let fe=n.directiveStart;fe<f;fe++){const xe=_[fe],at=i?i.get(xe):null,Xt=at?at.outputs:null;j=Ma(xe.inputs,fe,j,at?at.inputs:null),J=Ma(xe.outputs,fe,J,Xt);const In=null===j||null===C||Ti(n)?null:jp(j,fe,C);N.push(In)}null!==j&&(j.hasOwnProperty("class")&&(n.flags|=8),j.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=N,n.inputs=j,n.outputs=J}(t,i,_)}function jg(t,n,i){const c=i.directiveStart,f=i.directiveEnd,_=i.index,C=function H(){return Yn.lFrame.currentDirectiveIndex}();try{Nl(_);for(let N=c;N<f;N++){const j=t.data[N],J=n[N];Q(N),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Qm(j,J)}}finally{Nl(-1),Q(C)}}function Qm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Bp(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Hg(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;ct(n)&&(i[""]=t)}}function Gy(t,n,i,c,f){t.data[c]=f;const _=f.factory||(f.factory=Fa(f.type)),C=new Sc(_,ct(f),Rr);t.blueprint[c]=C,i[c]=C,function Vg(t,n,i,c,f){const _=f.hostBindings;if(_){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const N=~n.index;(function Ug(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=N&&C.push(N),C.push(i,c,_)}}(t,n,c,qe(t,i,f.hostVars,Kt),f)}function Ql(t,n,i,c,f,_){const C=B(t,n);!function Kf(t,n,i,c,f,_,C){if(null==_)t.removeAttribute(n,f,i);else{const N=null==C?rt(_):C(_,c||"",f);t.setAttribute(n,f,N,i)}}(n[En],C,_,t.value,i,c,f)}function za(t,n,i,c,f,_){const C=_[n];if(null!==C)for(let N=0;N<C.length;)$a(c,i,C[N++],C[N++],C[N++])}function $a(t,n,i,c,f){const _=ao(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(n,f)),null!==t.setInput?t.setInput(n,f,i,c):n[c]=f}finally{ao(_)}}function jp(t,n,i){let c=null,f=0;for(;f<i.length;){const _=i[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(t.hasOwnProperty(_)){null===c&&(c=[]);const C=t[_];for(let N=0;N<C.length;N+=2)if(C[N]===n){c.push(_,C[N+1],i[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function $g(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Gg(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const _=i[c+1];if(-1!==_){const C=t.data[_];Rt(i[c]),C.contentQueries(2,n[_],_)}}}function Hp(t,n){return t[Hr]?t[to][jr]=n:t[Hr]=n,t[to]=n,n}function rh(t,n,i){Rt(0);const c=ao(null);try{n(t,i)}finally{ao(c)}}function qg(t){return t[qi]||(t[qi]=[])}function zp(t){return t.cleanup||(t.cleanup=[])}function e_(t,n,i){return(null===t||ct(t))&&(i=function x(t){for(;Array.isArray(t);){if("object"==typeof t[Ta])return t;t=t[Ui]}return null}(i[n.index])),i[En]}function t_(t,n){const i=t[Is],c=i?i.get(eu,null):null;c&&c.handleError(n)}function Yf(t,n,i,c,f){for(let _=0;_<i.length;){const C=i[_++],N=i[_++];$a(t.data[C],n[C],c,N,f)}}function nu(t,n,i){const c=D(n,t);!function wr(t,n,i){t.setValue(n,i)}(t[En],c,i)}function n_(t,n){const i=Be(n,t),c=i[Ln];!function Qf(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const f=i[Ui];null!==f&&null===i[go]&&(i[go]=hd(f,i[Is])),Jf(c,i,i[ai])}function Jf(t,n,i){Ar(n);try{const c=t.viewQuery;null!==c&&rh(1,c,i);const f=t.template;null!==f&&st(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gg(t,n),t.staticViewQueries&&rh(2,t.viewQuery,i);const _=t.components;null!==_&&function Wg(t,n){for(let i=0;i<n.length;i++)n_(t,n[i])}(n,_)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[nr]&=-5,_l()}}let yd=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,f){const _=typeof Zone>"u"?null:Zone.current,C=function Yo(t,n,i){const c=Object.create(Yi);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>wa(c),run:()=>{if(c.dirty=!1,c.hasRun&&!na(c))return;c.hasRun=!0;const C=Os(c);try{c.cleanupFn(),c.cleanupFn=lo,c.fn(f)}finally{Ua(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(i,J=>{this.all.has(J)&&this.queue.set(J,_)},f);let N;this.all.add(C),C.notify();const j=()=>{C.cleanup(),N?.(),this.all.delete(C),this.queue.delete(C)};return N=c?.onDestroy(j),{destroy:j}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ih(t,n,i){let c=i?t.styles:null,f=i?t.classes:null,_=0;if(null!==n)for(let C=0;C<n.length;C++){const N=n[C];"number"==typeof N?_=N:1==_?f=Ot(f,N):2==_&&(c=Ot(c,N+": "+n[++C]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=f:t.classesWithoutHost=f}function cf(t,n,i,c,f=!1){for(;null!==i;){const _=n[i.index];null!==_&&c.push(K(_)),ie(_)&&uf(_,c);const C=i.type;if(8&C)cf(t,n,i.child,c);else if(32&C){const N=R(i,n);let j;for(;j=N();)c.push(j)}else if(16&C){const N=v(n,i);if(Array.isArray(N))c.push(...N);else{const j=T(n[Vi]);cf(j[Ln],j,N,c,!0)}}i=f?i.projectionNext:i.next}return c}function uf(t,n){for(let i=Zi;i<t.length;i++){const c=t[i],f=c[Ln].firstChild;null!==f&&cf(c[Ln],c,f,n)}t[ys]!==t[Ui]&&n.push(t[ys])}function Xf(t,n,i,c=!0){const f=n[Wi],_=f.rendererFactory,C=f.afterRenderEventManager;_.begin?.(),C?.begin();try{df(t,n,t.template,i)}catch(j){throw c&&t_(n,j),j}finally{_.end?.(),f.effectManager?.flush(),C?.end()}}function df(t,n,i,c){const f=n[nr];if(256!=(256&f)){n[Wi].effectManager?.flush(),Ar(n);try{ii(n),function Ya(t){return Yn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&st(t,n,i,2,c);const C=3==(3&f);if(C){const J=t.preOrderCheckHooks;null!==J&&Fl(n,J,null)}else{const J=t.preOrderHooks;null!==J&&sc(n,J,0,null),lu(n,0)}if(function Wy(t){for(let n=be(t);null!==n;n=ot(n)){if(!n[Wo])continue;const i=n[is];for(let c=0;c<i.length;c++){Jn(i[c])}}}(n),hf(n,2),null!==t.contentQueries&&Gg(t,n),C){const J=t.contentCheckHooks;null!==J&&Fl(n,J)}else{const J=t.contentHooks;null!==J&&sc(n,J,1),lu(n,1)}!function pi(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=me(n,ha);try{for(let f=0;f<i.length;f++){const _=i[f];if(_<0)Nl(~_);else{const C=_,N=i[++f],j=i[++f];P(N,C),c.dirty=!1;const J=Os(c);try{j(2,n[C])}finally{Ua(c,J)}}}}finally{null===n[ha]&&Ae(n,ha),Nl(-1)}}(t,n);const N=t.components;null!==N&&s_(n,N,0);const j=t.viewQuery;if(null!==j&&rh(2,j,c),C){const J=t.viewCheckHooks;null!==J&&Fl(n,J)}else{const J=t.viewHooks;null!==J&&sc(n,J,2),lu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[nr]&=-73,rr(n)}finally{_l()}}}function hf(t,n){for(let i=be(t);null!==i;i=ot(i))for(let c=Zi;c<i.length;c++)sh(i[c],n)}function Zy(t,n,i){sh(Be(n,t),i)}function sh(t,n){if(!function $t(t){return 128==(128&t[nr])}(t))return;const i=t[Ln],c=t[nr];if(80&c&&0===n||1024&c||2===n)df(i,t,i.template,t[ai]);else if(t[Ii]>0){hf(t,1);const f=i.components;null!==f&&s_(t,f,1)}}function s_(t,n,i){for(let c=0;c<n.length;c++)Zy(t,n[c],i)}class ep{get rootNodes(){const n=this._lView,i=n[Ln];return cf(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(n){this._lView[ai]=n}get destroyed(){return 256==(256&this._lView[nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[vi];if(ie(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(ul(n,c),zl(i,c))}this._attachedToViewContainer=!1}Ho(this._lView[Ln],this._lView)}onDestroy(n){!function Ci(t,n){if(256==(256&t[nr]))throw new je(911,!1);null===t[po]&&(t[po]=[]),t[po].push(n)}(this._lView,n)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[nr]&=-129}reattach(){this._lView[nr]|=128}detectChanges(){Xf(this._lView[Ln],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function id(t,n){le(t,n,n[En],2,null,null)}(this._lView[Ln],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=n}}class $p extends ep{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Xf(n[Ln],n,n[ai],!1)}checkNoChanges(){}get context(){return null}}class Zg extends nf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Nr(n);return new ff(i,this.ngModule)}}function Gp(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class vd{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=gt(c);const f=this.injector.get(n,rf,c);return f!==rf||i===rf?f:this.parentInjector.get(n,i,c)}}class ff extends py{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=Gp(n.inputs);if(null!==i)for(const f of c)i.hasOwnProperty(f.propName)&&(f.transform=i[f.propName]);return c}get outputs(){return Gp(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Xs(t){return t.map(yo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,f){let _=(f=f||this.ngModule)instanceof Xc?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new vd(n,_):n,N=C.get(_y,null);if(null===N)throw new je(407,!1);const xe={rendererFactory:N,sanitizer:C.get(ub,null),effectManager:C.get(yd,null),afterRenderEventManager:C.get(Zm,null)},at=N.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",Xt=c?function Uy(t,n,i,c){const _=c.get(Vy,!1)||i===Cr.ShadowDom,C=t.selectRootElement(n,_);return function Wf(t){af(t)}(C),C}(at,c,this.componentDef.encapsulation,C):Do(at,Et,function qp(t){const n=t.toLowerCase();return"svg"===n?ml:"math"===n?"math":null}(Et)),xr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let hn=null;null!==Xt&&(hn=hd(Xt,C,!0));const mi=Ec(0,null,null,1,0,null,null,null,null,null,null),Qi=os(null,mi,null,xr,null,null,xe,at,C,null,hn);let Ks,nc;Ar(Qi);try{const ph=this.componentDef;let ug,Qv=null;ph.findHostDirectiveDefs?(ug=[],Qv=new Map,ph.findHostDirectiveDefs(ph,ug,Qv),ug.push(ph)):ug=[ph];const eD=function Kg(t,n){const i=t[Ln],c=Gr;return t[c]=n,gi(i,c,2,"#host",null)}(Qi,Xt),tD=function Yg(t,n,i,c,f,_,C){const N=f[Ln];!function a_(t,n,i,c){for(const f of t)n.mergedAttrs=Vr(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(ih(n,n.mergedAttrs,!0),null!==i&&Ht(c,i,n))}(c,t,n,C);let j=null;null!==n&&(j=hd(n,f[Is]));const J=_.rendererFactory.createRenderer(n,i);let fe=16;i.signals?fe=4096:i.onPush&&(fe=64);const xe=os(f,it(i),null,fe,f[t.index],t,_,J,null,null,j);return N.firstCreatePass&&Bp(N,t,c.length-1),Hp(f,xe),f[t.index]=xe}(eD,Xt,ph,ug,Qi,xe,at);nc=he(mi,Gr),Xt&&function Ky(t,n,i,c){if(c)Wn(t,i,["ng-version",eh.full]);else{const{attrs:f,classes:_}=function xi(t){const n=[],i=[];let c=1,f=2;for(;c<t.length;){let _=t[c];if("string"==typeof _)2===f?""!==_&&n.push(_,t[++c]):8===f&&i.push(_);else{if(!$r(f))break;f=_}c++}return{attrs:n,classes:i}}(n.selectors[0]);f&&Wn(t,i,f),_&&_.length>0&&Wt(t,i,_.join(" "))}}(at,ph,Xt,c),void 0!==i&&function Wp(t,n,i){const c=t.projection=[];for(let f=0;f<n.length;f++){const _=i[f];c.push(null!=_?Array.from(_):null)}}(nc,this.ngContentSelectors,i),Ks=function l_(t,n,i,c,f,_){const C=cr(),N=f[Ln],j=B(C,f);Up(N,f,C,i,null,c);for(let fe=0;fe<i.length;fe++)ca(Tl(f,N,C.directiveStart+fe,C),f);jg(N,f,C),j&&ca(j,f);const J=Tl(f,N,C.directiveStart+C.componentOffset,C);if(t[ai]=f[ai]=J,null!==_)for(const fe of _)fe(J,n);return yt(N,C,t),J}(tD,ph,ug,Qv,Qi,[c_]),Jf(mi,Qi,null)}finally{_l()}return new o_(this.componentType,Ks,fd(nc,Qi),Qi,nc)}}class o_ extends ab{constructor(n,i,c,f,_){super(),this.location=c,this._rootLView=f,this._tNode=_,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new $p(f),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const _=this._rootLView;Yf(_[Ln],_,f,n,i),this.previousInputValues.set(n,i),sf(Be(this._tNode.index,_))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function c_(){const t=cr();va(sn()[Ln],t)}function oh(t){let n=function Zp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let f;if(ct(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new je(903,!1);f=n.\u0275dir}if(f){if(i){c.push(f);const C=t;C.inputs=pf(t.inputs),C.inputTransforms=pf(t.inputTransforms),C.declaredInputs=pf(t.declaredInputs),C.outputs=pf(t.outputs);const N=f.hostBindings;N&&d_(t,N);const j=f.viewQuery,J=f.contentQueries;if(j&&Yy(t,j),J&&u_(t,J),ut(t.inputs,f.inputs),ut(t.declaredInputs,f.declaredInputs),ut(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ut(C.inputTransforms,f.inputTransforms)),ct(f)&&f.data.animation){const fe=t.data;fe.animation=(fe.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let C=0;C<_.length;C++){const N=_[C];N&&N.ngInherit&&N(t),N===oh&&(i=!1)}}n=Object.getPrototypeOf(n)}!function ah(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=Vr(f.hostAttrs,i=Vr(i,f.hostAttrs))}}(c)}function pf(t){return t===_i?{}:t===_r?[]:t}function Yy(t,n){const i=t.viewQuery;t.viewQuery=i?(c,f)=>{n(c,f),i(c,f)}:n}function u_(t,n){const i=t.contentQueries;t.contentQueries=i?(c,f,_)=>{n(c,f,_),i(c,f,_)}:n}function d_(t,n){const i=t.hostBindings;t.hostBindings=i?(c,f)=>{n(c,f),i(c,f)}:n}function g_(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(i[c]=f[2])}t.inputTransforms=i}function Jl(t){return!!Qp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Qp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Dl(t,n,i){return t[n]=i}function Jo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function lh(t,n,i,c){const f=Jo(t,n,i);return Jo(t,n+1,c)||f}function tm(t,n,i,c){const f=sn();return Jo(f,ma(),n)&&(mn(),Ql(bs(),f,t,n,i,c)),tm}function _f(t,n,i,c){return Jo(t,ma(),i)?n+rt(i)+c:Kt}function ru(t,n,i,c,f,_){const N=lh(t,function As(){return Yn.lFrame.bindingIndex}(),i,f);return _a(2),N?n+rt(i)+c+rt(f)+_:Kt}function cp(t,n,i,c,f,_,C,N){const j=sn(),J=mn(),fe=t+Gr,xe=J.firstCreatePass?function R_(t,n,i,c,f,_,C,N,j){const J=n.consts,fe=gi(n,t,4,C||null,Fn(J,N));lf(n,i,fe,Fn(J,j)),va(n,fe);const xe=fe.tView=Ec(2,fe,c,f,_,n.directiveRegistry,n.pipeRegistry,null,n.schemas,J,null);return null!==n.queries&&(n.queries.template(n,fe),xe.queries=n.queries.embeddedTView(fe)),fe}(fe,J,j,n,i,c,f,_,C):J.data[fe];es(xe,!1);const at=hl(J,j,xe,t);au()&&h(J,j,at,xe),ca(at,j),Hp(j,j[fe]=$g(at,j,at,xe)),Pe(xe)&&wt(J,j,xe),null!=C&&Ft(j,xe,N)}let hl=function om(t,n,i,c){return ja(!0),n[En].createComment("")};function G(t){return Ue(function Ka(){return Yn.lFrame.contextLView}(),Gr+t)}function te(t,n,i){const c=sn();return Jo(c,ma(),n)&&Oa(mn(),bs(),c,t,n,c[En],i,!1),te}function Ie(t,n,i,c,f){const C=f?"class":"style";Yf(t,i,n.inputs[C],C,c)}function qt(t,n,i,c){const f=sn(),_=mn(),C=Gr+t,N=f[En],j=_.firstCreatePass?function Dt(t,n,i,c,f,_){const C=n.consts,j=gi(n,t,2,c,Fn(C,f));return lf(n,i,j,Fn(C,_)),null!==j.attrs&&ih(j,j.attrs,!1),null!==j.mergedAttrs&&ih(j,j.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,j),j}(C,_,f,n,i,c):_.data[C],J=Ea(_,f,j,N,n,t);f[C]=J;const fe=Pe(j);return es(j,!0),Ht(N,J,j),32!=(32&j.flags)&&au()&&h(_,f,J,j),0===function ga(){return Yn.lFrame.elementDepthCount}()&&ca(J,f),function To(){Yn.lFrame.elementDepthCount++}(),fe&&(wt(_,f,j),yt(_,j,f)),null!==c&&Ft(f,j),qt}function Gn(){let t=cr();ro()?Ai():(t=t.parent,es(t,!1));const n=t;(function Da(t){return Yn.skipHydrationRootTNode===t})(n)&&function ic(){Yn.skipHydrationRootTNode=null}(),function Io(){Yn.lFrame.elementDepthCount--}();const i=mn();return i.firstCreatePass&&(va(i,t),se(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ju(t){return 0!=(8&t.flags)}(n)&&Ie(i,n,sn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function oa(t){return 0!=(16&t.flags)}(n)&&Ie(i,n,sn(),n.stylesWithoutHost,!1),Gn}function ks(t,n,i,c){return qt(t,n,i,c),Gn(),ks}let Ea=(t,n,i,c,f,_)=>(ja(!0),Do(c,f,function Id(){return Yn.lFrame.currentNamespace}()));function ku(t,n,i){const c=sn(),f=mn(),_=t+Gr,C=f.firstCreatePass?function qa(t,n,i,c,f){const _=n.consts,C=Fn(_,c),N=gi(n,t,8,"ng-container",C);return null!==C&&ih(N,C,!0),lf(n,i,N,Fn(_,f)),null!==n.queries&&n.queries.elementStart(n,N),N}(_,f,c,n,i):f.data[_];es(C,!0);const N=ng(f,c,C,t);return c[_]=N,au()&&h(f,c,N,C),ca(N,c),Pe(C)&&(wt(f,c,C),yt(f,C,c)),null!=i&&Ft(c,C),ku}function fl(){let t=cr();const n=mn();return ro()?Ai():(t=t.parent,es(t,!1)),n.firstCreatePass&&(va(n,t),se(t)&&n.queries.elementEnd(t)),fl}let ng=(t,n,i,c)=>(ja(!0),Si(n[En],""));function Tb(){return sn()}function rv(t){return!!t&&"function"==typeof t.then}function Ib(t){return!!t&&"function"==typeof t.subscribe}function iv(t,n,i,c){const f=sn(),_=mn(),C=cr();return function Cb(t,n,i,c,f,_,C){const N=Pe(c),J=t.firstCreatePass&&zp(t),fe=n[ai],xe=qg(n);let at=!0;if(3&c.type||C){const In=B(c,n),ir=C?C(In):In,xr=xe.length,hn=C?Qi=>C(K(Qi[c.index])):c.index;let mi=null;if(!C&&N&&(mi=function VT(t,n,i,c){const f=t.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const C=f[_];if(C===i&&f[_+1]===c){const N=n[qi],j=f[_+2];return N.length>j?N[j]:null}"string"==typeof C&&(_+=2)}return null}(t,n,f,c.index)),null!==mi)(mi.__ngLastListenerFn__||mi).__ngNextListenerFn__=_,mi.__ngLastListenerFn__=_,at=!1;else{_=Db(c,n,fe,_,!1);const Qi=i.listen(ir,f,_);xe.push(_,Qi),J&&J.push(f,hn,xr,xr+1)}}else _=Db(c,n,fe,_,!1);const Et=c.outputs;let Xt;if(at&&null!==Et&&(Xt=Et[f])){const In=Xt.length;if(In)for(let ir=0;ir<In;ir+=2){const Ks=n[Xt[ir]][Xt[ir+1]].subscribe(_),nc=xe.length;xe.push(_,Ks),J&&J.push(f,c.index,nc,-(nc+1))}}}(_,f,f[En],C,t,n,c),iv}function Ab(t,n,i,c){try{return jo(6,n,i),!1!==i(c)}catch(f){return t_(t,f),!1}finally{jo(7,n,i)}}function Db(t,n,i,c,f){return function _(C){if(C===Function)return c;sf(t.componentOffset>-1?Be(t.index,n):n);let j=Ab(n,i,c,C),J=_.__ngNextListenerFn__;for(;J;)j=Ab(n,i,J,C)&&j,J=J.__ngNextListenerFn__;return f&&!1===j&&C.preventDefault(),j}}function Sb(t=1){return function yl(t){return(Yn.lFrame.contextLView=function Ol(t,n){for(;t>0;)n=n[Gs],t--;return n}(t,Yn.lFrame.contextLView))[ai]}(t)}function UT(t,n){let i=null;const c=function ti(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let f=0;f<n.length;f++){const _=n[f];if("*"!==_){if(null===c?rs(t,_,!0):_o(c,_))return f}else i=f}return i}function xb(t){const n=sn()[Vi][Kr];if(!n.projection){const c=n.projection=$l(t?t.length:1,null),f=c.slice();let _=n.child;for(;null!==_;){const C=t?UT(_,t):0;null!==C&&(f[C]?f[C].projectionNext=_:c[C]=_,f[C]=_),_=_.next}}}function Pb(t,n=0,i){const c=sn(),f=mn(),_=gi(f,Gr+t,16,null,i||null);null===_.projection&&(_.projection=n),Ai(),(!c[go]||wo())&&32!=(32&_.flags)&&function Te(t,n,i){we(n[En],0,n,i,Zc(t,i,n),Gh(i.parent||n[Kr],i,n))}(f,c,_)}function sv(t,n,i){return O_(t,"",n,"",i),sv}function O_(t,n,i,c,f){const _=sn(),C=_f(_,n,i,c);return C!==Kt&&Oa(mn(),bs(),_,t,C,_[En],f,!1),O_}function N_(t,n){return t<<17|n<<2}function If(t){return t>>17&32767}function ov(t){return 2|t}function dp(t){return(131068&t)>>2}function av(t,n){return-131069&t|n<<2}function lv(t){return 1|t}function Ub(t,n,i,c,f){const _=t[i+1],C=null===n;let N=c?If(_):dp(_),j=!1;for(;0!==N&&(!1===j||C);){const fe=t[N+1];GT(t[N],n)&&(j=!0,t[N+1]=c?lv(fe):ov(fe)),N=c?If(fe):dp(fe)}j&&(t[i+1]=c?ov(_):lv(_))}function GT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Gl(t,n)>=0}const Na={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bb(t){return t.substring(Na.key,Na.keyEnd)}function jb(t,n){const i=Na.textEnd;return i===n?-1:(n=Na.keyEnd=function KT(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Na.key=n,i),rg(t,n,i))}function rg(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function cv(t,n,i){return Fu(t,n,i,!1),cv}function uv(t,n){return Fu(t,n,null,!0),uv}function qb(t){!function Lu(t,n,i,c){const f=mn(),_=_a(2);f.firstUpdatePass&&Zb(f,null,_,c);const C=sn();if(i!==Kt&&Jo(C,_,i)){const N=f.data[ko()];if(Jb(N,c)&&!Wb(f,_)){let j=c?N.classesWithoutHost:N.stylesWithoutHost;null!==j&&(i=Ot(j,i||"")),Ie(f,N,C,i,c)}else!function sI(t,n,i,c,f,_,C,N){f===Kt&&(f=_r);let j=0,J=0,fe=0<f.length?f[0]:null,xe=0<_.length?_[0]:null;for(;null!==fe||null!==xe;){const at=j<f.length?f[j+1]:void 0,Et=J<_.length?_[J+1]:void 0;let In,Xt=null;fe===xe?(j+=2,J+=2,at!==Et&&(Xt=xe,In=Et)):null===xe||null!==fe&&fe<xe?(j+=2,Xt=fe):(J+=2,Xt=xe,In=Et),null!==Xt&&Yb(t,n,i,c,Xt,In,C,N),fe=j<f.length?f[j]:null,xe=J<_.length?_[J]:null}}(f,N,C,C[En],C[_+1],C[_+1]=function rI(t,n,i){if(null==i||""===i)return _r;const c=[],f=xa(i);if(Array.isArray(f))for(let _=0;_<f.length;_++)t(c,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&t(c,_,f[_]);else"string"==typeof f&&n(c,f);return c}(t,n,i),c,_)}}(iI,Td,t,!0)}function Td(t,n){for(let i=function WT(t){return function zb(t){Na.key=0,Na.keyEnd=0,Na.value=0,Na.valueEnd=0,Na.textEnd=t.length}(t),jb(t,rg(t,0,Na.textEnd))}(n);i>=0;i=jb(n,i))Lo(t,Bb(n),!0)}function Fu(t,n,i,c){const f=sn(),_=mn(),C=_a(2);_.firstUpdatePass&&Zb(_,t,C,c),n!==Kt&&Jo(f,C,n)&&Yb(_,_.data[ko()],f,f[En],t,f[C+1]=function oI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ct(xa(t)))),t}(n,i),c,C)}function Wb(t,n){return n>=t.expandoStartIndex}function Zb(t,n,i,c){const f=t.data;if(null===f[i+1]){const _=f[ko()],C=Wb(t,i);Jb(_,c)&&null===n&&!C&&(n=!1),n=function XT(t,n,i,c){const f=ge(t);let _=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(i=am(i=dv(null,t,n,i,c),n.attrs,c),_=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(i=dv(f,t,n,i,c),null===_){let j=function eI(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==dp(c))return t[If(c)]}(t,n,c);void 0!==j&&Array.isArray(j)&&(j=dv(null,t,n,j[1],c),j=am(j,n.attrs,c),function tI(t,n,i,c){t[If(i?n.classBindings:n.styleBindings)]=c}(t,n,c,j))}else _=function nI(t,n,i){let c;const f=n.directiveEnd;for(let _=1+n.directiveStylingLast;_<f;_++)c=am(c,t[_].hostAttrs,i);return am(c,n.attrs,i)}(t,n,c)}return void 0!==_&&(c?n.residualClasses=_:n.residualStyles=_),i}(f,_,n,c),function zT(t,n,i,c,f,_){let C=_?n.classBindings:n.styleBindings,N=If(C),j=dp(C);t[c]=i;let fe,J=!1;if(Array.isArray(i)?(fe=i[1],(null===fe||Gl(i,fe)>0)&&(J=!0)):fe=i,f)if(0!==j){const at=If(t[N+1]);t[c+1]=N_(at,N),0!==at&&(t[at+1]=av(t[at+1],c)),t[N+1]=function jT(t,n){return 131071&t|n<<17}(t[N+1],c)}else t[c+1]=N_(N,0),0!==N&&(t[N+1]=av(t[N+1],c)),N=c;else t[c+1]=N_(j,0),0===N?N=c:t[j+1]=av(t[j+1],c),j=c;J&&(t[c+1]=ov(t[c+1])),Ub(t,fe,c,!0),Ub(t,fe,c,!1),function $T(t,n,i,c,f){const _=f?t.residualClasses:t.residualStyles;null!=_&&"string"==typeof n&&Gl(_,n)>=0&&(i[c+1]=lv(i[c+1]))}(n,fe,t,c,_),C=N_(N,j),_?n.classBindings=C:n.styleBindings=C}(f,_,n,i,C,c)}}function dv(t,n,i,c,f){let _=null;const C=i.directiveEnd;let N=i.directiveStylingLast;for(-1===N?N=i.directiveStart:N++;N<C&&(_=n[N],c=am(c,_.hostAttrs,f),_!==t);)N++;return null!==t&&(i.directiveStylingLast=N),c}function am(t,n,i){const c=i?1:2;let f=-1;if(null!==n)for(let _=0;_<n.length;_++){const C=n[_];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Lo(t,C,!!i||n[++_]))}return void 0===t?null:t}function iI(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&Lo(t,c,i)}function Yb(t,n,i,c,f,_,C,N){if(!(3&n.type))return;const j=t.data,J=j[N+1],fe=function HT(t){return 1==(1&t)}(J)?Qb(j,n,i,f,dp(J),C):void 0;k_(fe)||(k_(_)||function BT(t){return 2==(2&t)}(J)&&(_=Qb(j,null,i,f,N,C)),function Je(t,n,i,c,f){if(n)f?t.addClass(i,c):t.removeClass(i,c);else{let _=-1===c.indexOf("-")?void 0:Du.DashCase;null==f?t.removeStyle(i,c,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=Du.Important),t.setStyle(i,c,f,_))}}(c,C,D(ko(),i),f,_))}function Qb(t,n,i,c,f,_){const C=null===n;let N;for(;f>0;){const j=t[f],J=Array.isArray(j),fe=J?j[1]:j,xe=null===fe;let at=i[f+1];at===Kt&&(at=xe?_r:void 0);let Et=xe?Sd(at,c):fe===c?at:void 0;if(J&&!k_(Et)&&(Et=Sd(j,c)),k_(Et)&&(N=Et,C))return N;const Xt=t[f+1];f=C?If(Xt):dp(Xt)}if(null!==n){let j=_?n.residualClasses:n.residualStyles;null!=j&&(N=Sd(j,c))}return N}function k_(t){return void 0!==t}function Jb(t,n){return 0!=(t.flags&(n?8:16))}function Xb(t,n=""){const i=sn(),c=mn(),f=t+Gr,_=c.firstCreatePass?gi(c,f,1,n,null):c.data[f],C=eE(c,i,_,n,t);i[f]=C,au()&&h(c,i,C,_),es(_,!1)}let eE=(t,n,i,c,f)=>(ja(!0),function or(t,n){return t.createText(n)}(n[En],c));function hv(t){return F_("",t,""),hv}function F_(t,n,i){const c=sn(),f=_f(c,t,n,i);return f!==Kt&&nu(c,ko(),f),F_}function fv(t,n,i,c,f){const _=sn(),C=ru(_,t,n,i,c,f);return C!==Kt&&nu(_,ko(),C),fv}function pv(t,n,i){const c=sn();if(Jo(c,ma(),n)){const _=mn(),C=bs();Oa(_,C,c,t,n,e_(ge(_.data),C,c),i,!0)}return pv}const hp=void 0;var SI=["en",[["a","p"],["AM","PM"],hp],[["AM","PM"],hp,hp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hp,"{1} 'at' {0}",hp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DI(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let ig={};function gv(t){const n=function xI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=vE(n);if(i)return i;const c=n.split("-")[0];if(i=vE(c),i)return i;if("en"===c)return SI;throw new je(701,!1)}function yE(t){return gv(t)[sg.PluralCase]}function vE(t){return t in ig||(ig[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),ig[t]}var sg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(sg||{});const og="en-US";let bE=og;function yv(t,n,i,c,f){if(t=Ke(t),Array.isArray(t))for(let _=0;_<t.length;_++)yv(t[_],n,i,c,f);else{const _=mn(),C=sn(),N=cr();let j=Jh(t)?t:Ke(t.provide);const J=xp(t),fe=1048575&N.providerIndexes,xe=N.directiveStart,at=N.providerIndexes>>20;if(Jh(t)||!t.multi){const Et=new Sc(J,f,Rr),Xt=bv(j,n,f?fe:fe+at,xe);-1===Xt?(uu(ac(N,C),_,j),vv(_,t,n.length),n.push(j),N.directiveStart++,N.directiveEnd++,f&&(N.providerIndexes+=1048576),i.push(Et),C.push(Et)):(i[Xt]=Et,C[Xt]=Et)}else{const Et=bv(j,n,fe+at,xe),Xt=bv(j,n,fe,fe+at),ir=Xt>=0&&i[Xt];if(f&&!ir||!f&&!(Et>=0&&i[Et])){uu(ac(N,C),_,j);const xr=function Dw(t,n,i,c,f){const _=new Sc(t,i,Rr);return _.multi=[],_.index=n,_.componentProviders=0,GE(_,f,c&&!i),_}(f?Aw:Cw,i.length,f,c,J);!f&&ir&&(i[Xt].providerFactory=xr),vv(_,t,n.length,0),n.push(j),N.directiveStart++,N.directiveEnd++,f&&(N.providerIndexes+=1048576),i.push(xr),C.push(xr)}else vv(_,t,Et>-1?Et:Xt,GE(i[f?Xt:Et],J,!f&&c));!f&&c&&ir&&i[Xt].componentProviders++}}}function vv(t,n,i,c){const f=Jh(n),_=function rb(t){return!!t.useClass}(n);if(f||_){const j=(_?Ke(n.useClass):n).prototype.ngOnDestroy;if(j){const J=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const fe=J.indexOf(i);-1===fe?J.push(i,[c,j]):J[fe+1].push(c,j)}else J.push(i,j)}}}function GE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function bv(t,n,i,c){for(let f=i;f<c;f++)if(n[f]===t)return f;return-1}function Cw(t,n,i,c){return Ev(this.multi,[])}function Aw(t,n,i,c){const f=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,N=Tl(i,i[Ln],this.providerFactory.index,c);_=N.slice(0,C),Ev(f,_);for(let j=C;j<N.length;j++)_.push(N[j])}else _=[],Ev(f,_);return _}function Ev(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function qE(t,n=[]){return i=>{i.providersResolver=(c,f)=>function ww(t,n,i){const c=mn();if(c.firstCreatePass){const f=ct(t);yv(i,c.data,c.blueprint,f,!0),yv(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class fp{}class WE{}function Sw(t,n){return new Tv(t,n??null,[])}class Tv extends fp{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zg(this);const f=Ts(n);this._bootstrapComponents=md(f.bootstrap),this._r3Injector=Iy(n,i,[{provide:fp,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...c],Ct(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Iv extends WE{constructor(n){super(),this.moduleType=n}create(n){return new Tv(this.moduleType,n,[])}}class ZE extends fp{constructor(n){super(),this.componentFactoryResolver=new Zg(this),this.instance=null;const i=new Yl([...n.providers,{provide:fp,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],n.parent||ud(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function KE(t,n,i=null){return new ZE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Pw=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=ry(0,i.type),f=c.length>0?KE([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,f)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=jt({token:t,providedIn:"environment",factory:()=>new t(fn(Xc))})}return t})();function YE(t){t.getStandaloneInjector=n=>n.get(Pw).getOrCreateStandaloneInjector(t)}function r0(t,n,i,c){return s0(sn(),Xi(),t,n,i,c)}function fm(t,n){const i=t[n];return i===Kt?void 0:i}function s0(t,n,i,c,f,_){const C=n+i;return Jo(t,C,f)?Dl(t,C+1,_?c.call(_,f):c(f)):fm(t,C+1)}function u0(t,n){const i=mn();let c;const f=t+Gr;i.firstCreatePass?(c=function Zw(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[f]=c,c.onDestroy&&(i.destroyHooks??=[]).push(f,c.onDestroy)):c=i.data[f];const _=c.factory||(c.factory=Fa(c.type)),N=oi(Rr);try{const j=Qa(!1),J=_();return Qa(j),function E(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,sn(),f,J),J}finally{oi(N)}}function d0(t,n,i){const c=t+Gr,f=sn(),_=Ue(f,c);return pm(f,c)?s0(f,Xi(),n,_.transform,i,_):_.transform(i)}function h0(t,n,i,c){const f=t+Gr,_=sn(),C=Ue(_,f);return pm(_,f)?function o0(t,n,i,c,f,_,C){const N=n+i;return lh(t,N,f,_)?Dl(t,N+2,C?c.call(C,f,_):c(f,_)):fm(t,N+2)}(_,Xi(),n,C.transform,i,c,C):C.transform(i,c)}function pm(t,n){return t[Ln].data[n].pure}function Jw(){return this._results[Symbol.iterator]()}class Cv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new tu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Cv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Jw)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const f=function la(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function xh(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],_=n[c];if(i&&(f=i(f),_=i(_)),_!==f)return!1}return!0}(c._results,f,i))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eC(t,n,i,c=!0){const f=n[Ln];if(function Hh(t,n,i,c){const f=Zi+c,_=i.length;c>0&&(i[f-1][jr]=n),c<_-Zi?(n[jr]=i[f],cc(i,Zi+c,n)):(i.push(n),n[jr]=null),n[vi]=i;const C=n[xo];null!==C&&i!==C&&function sd(t,n){const i=t[is];n[Vi]!==n[vi][vi][Vi]&&(t[Wo]=!0),null===i?t[is]=[n]:i.push(n)}(C,n);const N=n[Us];null!==N&&N.insertView(t),n[nr]|=128}(f,n,t,i),c){const _=I(i,t),C=n[En],N=$h(C,t[ys]);null!==N&&function qc(t,n,i,c,f,_){c[Ui]=f,c[Kr]=n,le(t,c,i,1,f,_)}(f,t[Kr],C,n,N,_)}}let gm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=rC}return t})();const tC=gm,nC=class extends tC{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const f=function Xw(t,n,i,c){const f=n.tView,N=os(t,f,i,4096&t[nr]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);N[xo]=t[n.index];const J=t[Us];return null!==J&&(N[Us]=J.createEmbeddedView(f)),Jf(f,N,i),N}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new ep(f)}};function rC(){return j_(cr(),sn())}function j_(t,n){return 4&t.type?new nC(n,t,fd(t,n)):null}let z_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=cC}return t})();function cC(){return v0(cr(),sn())}const uC=z_,_0=class extends uC{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pc(this._hostTNode,this._hostLView);if(ol(n)){const i=ba(n,this._hostLView),c=bl(n);return new Fo(i[Ln].data[c+8],i)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=y0(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Zi}createEmbeddedView(n,i,c){let f,_;"number"==typeof c?f=c:null!=c&&(f=c.index,_=c.injector);const N=n.createEmbeddedViewImpl(i||{},_,null);return this.insertImpl(N,f,false),N}createComponent(n,i,c,f,_){const C=n&&!function gu(t){return"function"==typeof t}(n);let N;if(C)N=i;else{const In=i||{};N=In.index,c=In.injector,f=In.projectableNodes,_=In.environmentInjector||In.ngModuleRef}const j=C?n:new ff(Nr(n)),J=c||this.parentInjector;if(!_&&null==j.ngModule){const ir=(C?J:this.parentInjector).get(Xc,null);ir&&(_=ir)}Nr(j.componentType??{});const Et=j.create(J,f,null,_);return this.insertImpl(Et.hostView,N,false),Et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const f=n._lView;if(function Nn(t){return ie(t[vi])}(f)){const j=this.indexOf(n);if(-1!==j)this.detach(j);else{const J=f[vi],fe=new _0(J,J[Kr],J[vi]);fe.detach(fe.indexOf(n))}}const C=this._adjustIndex(i),N=this._lContainer;return eC(N,f,C,!c),n.attachToViewContainerRef(),cc(Av(N),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=y0(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=ul(this._lContainer,i);c&&(zl(Av(this._lContainer),i),Ho(c[Ln],c))}detach(n){const i=this._adjustIndex(n,-1),c=ul(this._lContainer,i);return c&&null!=zl(Av(this._lContainer),i)?new ep(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function y0(t){return t[8]}function Av(t){return t[8]||(t[8]=[])}function v0(t,n){let i;const c=n[t.index];return ie(c)?i=c:(i=$g(c,n,null,t),n[t.index]=i,Hp(n,i)),b0(i,n,t,c),new _0(i,t,n)}let b0=function E0(t,n,i,c){if(t[ys])return;let f;f=8&i.type?K(c):function dC(t,n){const i=t[En],c=i.createComment(""),f=B(n,t);return Kl(i,$h(i,f),c,function kf(t,n){return t.nextSibling(n)}(i,f),!1),c}(n,i),t[ys]=f};class Dv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Dv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,f=[];for(let _=0;_<c;_++){const C=i.getByIndex(_);f.push(this.queries[C.indexInDeclarationView].clone())}return new Sv(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==P0(n,i).matches&&this.queries[i].setDirty()}}class T0{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class xv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const f=null!==i?i.length:0,_=this.getByIndex(c).embeddedTView(n,f);_&&(_.indexInDeclarationView=c,null!==i?i.push(_):i=[_])}return null!==i?new xv(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Pv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Pv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const _=c[f];this.matchTNodeWithReadOption(n,i,pC(i,_)),this.matchTNodeWithReadOption(n,i,Ja(i,n,_,!1,!1))}else c===gm?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Ja(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Lp||f===z_||f===gm&&4&i.type)this.addMatch(i.index,-2);else{const _=Ja(i,n,f,!1,!1);null!==_&&this.addMatch(i.index,_)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function pC(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function mC(t,n,i,c){return-1===i?function gC(t,n){return 11&t.type?fd(t,n):4&t.type?j_(t,n):null}(n,t):-2===i?function _C(t,n,i){return i===Lp?fd(n,t):i===gm?j_(n,t):i===z_?v0(n,t):void 0}(t,n,c):Tl(t,t[Ln],i,n)}function I0(t,n,i,c){const f=n[Us].queries[c];if(null===f.matches){const _=t.data,C=i.matches,N=[];for(let j=0;j<C.length;j+=2){const J=C[j];N.push(J<0?null:mC(n,_[J],C[j+1],i.metadata.read))}f.matches=N}return f.matches}function Rv(t,n,i,c){const f=t.queries.getByIndex(i),_=f.matches;if(null!==_){const C=I0(t,n,f,i);for(let N=0;N<_.length;N+=2){const j=_[N];if(j>0)c.push(C[N/2]);else{const J=_[N+1],fe=n[-j];for(let xe=Zi;xe<fe.length;xe++){const at=fe[xe];at[xo]===at[vi]&&Rv(at[Ln],at,J,c)}if(null!==fe[is]){const xe=fe[is];for(let at=0;at<xe.length;at++){const Et=xe[at];Rv(Et[Ln],Et,J,c)}}}}}return c}function w0(t){const n=sn(),i=mn(),c=Me();Rt(c+1);const f=P0(i,c);if(t.dirty&&function Tt(t){return 4==(4&t[nr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const _=f.crossesNgTemplate?Rv(i,n,c,[]):I0(i,n,f,c);t.reset(_,lb),t.notifyOnChanges()}return!0}return!1}function C0(t,n,i){const c=mn();c.firstCreatePass&&(x0(c,new T0(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),S0(c,sn(),n)}function A0(t,n,i,c){const f=mn();if(f.firstCreatePass){const _=cr();x0(f,new T0(n,i,c),_.index),function vC(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(f,t),2==(2&i)&&(f.staticContentQueries=!0)}S0(f,sn(),i)}function D0(){return function yC(t,n){return t[Us].queries[n].queryList}(sn(),Me())}function S0(t,n,i){const c=new Cv(4==(4&i));(function By(t,n,i,c){const f=qg(n);f.push(i),t.firstCreatePass&&zp(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[Us]&&(n[Us]=new Sv),n[Us].queries.push(new Dv(c))}function x0(t,n,i){null===t.queries&&(t.queries=new xv),t.queries.track(new Pv(n,i))}function P0(t,n){return t.queries.getByIndex(n)}function R0(t,n){return j_(t,n)}function Mv(t){return!!Ts(t)}const Z0=new lr("Application Initializer");let Lv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=On(Z0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const f of this.appInits){const _=f();if(rv(_))i.push(_);else if(Ib(_)){const C=new Promise((N,j)=>{_.subscribe({complete:N,error:j})});i.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(f=>{this.reject(f)}),0===i.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),K0=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const G_=new lr("LocaleId",{providedIn:"root",factory:()=>On(G_,Hn.Optional|Hn.SkipSelf)||function BC(){return typeof $localize<"u"&&$localize.locale||og}()}),jC=new lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Y0=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zC{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let $C=(()=>{class t{compileModuleSync(i){return new Iv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),_=md(Ts(i).declarations).reduce((C,N)=>{const j=Nr(N);return j&&C.push(new ff(j)),C},[]);return new zC(c,_)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eT=new lr(""),tT=new lr("");let Bv,hA=(()=>{class t{constructor(i,c,f){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bv||(function fA(t){Bv=t}(f),f.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,f){let _=-1;c&&c>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:_,updateCb:f})}whenStable(i,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,f){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(fn(Ra),fn(nT),fn(tT))};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac})}return t})(),nT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return Bv?.findTestabilityInTree(this,i,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),wf=null;const rT=new lr("AllowMultipleToken"),jv=new lr("PlatformDestroyListeners"),Hv=new lr("appBootstrapListener");class mA{constructor(n,i){this.name=n,this.token=i}}function oT(t,n,i=[]){const c=`Platform: ${n}`,f=new lr(c);return(_=[])=>{let C=zv();if(!C||C.injector.get(rT,!1)){const N=[...i,..._,{provide:f,useValue:!0}];t?t(N):function _A(t){if(wf&&!wf.get(rT,!1))throw new je(400,!1);(function iT(){!function Jt(t){Ne=t}(()=>{throw new je(600,!1)})})(),wf=t;const n=t.get(lT);(function sT(t){t.get(Pp,null)?.forEach(i=>i())})(t)}(function aT(t=[],n){return bc.create({name:n,providers:[{provide:Om,useValue:"platform"},{provide:jv,useValue:new Set([()=>wf=null])},...t]})}(N,c))}return function vA(t){const n=zv();if(!n)throw new je(401,!1);return n}()}}function zv(){return wf?.get(lT)??null}let lT=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const f=function bA(t="zone.js",n){return"noop"===t?new xy:"zone.js"===t?new Ra(n):t}(c?.ngZone,function cT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const _=function xw(t,n,i){return new Tv(t,n,i)}(i.moduleType,this.injector,function pT(t){return[{provide:Ra,useFactory:t},{provide:Qh,multi:!0,useFactory:()=>{const n=On(TA,{optional:!0});return()=>n.initialize()}},{provide:fT,useFactory:EA},{provide:Py,useFactory:Ry}]}(()=>f)),C=_.injector.get(eu,null);return f.runOutsideAngular(()=>{const N=f.onError.subscribe({next:j=>{C.handleError(j)}});_.onDestroy(()=>{W_(this._modules,_),N.unsubscribe()})}),function uT(t,n,i){try{const c=i();return rv(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const N=_.injector.get(Lv);return N.runInitializers(),N.donePromise.then(()=>(function EE(t){en(t,"Expected localeId to be defined"),"string"==typeof t&&(bE=t.toLowerCase().replace(/_/g,"-"))}(_.injector.get(G_,og)||og),this._moduleDoBootstrap(_),_))})})}bootstrapModule(i,c=[]){const f=dT({},c);return function pA(t,n,i){const c=new Iv(i);return Promise.resolve(c)}(0,0,i).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(i){const c=i.injector.get(cg);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!i.instance.ngDoBootstrap)throw new je(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(jv,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(fn(bc))};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function dT(t,n){return Array.isArray(n)?n.reduce(dT,t):{...t,...n}}let cg=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=On(fT),this.zoneIsStable=On(Py),this.componentTypes=[],this.components=[],this.isStable=On(Y0).hasPendingTasks.pipe((0,Ut.w)(i=>i?(0,ke.of)(!1):this.zoneIsStable),function er(t,n=Tn.y){return t=t??nn,(0,Qt.e)((i,c)=>{let f,_=!0;i.subscribe((0,wn.x)(c,C=>{const N=n(C);(_||!t(f,N))&&(_=!1,f=N,c.next(C))}))})}(),At()),this._injector=On(Xc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const f=i instanceof py;if(!this._injector.get(Lv).done)throw!f&&Vs(i),new je(405,!1);let C;C=f?i:this._injector.get(nf).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const N=function gA(t){return t.isBoundToModule}(C)?void 0:this._injector.get(fp),J=C.create(bc.NULL,[],c||C.selector,N),fe=J.location.nativeElement,xe=J.injector.get(eT,null);return xe?.registerApplication(fe),J.onDestroy(()=>{this.detachView(J.hostView),W_(this.components,J),xe?.unregisterApplication(fe)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;W_(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(Hv,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>W_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new je(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function W_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const fT=new lr("",{providedIn:"root",factory:()=>On(eu).handleError.bind(void 0)});function EA(){const t=On(Ra),n=On(eu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let TA=(()=>{class t{constructor(){this.zone=On(Ra),this.applicationRef=On(cg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let wA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=CA}return t})();function CA(t){return function AA(t,n,i){if(Re(t)&&!i){const c=Be(t.index,n);return new ep(c,c)}return 47&t.type?new ep(n[Vi],n):null}(cr(),sn(),16==(16&t))}class yT{constructor(){}supports(n){return Jl(n)}create(n){return new MA(n)}}const RA=(t,n)=>n;class MA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||RA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,f=0,_=null;for(;i||c;){const C=!c||i&&i.currentIndex<bT(c,f,_)?i:c,N=bT(C,f,_),j=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(i=i._next,null==C.previousIndex)f++;else{_||(_=[]);const J=N-f,fe=j-f;if(J!=fe){for(let at=0;at<J;at++){const Et=at<_.length?_[at]:_[at]=0,Xt=Et+at;fe<=Xt&&Xt<J&&(_[at]=Et+1)}_[C.previousIndex]=fe-J}}N!==j&&n(C,N,j)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Jl(n))throw new je(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,_,C,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let N=0;N<this.length;N++)_=n[N],C=this._trackByFn(N,_),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,_,C,N)),Object.is(i.item,_)||this._addIdentityChange(i,_)):(i=this._mismatch(i,_,C,N),c=!0),i=i._next}else f=0,function Yp(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,N=>{C=this._trackByFn(f,N),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,N,C,f)),Object.is(i.item,N)||this._addIdentityChange(i,N)):(i=this._mismatch(i,N,C,f),c=!0),i=i._next,f++}),this.length=f;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,f){let _;return null===n?_=this._itTail:(_=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,_,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,_,f)):n=this._addAfter(new OA(i,c),_,f),n}_verifyReinsertion(n,i,c,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==_?n=this._reinsertAfter(_,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,_=n._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const f=null===i?this._itHead:i._next;return n._next=f,n._prev=i,null===f?this._itTail=n:f._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new vT),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class OA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class vT{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new NA,this.map.set(i,c)),c.add(n)}get(n,i){const f=this.map.get(n);return f?f.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bT(t,n,i){const c=t.previousIndex;if(null===c)return c;let f=0;return i&&c<i.length&&(f=i[c]),c+n+f}class ET{constructor(){}supports(n){return n instanceof Map||Qp(n)}create(){return new kA}}class kA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Qp(n)))throw new je(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(i&&i.key===f)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const _=this._getOrCreateRecordForKey(f,c);i=this._insertBeforeOrAppend(i,_)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,i);const _=f._prev,C=f._next;return _&&(_._next=C),C&&(C._prev=_),f._next=null,f._prev=null,f}const c=new FA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class FA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TT(){return new Zv([new yT])}let Zv=(()=>{class t{static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:TT});constructor(i){this.factories=i}static create(i,c){if(null!=c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||TT()),deps:[[t,new Uc,new bu]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(null!=c)return c;throw new je(901,!1)}}return t})();function IT(){return new Kv([new ET])}let Kv=(()=>{class t{static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:IT});constructor(i){this.factories=i}static create(i,c){if(c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||IT()),deps:[[t,new Uc,new bu]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(c)return c;throw new je(901,!1)}}return t})();const UA=oT(null,"core",[]);let BA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(c){return new(c||t)(fn(cg))};static#t=this.\u0275mod=Li({type:t});static#n=this.\u0275inj=vr({})}return t})();function QA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XA(t){const n=Nr(t);if(!n)return null;const i=new ff(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},721:(Xn,Lt,ne)=>{ne.d(Lt,{Ot:()=>O,ZF:()=>Tn,hX:()=>Qt,z6:()=>A});var b=ne(3182),_e=ne(4946),Fe=ne(4810);class O{constructor(ut){return ut}}class A{constructor(){return(0,b.C6)()}}const ht=new _e.OlP("angularfire2._apps"),vt={provide:O,useFactory:function Le(We){return We&&1===We.length?We[0]:new O((0,b.Mq)())},deps:[[new _e.FiY,ht]]},Ve={provide:A,deps:[[new _e.FiY,ht]]};function ke(We){return(ut,Ct)=>{const Ot=ut.runOutsideAngular(()=>We(Ct));return new O(Ot)}}let _t=(()=>{class We{constructor(Ct){(0,b.KN)("angularfire",Fe.q4.full,"core"),(0,b.KN)("angularfire",Fe.q4.full,"app"),(0,b.KN)("angular",_e.q4F.full,Ct.toString())}static \u0275fac=function(Ot){return new(Ot||We)(_e.LFG(_e.Lbi))};static \u0275mod=_e.oAB({type:We});static \u0275inj=_e.cJS({providers:[vt,Ve]})}return We})();function Qt(We,...ut){return{ngModule:_t,providers:[{provide:ht,useFactory:ke(We),multi:!0,deps:[_e.R0b,_e.zs3,Fe.HU,...ut]}]}}const Tn=(0,Fe.u3)(b.ZF,!0)},5251:(Xn,Lt,ne)=>{ne.d(Lt,{gx:()=>Yu,dh:()=>xf,fD:()=>zc,Xb:()=>kd,v0:()=>Nh,AR:()=>Iu,w$:()=>ed,e5:()=>Cl});var b=ne(4810),_e=ne(4946),Fe=ne(721),O=ne(3182),A=ne(5861),Ze=ne(534),Le=ne(9058),ht=ne(7879),vt=ne(7582),Ve=ne(4537);const er=function Tn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nn=new Le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ht.Yd("@firebase/auth");function Ot(R,...m){ut.logLevel<=ht.in.ERROR&&ut.error(`Auth (${Ze.Jn}): ${R}`,...m)}function Yt(R,...m){throw kn(R,...m)}function zt(R,...m){return kn(R,...m)}function Ke(R,m,T){const k=Object.assign(Object.assign({},er()),{[m]:T});return new Le.LL("auth","Firebase",k).create(m,{appName:R.name})}function ln(R){return Ke(R,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kn(R,...m){if("string"!=typeof R){const T=m[0],k=[...m.slice(1)];return k[0]&&(k[0].appName=R.name),R._errorFactory.create(T,...k)}return nn.create(R,...m)}function tt(R,m,...T){if(!R)throw kn(m,...T)}function je(R){const m="INTERNAL ASSERTION FAILED: "+R;throw Ot(m),new Error(m)}function Pn(R,m){R||je(m)}function rt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function De(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class $e{constructor(m,T){this.shortDelay=m,this.longDelay=T,Pn(T>m,"Short delay should be less than long delay!"),this.isMobile=(0,Le.uI)()||(0,Le.b$)()}get(){return function ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ye(){return"http:"===De()||"https:"===De()}()||(0,Le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(R,m){Pn(R.emulator,"Emulator should always be set here");const{url:T}=R.emulator;return m?`${T}${m.startsWith("/")?m.slice(1):m}`:T}class ve{static initialize(m,T,k){this.fetchImpl=m,T&&(this.headersImpl=T),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new $e(3e4,6e4);function pt(R,m){return R.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:R.tenantId}):m}function bt(R,m,T,k){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,A.Z)(function*(R,m,T,k,re={}){return Er(R,re,(0,A.Z)(function*(){let be={},ot={};k&&("GET"===m?ot=k:be={body:JSON.stringify(k)});const kt=(0,Le.xO)(Object.assign({key:R.config.apiKey},ot)).slice(1),un=yield R._getAdditionalHeaders();return un["Content-Type"]="application/json",R.languageCode&&(un["X-Firebase-Locale"]=R.languageCode),ve.fetch()($n(R,R.config.apiHost,T,kt),Object.assign({method:m,headers:un,referrerPolicy:"no-referrer"},be))}))})).apply(this,arguments)}function Er(R,m,T){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,A.Z)(function*(R,m,T){R._canInitEmulator=!1;const k=Object.assign(Object.assign({},pe),m);try{const re=new en(R),be=yield Promise.race([T(),re.promise]);re.clearNetworkTimeout();const ot=yield be.json();if("needConfirmation"in ot)throw An(R,"account-exists-with-different-credential",ot);if(be.ok&&!("errorMessage"in ot))return ot;{const kt=be.ok?ot.errorMessage:ot.error.message,[un,or]=kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===un)throw An(R,"credential-already-in-use",ot);if("EMAIL_EXISTS"===un)throw An(R,"email-already-in-use",ot);if("USER_DISABLED"===un)throw An(R,"user-disabled",ot);const wr=k[un]||un.toLowerCase().replace(/[_\s]+/g,"-");if(or)throw Ke(R,wr,or);Yt(R,wr)}}catch(re){if(re instanceof Le.ZR)throw re;Yt(R,"network-request-failed",{message:String(re)})}})).apply(this,arguments)}function pn(R,m,T,k){return qn.apply(this,arguments)}function qn(){return(qn=(0,A.Z)(function*(R,m,T,k,re={}){const be=yield bt(R,m,T,k,re);return"mfaPendingCredential"in be&&Yt(R,"multi-factor-auth-required",{_serverResponse:be}),be})).apply(this,arguments)}function $n(R,m,T,k){const re=`${m}${T}?${k}`;return R.config.emulator?Ce(R.config,re):`${R.config.apiScheme}://${re}`}function Rn(R){switch(R){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class en{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((T,k)=>{this.timer=setTimeout(()=>k(zt(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(R,m,T){const k={appName:R.name};T.email&&(k.email=T.email),T.phoneNumber&&(k.phoneNumber=T.phoneNumber);const re=zt(R,m,k);return re.customData._tokenResponse=T,re}function tr(R){return void 0!==R&&void 0!==R.enterprise}class Fr{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const T of this.recaptchaEnforcementState)if(T.provider&&T.provider===m)return Rn(T.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function vr(R,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,A.Z)(function*(R,m){return bt(R,"GET","/v2/recaptchaConfig",pt(R,m))})).apply(this,arguments)}function Ei(){return(Ei=(0,A.Z)(function*(R,m){return bt(R,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Oi(R,m){return as.apply(this,arguments)}function as(){return(as=(0,A.Z)(function*(R,m){return bt(R,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Pr(R){if(R)try{const m=new Date(Number(R));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ls(){return(ls=(0,A.Z)(function*(R,m=!1){const T=(0,Le.m9)(R),k=yield T.getIdToken(m),re=oi(k);tt(re&&re.exp&&re.auth_time&&re.iat,T.auth,"internal-error");const be="object"==typeof re.firebase?re.firebase:void 0,ot=be?.sign_in_provider;return{claims:re,token:k,authTime:Pr(ns(re.auth_time)),issuedAtTime:Pr(ns(re.iat)),expirationTime:Pr(ns(re.exp)),signInProvider:ot||null,signInSecondFactor:be?.sign_in_second_factor||null}})).apply(this,arguments)}function ns(R){return 1e3*Number(R)}function oi(R){const[m,T,k]=R.split(".");if(void 0===m||void 0===T||void 0===k)return Ot("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,Le.tV)(T);return re?JSON.parse(re):(Ot("Failed to decode base64 JWT payload"),null)}catch(re){return Ot("Caught error parsing JWT payload as JSON",re?.toString()),null}}function et(R){const m=oi(R);return tt(m,"internal-error"),tt(typeof m.exp<"u","internal-error"),tt(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Xr(R,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,A.Z)(function*(R,m,T=!1){if(T)return m;try{return yield m}catch(k){throw k instanceof Le.ZR&&function Zr({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}(k)&&R.auth.currentUser===R&&(yield R.auth.signOut()),k}})).apply(this,arguments)}class ei{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var T;if(m){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const re=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(m=!1){var T=this;if(!this.isRunning)return;const k=this.getInterval(m);this.timerId=setTimeout((0,A.Z)(function*(){yield T.iteration()}),k)}iteration(){var m=this;return(0,A.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===T?.code&&m.schedule(!0))}m.schedule()})()}}class lr{constructor(m,T){this.createdAt=m,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(R){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,A.Z)(function*(R){var m;const T=R.auth,k=yield R.getIdToken(),re=yield Xr(R,Oi(T,{idToken:k}));tt(re?.users.length,T,"internal-error");const be=re.users[0];R._notifyReloadListener(be);const ot=null!==(m=be.providerUserInfo)&&void 0!==m&&m.length?ce(be.providerUserInfo):[],kt=function ye(R,m){return[...R.filter(k=>!m.some(re=>re.providerId===k.providerId)),...m]}(R.providerData,ot),wr=!!R.isAnonymous&&!(R.email&&be.passwordHash||kt?.length),Si={uid:be.localId,displayName:be.displayName||null,photoURL:be.photoUrl||null,email:be.email||null,emailVerified:be.emailVerified||!1,phoneNumber:be.phoneNumber||null,tenantId:be.tenantId||null,providerData:kt,metadata:new lr(be.createdAt,be.lastLoginAt),isAnonymous:wr};Object.assign(R,Si)})).apply(this,arguments)}function Ni(){return(Ni=(0,A.Z)(function*(R){const m=(0,Le.m9)(R);yield Br(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ce(R){return R.map(m=>{var{providerId:T}=m,k=(0,vt._T)(m,["providerId"]);return{providerId:T,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function Ee(){return(Ee=(0,A.Z)(function*(R,m){const T=yield Er(R,{},(0,A.Z)(function*(){const k=(0,Le.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:re,apiKey:be}=R.config,ot=$n(R,re,"/v1/token",`key=${be}`),kt=yield R._getAdditionalHeaders();return kt["Content-Type"]="application/x-www-form-urlencoded",ve.fetch()(ot,{method:"POST",headers:kt,body:k})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}function Nt(){return(Nt=(0,A.Z)(function*(R,m){return bt(R,"POST","/v2/accounts:revokeToken",pt(R,m))})).apply(this,arguments)}class tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){tt(m.idToken,"internal-error"),tt(typeof m.idToken<"u","internal-error"),tt(typeof m.refreshToken<"u","internal-error");const T="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):et(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,T)}updateFromIdToken(m){tt(0!==m.length,"internal-error");const T=et(m);this.updateTokensAndExpiration(m,null,T)}getToken(m,T=!1){var k=this;return(0,A.Z)(function*(){return T||!k.accessToken||k.isExpired?(tt(k.refreshToken,m,"user-token-expired"),k.refreshToken?(yield k.refresh(m,k.refreshToken),k.accessToken):null):k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,T){var k=this;return(0,A.Z)(function*(){const{accessToken:re,refreshToken:be,expiresIn:ot}=yield function ae(R,m){return Ee.apply(this,arguments)}(m,T);k.updateTokensAndExpiration(re,be,Number(ot))})()}updateTokensAndExpiration(m,T,k){this.refreshToken=T||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(m,T){const{refreshToken:k,accessToken:re,expirationTime:be}=T,ot=new tn;return k&&(tt("string"==typeof k,"internal-error",{appName:m}),ot.refreshToken=k),re&&(tt("string"==typeof re,"internal-error",{appName:m}),ot.accessToken=re),be&&(tt("number"==typeof be,"internal-error",{appName:m}),ot.expirationTime=be),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new tn,this.toJSON())}_performRefresh(){return je("not implemented")}}function Dn(R,m){tt("string"==typeof R||typeof R>"u","internal-error",{appName:m})}class pr{constructor(m){var{uid:T,auth:k,stsTokenManager:re}=m,be=(0,vt._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=k,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=be.displayName||null,this.email=be.email||null,this.emailVerified=be.emailVerified||!1,this.phoneNumber=be.phoneNumber||null,this.photoURL=be.photoURL||null,this.isAnonymous=be.isAnonymous||!1,this.tenantId=be.tenantId||null,this.providerData=be.providerData?[...be.providerData]:[],this.metadata=new lr(be.createdAt||void 0,be.lastLoginAt||void 0)}getIdToken(m){var T=this;return(0,A.Z)(function*(){const k=yield Xr(T,T.stsTokenManager.getToken(T.auth,m));return tt(k,T.auth,"internal-error"),T.accessToken!==k&&(T.accessToken=k,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),k})()}getIdTokenResult(m){return function Hn(R){return ls.apply(this,arguments)}(this,m)}reload(){return function zr(R){return Ni.apply(this,arguments)}(this)}_assign(m){this!==m&&(tt(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(T=>Object.assign({},T)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const T=new pr(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return T.metadata._copy(this.metadata),T}_onReload(m){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,T=!1){var k=this;return(0,A.Z)(function*(){let re=!1;m.idToken&&m.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(m),re=!0),T&&(yield Br(k)),yield k.auth._persistUserIfCurrent(k),re&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var m=this;return(0,A.Z)(function*(){if((0,Ze.rh)(m.auth.app))return Promise.reject(ln(m.auth));const T=yield m.getIdToken();return yield Xr(m,function Mi(R,m){return Ei.apply(this,arguments)}(m.auth,{idToken:T})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,T){var k,re,be,ot,kt,un,or,wr;const Si=null!==(k=T.displayName)&&void 0!==k?k:void 0,Do=null!==(re=T.email)&&void 0!==re?re:void 0,Al=null!==(be=T.phoneNumber)&&void 0!==be?be:void 0,qc=null!==(ot=T.photoURL)&&void 0!==ot?ot:void 0,id=null!==(kt=T.tenantId)&&void 0!==kt?kt:void 0,Wc=null!==(un=T._redirectEventId)&&void 0!==un?un:void 0,Hh=null!==(or=T.createdAt)&&void 0!==or?or:void 0,sd=null!==(wr=T.lastLoginAt)&&void 0!==wr?wr:void 0,{uid:od,emailVerified:ul,isAnonymous:Ho,providerData:Zl,stsTokenManager:ad}=T;tt(od&&ad,m,"internal-error");const ld=tn.fromJSON(this.name,ad);tt("string"==typeof od,m,"internal-error"),Dn(Si,m.name),Dn(Do,m.name),tt("boolean"==typeof ul,m,"internal-error"),tt("boolean"==typeof Ho,m,"internal-error"),Dn(Al,m.name),Dn(qc,m.name),Dn(id,m.name),Dn(Wc,m.name),Dn(Hh,m.name),Dn(sd,m.name);const Zc=new pr({uid:od,auth:m,email:Do,emailVerified:ul,displayName:Si,isAnonymous:Ho,photoURL:qc,phoneNumber:Al,tenantId:id,stsTokenManager:ld,createdAt:Hh,lastLoginAt:sd});return Zl&&Array.isArray(Zl)&&(Zc.providerData=Zl.map(zh=>Object.assign({},zh))),Wc&&(Zc._redirectEventId=Wc),Zc}static _fromIdTokenResponse(m,T,k=!1){return(0,A.Z)(function*(){const re=new tn;re.updateFromServerResponse(T);const be=new pr({uid:T.localId,auth:m,stsTokenManager:re,isAnonymous:k});return yield Br(be),be})()}static _fromGetAccountInfoResponse(m,T,k){return(0,A.Z)(function*(){const re=T.users[0];tt(void 0!==re.localId,"internal-error");const be=void 0!==re.providerUserInfo?ce(re.providerUserInfo):[],ot=!(re.email&&re.passwordHash||be?.length),kt=new tn;kt.updateFromIdToken(k);const un=new pr({uid:re.localId,auth:m,stsTokenManager:kt,isAnonymous:ot}),or={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:be,metadata:new lr(re.createdAt,re.lastLoginAt),isAnonymous:!(re.email&&re.passwordHash||be?.length)};return Object.assign(un,or),un})()}}const sr=new Map;function gr(R){Pn(R instanceof Function,"Expected a class definition");let m=sr.get(R);return m?(Pn(m instanceof R,"Instance stored in cache mismatched with class"),m):(m=new R,sr.set(R,m),m)}const lt=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,A.Z)(function*(){return!0})()}_set(T,k){var re=this;return(0,A.Z)(function*(){re.storage[T]=k})()}_get(T){var k=this;return(0,A.Z)(function*(){const re=k.storage[T];return void 0===re?null:re})()}_remove(T){var k=this;return(0,A.Z)(function*(){delete k.storage[T]})()}_addListener(T,k){}_removeListener(T,k){}}return R.type="NONE",R})();function ze(R,m,T){return`firebase:${R}:${m}:${T}`}class Ge{constructor(m,T,k){this.persistence=m,this.auth=T,this.userKey=k;const{config:re,name:be}=this.auth;this.fullUserKey=ze(this.userKey,re.apiKey,be),this.fullPersistenceKey=ze("persistence",re.apiKey,be),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,A.Z)(function*(){const T=yield m.persistence._get(m.fullUserKey);return T?pr._fromJSON(m.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var T=this;return(0,A.Z)(function*(){if(T.persistence===m)return;const k=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=m,k?T.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,T,k="authUser"){return(0,A.Z)(function*(){if(!T.length)return new Ge(gr(lt),m,k);const re=(yield Promise.all(T.map(function(){var or=(0,A.Z)(function*(wr){if(yield wr._isAvailable())return wr});return function(wr){return or.apply(this,arguments)}}()))).filter(or=>or);let be=re[0]||gr(lt);const ot=ze(k,m.config.apiKey,m.name);let kt=null;for(const or of T)try{const wr=yield or._get(ot);if(wr){const Si=pr._fromJSON(m,wr);or!==be&&(kt=Si),be=or;break}}catch{}const un=re.filter(or=>or._shouldAllowMigration);return be._shouldAllowMigration&&un.length?(be=un[0],kt&&(yield be._set(ot,kt.toJSON())),yield Promise.all(T.map(function(){var or=(0,A.Z)(function*(wr){if(wr!==be)try{yield wr._remove(ot)}catch{}});return function(wr){return or.apply(this,arguments)}}())),new Ge(be,m,k)):new Ge(be,m,k)})()}}function Bt(R){const m=R.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(br(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(cn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(gt(m))return"Blackberry";if(dt(m))return"Webos";if(gn(m))return"Safari";if((m.includes("chrome/")||fn(m))&&!m.includes("edge/"))return"Chrome";if(On(m))return"Android";{const k=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function cn(R=(0,Le.z$)()){return/firefox\//i.test(R)}function gn(R=(0,Le.z$)()){const m=R.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fn(R=(0,Le.z$)()){return/crios\//i.test(R)}function br(R=(0,Le.z$)()){return/iemobile/i.test(R)}function On(R=(0,Le.z$)()){return/android/i.test(R)}function gt(R=(0,Le.z$)()){return/blackberry/i.test(R)}function dt(R=(0,Le.z$)()){return/webos/i.test(R)}function Pt(R=(0,Le.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Vn(R=(0,Le.z$)()){return Pt(R)||On(R)||dt(R)||gt(R)||/windows phone/i.test(R)||br(R)}function Cr(R,m=[]){let T;switch(R){case"Browser":T=Bt((0,Le.z$)());break;case"Worker":T=`${Bt((0,Le.z$)())}-${R}`;break;default:T=R}const k=m.length?m.join(","):"FirebaseCore-web";return`${T}/JsCore/${Ze.Jn}/${k}`}class _i{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,T){const k=be=>new Promise((ot,kt)=>{try{ot(m(be))}catch(un){kt(un)}});k.onAbort=T,this.queue.push(k);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(m){var T=this;return(0,A.Z)(function*(){if(T.auth.currentUser===m)return;const k=[];try{for(const re of T.queue)yield re(m),re.onAbort&&k.push(re.onAbort)}catch(re){k.reverse();for(const be of k)try{be()}catch{}throw T.auth._errorFactory.create("login-blocked",{originalMessage:re?.message})}})()}}function si(){return(si=(0,A.Z)(function*(R,m={}){return bt(R,"GET","/v2/passwordPolicy",pt(R,m))})).apply(this,arguments)}class So{constructor(m){var T,k,re,be;const ot=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(T=ot.minPasswordLength)&&void 0!==T?T:6,ot.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ot.maxPasswordLength),void 0!==ot.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ot.containsLowercaseCharacter),void 0!==ot.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ot.containsUppercaseCharacter),void 0!==ot.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ot.containsNumericCharacter),void 0!==ot.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ot.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(re=null===(k=m.allowedNonAlphanumericCharacters)||void 0===k?void 0:k.join(""))&&void 0!==re?re:"",this.forceUpgradeOnSignin=null!==(be=m.forceUpgradeOnSignin)&&void 0!==be&&be,this.schemaVersion=m.schemaVersion}validatePassword(m){var T,k,re,be,ot,kt;const un={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,un),this.validatePasswordCharacterOptions(m,un),un.isValid&&(un.isValid=null===(T=un.meetsMinPasswordLength)||void 0===T||T),un.isValid&&(un.isValid=null===(k=un.meetsMaxPasswordLength)||void 0===k||k),un.isValid&&(un.isValid=null===(re=un.containsLowercaseLetter)||void 0===re||re),un.isValid&&(un.isValid=null===(be=un.containsUppercaseLetter)||void 0===be||be),un.isValid&&(un.isValid=null===(ot=un.containsNumericCharacter)||void 0===ot||ot),un.isValid&&(un.isValid=null===(kt=un.containsNonAlphanumericCharacter)||void 0===kt||kt),un}validatePasswordLengthOptions(m,T){const k=this.customStrengthOptions.minPasswordLength,re=this.customStrengthOptions.maxPasswordLength;k&&(T.meetsMinPasswordLength=m.length>=k),re&&(T.meetsMaxPasswordLength=m.length<=re)}validatePasswordCharacterOptions(m,T){let k;this.updatePasswordCharacterOptionsStatuses(T,!1,!1,!1,!1);for(let re=0;re<m.length;re++)k=m.charAt(re),this.updatePasswordCharacterOptionsStatuses(T,k>="a"&&k<="z",k>="A"&&k<="Z",k>="0"&&k<="9",this.allowedNonAlphanumericCharacters.includes(k))}updatePasswordCharacterOptionsStatuses(m,T,k,re,be){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=T)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=k)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=be))}}class gs{constructor(m,T,k,re){this.app=m,this.heartbeatServiceProvider=T,this.appCheckServiceProvider=k,this.config=re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mn(this),this.idTokenSubscription=new Mn(this),this.beforeStateQueue=new _i(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=re.sdkClientVersion}_initializeWithPersistence(m,T){var k=this;return T&&(this._popupRedirectResolver=gr(T)),this._initializationPromise=this.queue((0,A.Z)(function*(){var re,be;if(!k._deleted&&(k.persistenceManager=yield Ge.create(k,m),!k._deleted)){if(null!==(re=k._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(T),k.lastNotifiedUid=(null===(be=k.currentUser)||void 0===be?void 0:be.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,A.Z)(function*(){if(m._deleted)return;const T=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||T){if(m.currentUser&&T&&m.currentUser.uid===T.uid)return m._currentUser._assign(T),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(T,!0)}})()}initializeCurrentUserFromIdToken(m){var T=this;return(0,A.Z)(function*(){try{const k=yield Oi(T,{idToken:m}),re=yield pr._fromGetAccountInfoResponse(T,k,m);yield T.directlySetCurrentUser(re)}catch(k){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",k),yield T.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var T=this;return(0,A.Z)(function*(){var k;if((0,Ze.rh)(T.app)){const kt=T.app.settings.authIdToken;return kt?new Promise(un=>{setTimeout(()=>T.initializeCurrentUserFromIdToken(kt).then(un,un))}):T.directlySetCurrentUser(null)}const re=yield T.assertedPersistence.getCurrentUser();let be=re,ot=!1;if(m&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const kt=null===(k=T.redirectUser)||void 0===k?void 0:k._redirectEventId,un=be?._redirectEventId,or=yield T.tryRedirectSignIn(m);(!kt||kt===un)&&or?.user&&(be=or.user,ot=!0)}if(!be)return T.directlySetCurrentUser(null);if(!be._redirectEventId){if(ot)try{yield T.beforeStateQueue.runMiddleware(be)}catch(kt){be=re,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(kt))}return be?T.reloadAndSetCurrentUserOrClear(be):T.directlySetCurrentUser(null)}return tt(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===be._redirectEventId?T.directlySetCurrentUser(be):T.reloadAndSetCurrentUserOrClear(be)})()}tryRedirectSignIn(m){var T=this;return(0,A.Z)(function*(){let k=null;try{k=yield T._popupRedirectResolver._completeRedirectFn(T,m,!0)}catch{yield T._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(m){var T=this;return(0,A.Z)(function*(){try{yield Br(m)}catch(k){if("auth/network-request-failed"!==k?.code)return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function It(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var m=this;return(0,A.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var T=this;return(0,A.Z)(function*(){if((0,Ze.rh)(T.app))return Promise.reject(ln(T));const k=m?(0,Le.m9)(m):null;return k&&tt(k.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(k&&k._clone(T))})()}_updateCurrentUser(m,T=!1){var k=this;return(0,A.Z)(function*(){if(!k._deleted)return m&&tt(k.tenantId===m.tenantId,k,"tenant-id-mismatch"),T||(yield k.beforeStateQueue.runMiddleware(m)),k.queue((0,A.Z)(function*(){yield k.directlySetCurrentUser(m),k.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,A.Z)(function*(){return(0,Ze.rh)(m.app)?Promise.reject(ln(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var T=this;return(0,Ze.rh)(this.app)?Promise.reject(ln(this)):this.queue((0,A.Z)(function*(){yield T.assertedPersistence.setPersistence(gr(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var T=this;return(0,A.Z)(function*(){T._getPasswordPolicyInternal()||(yield T._updatePasswordPolicy());const k=T._getPasswordPolicyInternal();return k.schemaVersion!==T.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(T._errorFactory.create("unsupported-password-policy-schema-version",{})):k.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,A.Z)(function*(){const T=yield function _r(R){return si.apply(this,arguments)}(m),k=new So(T);null===m.tenantId?m._projectPasswordPolicy=k:m._tenantPasswordPolicies[m.tenantId]=k})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new Le.LL("auth","Firebase",m())}onAuthStateChanged(m,T,k){return this.registerStateListener(this.authStateSubscription,m,T,k)}beforeAuthStateChanged(m,T){return this.beforeStateQueue.pushCallback(m,T)}onIdTokenChanged(m,T,k){return this.registerStateListener(this.idTokenSubscription,m,T,k)}authStateReady(){return new Promise((m,T)=>{if(this.currentUser)m();else{const k=this.onAuthStateChanged(()=>{k(),m()},T)}})}revokeAccessToken(m){var T=this;return(0,A.Z)(function*(){if(T.currentUser){const k=yield T.currentUser.getIdToken(),re={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:k};null!=T.tenantId&&(re.tenantId=T.tenantId),yield function Se(R,m){return Nt.apply(this,arguments)}(T,re)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,T){var k=this;return(0,A.Z)(function*(){const re=yield k.getOrInitRedirectPersistenceManager(T);return null===m?re.removeCurrentUser():re.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var T=this;return(0,A.Z)(function*(){if(!T.redirectPersistenceManager){const k=m&&gr(m)||T._popupRedirectResolver;tt(k,T,"argument-error"),T.redirectPersistenceManager=yield Ge.create(T,[gr(k._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(m){var T=this;return(0,A.Z)(function*(){var k,re;return T._isInitialized&&(yield T.queue((0,A.Z)(function*(){}))),(null===(k=T._currentUser)||void 0===k?void 0:k._redirectEventId)===m?T._currentUser:(null===(re=T.redirectUser)||void 0===re?void 0:re._redirectEventId)===m?T.redirectUser:null})()}_persistUserIfCurrent(m){var T=this;return(0,A.Z)(function*(){if(m===T.currentUser)return T.queue((0,A.Z)(function*(){return T.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(T=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,T,k,re){if(this._deleted)return()=>{};const be="function"==typeof T?T:T.next.bind(T);let ot=!1;const kt=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(kt,this,"internal-error"),kt.then(()=>{ot||be(this.currentUser)}),"function"==typeof T){const un=m.addObserver(T,k,re);return()=>{ot=!0,un()}}{const un=m.addObserver(T);return()=>{ot=!0,un()}}}directlySetCurrentUser(m){var T=this;return(0,A.Z)(function*(){T.currentUser&&T.currentUser!==m&&T._currentUser._stopProactiveRefresh(),m&&T.isProactiveRefreshEnabled&&m._startProactiveRefresh(),T.currentUser=m,m?yield T.assertedPersistence.setCurrentUser(m):yield T.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,A.Z)(function*(){var T;const k={"X-Client-Version":m.clientVersion};m.app.options.appId&&(k["X-Firebase-gmpid"]=m.app.options.appId);const re=yield null===(T=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();re&&(k["X-Firebase-Client"]=re);const be=yield m._getAppCheckToken();return be&&(k["X-Firebase-AppCheck"]=be),k})()}_getAppCheckToken(){var m=this;return(0,A.Z)(function*(){var T;const k=yield null===(T=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getToken();return k?.error&&function Ct(R,...m){ut.logLevel<=ht.in.WARN&&ut.warn(`Auth (${Ze.Jn}): ${R}`,...m)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Ir(R){return(0,Le.m9)(R)}class Mn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,Le.ne)(T=>this.observer=T)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rn={loadJS:()=>(0,A.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wn(R){return rn.loadJS(R)}function Yr(R){return`__${R}${Math.floor(1e6*Math.random())}`}class Ti{constructor(m){this.type="recaptcha-enterprise",this.auth=Ir(m)}verify(m="verify",T=!1){var k=this;return(0,A.Z)(function*(){function be(){return be=(0,A.Z)(function*(kt){if(!T){if(null==kt.tenantId&&null!=kt._agentRecaptchaConfig)return kt._agentRecaptchaConfig.siteKey;if(null!=kt.tenantId&&void 0!==kt._tenantRecaptchaConfigs[kt.tenantId])return kt._tenantRecaptchaConfigs[kt.tenantId].siteKey}return new Promise(function(){var un=(0,A.Z)(function*(or,wr){vr(kt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Si=>{if(void 0!==Si.recaptchaKey){const Do=new Fr(Si);return null==kt.tenantId?kt._agentRecaptchaConfig=Do:kt._tenantRecaptchaConfigs[kt.tenantId]=Do,or(Do.siteKey)}wr(new Error("recaptcha Enterprise site key undefined"))}).catch(Si=>{wr(Si)})});return function(or,wr){return un.apply(this,arguments)}}())}),be.apply(this,arguments)}function ot(kt,un,or){const wr=window.grecaptcha;tr(wr)?wr.enterprise.ready(()=>{wr.enterprise.execute(kt,{action:m}).then(Si=>{un(Si)}).catch(()=>{un("NO_RECAPTCHA")})}):or(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((kt,un)=>{(function re(kt){return be.apply(this,arguments)})(k.auth).then(or=>{if(!T&&tr(window.grecaptcha))ot(or,kt,un);else{if(typeof window>"u")return void un(new Error("RecaptchaVerifier is only supported in browser"));let wr=function ki(){return rn.recaptchaEnterpriseScript}();0!==wr.length&&(wr+=or),Wn(wr).then(()=>{ot(or,kt,un)}).catch(Si=>{un(Si)})}}).catch(or=>{un(or)})})})()}}function cs(R,m,T){return Go.apply(this,arguments)}function Go(){return(Go=(0,A.Z)(function*(R,m,T,k=!1){const re=new Ti(R);let be;try{be=yield re.verify(T)}catch{be=yield re.verify(T,!0)}const ot=Object.assign({},m);return Object.assign(ot,k?{captchaResp:be}:{captchaResponse:be}),Object.assign(ot,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ot,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ot})).apply(this,arguments)}function $r(R,m,T,k){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,A.Z)(function*(R,m,T,k){var re;if(null!==(re=R._getRecaptchaConfig())&&void 0!==re&&re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const be=yield cs(R,m,T,"getOobCode"===T);return k(R,be)}return k(R,m).catch(function(){var be=(0,A.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log(`${T} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const kt=yield cs(R,m,T,"getOobCode"===T);return k(R,kt)}return Promise.reject(ot)});return function(ot){return be.apply(this,arguments)}}())}),Qs.apply(this,arguments)}function zs(R){const m=R.indexOf(":");return m<0?"":R.substr(0,m+1)}function Xs(R){if(!R)return null;const m=Number(R);return isNaN(m)?null:m}class ho{constructor(m,T){this.providerId=m,this.signInMethod=T}toJSON(){return je("not implemented")}_getIdTokenResponse(m){return je("not implemented")}_linkToIdToken(m,T){return je("not implemented")}_getReauthenticationResolver(m){return je("not implemented")}}function vo(R,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,A.Z)(function*(R,m){return bt(R,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function Nr(R,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,A.Z)(function*(R,m){return pn(R,"POST","/v1/accounts:signInWithPassword",pt(R,m))})).apply(this,arguments)}function Vs(){return(Vs=(0,A.Z)(function*(R,m){return bt(R,"POST","/v1/accounts:sendOobCode",pt(R,m))})).apply(this,arguments)}function qo(){return(qo=(0,A.Z)(function*(R,m){return function yi(R,m){return Vs.apply(this,arguments)}(R,m)})).apply(this,arguments)}function vi(){return(vi=(0,A.Z)(function*(R,m){return pn(R,"POST","/v1/accounts:signInWithEmailLink",pt(R,m))})).apply(this,arguments)}function Ii(){return(Ii=(0,A.Z)(function*(R,m){return pn(R,"POST","/v1/accounts:signInWithEmailLink",pt(R,m))})).apply(this,arguments)}class Kr extends ho{constructor(m,T,k,re=null){super("password",k),this._email=m,this._password=T,this._tenantId=re}static _fromEmailAndPassword(m,T){return new Kr(m,T,"password")}static _fromEmailAndCode(m,T,k=null){return new Kr(m,T,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const T="string"==typeof m?JSON.parse(m):m;if(T?.email&&T?.password){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(m){var T=this;return(0,A.Z)(function*(){switch(T.signInMethod){case"password":return $r(m,{returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Nr);case"emailLink":return function nr(R,m){return vi.apply(this,arguments)}(m,{email:T._email,oobCode:T._password});default:Yt(m,"internal-error")}})()}_linkToIdToken(m,T){var k=this;return(0,A.Z)(function*(){switch(k.signInMethod){case"password":return $r(m,{idToken:T,returnSecureToken:!0,email:k._email,password:k._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vo);case"emailLink":return function jr(R,m){return Ii.apply(this,arguments)}(m,{idToken:T,email:k._email,oobCode:k._password});default:Yt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function qi(R,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,A.Z)(function*(R,m){return pn(R,"POST","/v1/accounts:signInWithIdp",pt(R,m))})).apply(this,arguments)}class oo{constructor(m){var T,k,re,be,ot,kt;const un=(0,Le.zd)((0,Le.pd)(m)),or=null!==(T=un.apiKey)&&void 0!==T?T:null,wr=null!==(k=un.oobCode)&&void 0!==k?k:null,Si=function po(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=un.mode)&&void 0!==re?re:null);tt(or&&wr&&Si,"argument-error"),this.apiKey=or,this.operation=Si,this.code=wr,this.continueUrl=null!==(be=un.continueUrl)&&void 0!==be?be:null,this.languageCode=null!==(ot=un.languageCode)&&void 0!==ot?ot:null,this.tenantId=null!==(kt=un.tenantId)&&void 0!==kt?kt:null}static parseLink(m){const T=function go(R){const m=(0,Le.zd)((0,Le.pd)(R)).link,T=m?(0,Le.zd)((0,Le.pd)(m)).deep_link_id:null,k=(0,Le.zd)((0,Le.pd)(R)).deep_link_id;return(k?(0,Le.zd)((0,Le.pd)(k)).link:null)||k||T||m||R}(m);try{return new oo(T)}catch{return null}}}let Gr=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(T,k){return Kr._fromEmailAndPassword(T,k)}static credentialWithLink(T,k){const re=oo.parseLink(k);return tt(re,"argument-error"),Kr._fromEmailAndCode(T,re.code,re.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Po{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ta extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}function se(R,m){return Re.apply(this,arguments)}function Re(){return(Re=(0,A.Z)(function*(R,m){return pn(R,"POST","/v1/accounts:signUp",pt(R,m))})).apply(this,arguments)}class Pe{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,T,k,re=!1){return(0,A.Z)(function*(){const be=yield pr._fromIdTokenResponse(m,k,re),ot=ct(k);return new Pe({user:be,providerId:ot,_tokenResponse:k,operationType:T})})()}static _forOperation(m,T,k){return(0,A.Z)(function*(){yield m._updateTokensIfNecessary(k,!0);const re=ct(k);return new Pe({user:m,providerId:re,_tokenResponse:k,operationType:T})})()}}function ct(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}class Y extends Le.ZR{constructor(m,T,k,re){var be;super(T.code,T.message),this.operationType=k,this.user=re,Object.setPrototypeOf(this,Y.prototype),this.customData={appName:m.name,tenantId:null!==(be=m.tenantId)&&void 0!==be?be:void 0,_serverResponse:T.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(m,T,k,re){return new Y(m,T,k,re)}}function z(R,m,T,k){return("reauthenticate"===m?T._getReauthenticationResolver(R):T._getIdTokenResponse(R)).catch(be=>{throw"auth/multi-factor-auth-required"===be.code?Y._fromErrorAndOperation(R,be,m,k):be})}function Qr(){return(Qr=(0,A.Z)(function*(R,m,T=!1){const k=yield Xr(R,m._linkToIdToken(R.auth,yield R.getIdToken()),T);return Pe._forOperation(R,"link",k)})).apply(this,arguments)}function Rs(){return(Rs=(0,A.Z)(function*(R,m,T=!1){const{auth:k}=R;if((0,Ze.rh)(k.app))return Promise.reject(ln(k));const re="reauthenticate";try{const be=yield Xr(R,z(k,re,m,R),T);tt(be.idToken,k,"internal-error");const ot=oi(be.idToken);tt(ot,k,"internal-error");const{sub:kt}=ot;return tt(R.uid===kt,k,"user-mismatch"),Pe._forOperation(R,re,be)}catch(be){throw"auth/user-not-found"===be?.code&&Yt(k,"user-mismatch"),be}})).apply(this,arguments)}function Ki(R,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,A.Z)(function*(R,m,T=!1){if((0,Ze.rh)(R.app))return Promise.reject(ln(R));const k="signIn",re=yield z(R,k,m),be=yield Pe._fromIdTokenResponse(R,k,re);return T||(yield R._updateCurrentUser(be.user)),be})).apply(this,arguments)}function us(){return(us=(0,A.Z)(function*(R,m){return Ki(Ir(R),m)})).apply(this,arguments)}function ao(R){return nl.apply(this,arguments)}function nl(){return(nl=(0,A.Z)(function*(R){const m=Ir(R);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Ca(R,m,T){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,A.Z)(function*(R,m,T){if((0,Ze.rh)(R.app))return Promise.reject(ln(R));const k=Ir(R),ot=yield $r(k,{returnSecureToken:!0,email:m,password:T,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",se).catch(un=>{throw"auth/password-does-not-meet-requirements"===un.code&&ao(R),un}),kt=yield Pe._fromIdTokenResponse(k,"signIn",ot);return yield k._updateCurrentUser(kt.user),kt})).apply(this,arguments)}function Ko(R,m,T){return(0,Ze.rh)(R.app)?Promise.reject(ln(R)):function Hi(R,m){return us.apply(this,arguments)}((0,Le.m9)(R),Gr.credential(m,T)).catch(function(){var k=(0,A.Z)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&ao(R),re});return function(re){return k.apply(this,arguments)}}())}function Jt(R,m){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,A.Z)(function*(R,m){const T=(0,Le.m9)(R),re={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};m&&function qs(R,m,T){var k;tt((null===(k=T.url)||void 0===k?void 0:k.length)>0,R,"invalid-continue-uri"),tt(typeof T.dynamicLinkDomain>"u"||T.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),m.continueUrl=T.url,m.dynamicLinkDomain=T.dynamicLinkDomain,m.canHandleCodeInApp=T.handleCodeInApp,T.iOS&&(tt(T.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),m.iOSBundleId=T.iOS.bundleId),T.android&&(tt(T.android.packageName.length>0,R,"missing-android-pkg-name"),m.androidInstallApp=T.android.installApp,m.androidMinimumVersionCode=T.android.minimumVersion,m.androidPackageName=T.android.packageName)}(T.auth,re,m);const{email:be}=yield function Ts(R,m){return qo.apply(this,arguments)}(T.auth,re);be!==R.email&&(yield R.reload())}),Kn.apply(this,arguments)}const Ci="__sak";class fs{constructor(m,T){this.storageRetriever=m,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(Ci,"1"),this.storage.removeItem(Ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,T){return this.storage.setItem(m,JSON.stringify(T)),Promise.resolve()}_get(m){const T=this.storage.getItem(m);return Promise.resolve(T?JSON.parse(T):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const To=(()=>{class R extends fs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,k)=>this.onStorageEvent(T,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yn(){const R=(0,Le.z$)();return gn(R)||Pt(R)}()&&function mr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vn(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const k of Object.keys(this.listeners)){const re=this.storage.getItem(k),be=this.localCache[k];re!==be&&T(k,be,re)}}onStorageEvent(T,k=!1){if(!T.key)return void this.forAllChangedKeys((kt,un,or)=>{this.notifyListeners(kt,or)});const re=T.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const kt=this.storage.getItem(re);if(T.newValue!==kt)null!==T.newValue?this.storage.setItem(re,T.newValue):this.storage.removeItem(re);else if(this.localCache[re]===T.newValue&&!k)return}const be=()=>{const kt=this.storage.getItem(re);!k&&this.localCache[re]===kt||this.notifyListeners(re,kt)},ot=this.storage.getItem(re);!function dr(){return(0,Le.w1)()&&10===document.documentMode}()||ot===T.newValue||T.newValue===T.oldValue?be():setTimeout(be,10)}notifyListeners(T,k){this.localCache[T]=k;const re=this.listeners[T];if(re)for(const be of Array.from(re))be(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,k,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:k,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(k)}_removeListener(T,k){this.listeners[T]&&(this.listeners[T].delete(k),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,k){var re=()=>super._set,be=this;return(0,A.Z)(function*(){yield re().call(be,T,k),be.localCache[T]=JSON.stringify(k)})()}_get(T){var k=()=>super._get,re=this;return(0,A.Z)(function*(){const be=yield k().call(re,T);return re.localCache[T]=JSON.stringify(be),be})()}_remove(T){var k=()=>super._remove,re=this;return(0,A.Z)(function*(){yield k().call(re,T),delete re.localCache[T]})()}}return R.type="LOCAL",R})(),sa=(()=>{class R extends fs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,k){}_removeListener(T,k){}}return R.type="SESSION",R})();let Da=(()=>{class R{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const k=this.receivers.find(be=>be.isListeningto(T));if(k)return k;const re=new R(T);return this.receivers.push(re),re}isListeningto(T){return this.eventTarget===T}handleEvent(T){var k=this;return(0,A.Z)(function*(){const re=T,{eventId:be,eventType:ot,data:kt}=re.data,un=k.handlersMap[ot];if(!un?.size)return;re.ports[0].postMessage({status:"ack",eventId:be,eventType:ot});const or=Array.from(un).map(function(){var Si=(0,A.Z)(function*(Do){return Do(re.origin,kt)});return function(Do){return Si.apply(this,arguments)}}()),wr=yield function wo(R){return Promise.all(R.map(function(){var m=(0,A.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(k){return{fulfilled:!1,reason:k}}});return function(T){return m.apply(this,arguments)}}()))}(or);re.ports[0].postMessage({status:"done",eventId:be,eventType:ot,response:wr})})()}_subscribe(T,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(k)}_unsubscribe(T,k){this.handlersMap[T]&&k&&this.handlersMap[T].delete(k),(!k||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function Ba(R="",m=10){let T="";for(let k=0;k<m;k++)T+=Math.floor(10*Math.random());return R+T}class Za{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,T,k=50){var re=this;return(0,A.Z)(function*(){const be=typeof MessageChannel<"u"?new MessageChannel:null;if(!be)throw new Error("connection_unavailable");let ot,kt;return new Promise((un,or)=>{const wr=Ba("",20);be.port1.start();const Si=setTimeout(()=>{or(new Error("unsupported_event"))},k);kt={messageChannel:be,onMessage(Do){const Al=Do;if(Al.data.eventId===wr)switch(Al.data.status){case"ack":clearTimeout(Si),ot=setTimeout(()=>{or(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),un(Al.data.response);break;default:clearTimeout(Si),clearTimeout(ot),or(new Error("invalid_response"))}}},re.handlers.add(kt),be.port1.addEventListener("message",kt.onMessage),re.target.postMessage({eventType:m,eventId:wr,data:T},[be.port2])}).finally(()=>{kt&&re.removeMessageHandler(kt)})})()}}function hs(){return window}function sn(){return typeof hs().WorkerGlobalScope<"u"&&"function"==typeof hs().importScripts}function yr(){return(yr=(0,A.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ns="firebaseLocalStorageDb",es="firebaseLocalStorage",ro="fbase_key";class Ai{constructor(m){this.request=m}toPromise(){return new Promise((m,T)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function Ka(R,m){return R.transaction([es],m?"readwrite":"readonly").objectStore(es)}function Zs(){const R=indexedDB.open(Ns,1);return new Promise((m,T)=>{R.addEventListener("error",()=>{T(R.error)}),R.addEventListener("upgradeneeded",()=>{const k=R.result;try{k.createObjectStore(es,{keyPath:ro})}catch(re){T(re)}}),R.addEventListener("success",(0,A.Z)(function*(){const k=R.result;k.objectStoreNames.contains(es)?m(k):(k.close(),yield function ou(){const R=indexedDB.deleteDatabase(Ns);return new Ai(R).toPromise()}(),m(yield Zs()))}))})}function Xi(R,m,T){return As.apply(this,arguments)}function As(){return(As=(0,A.Z)(function*(R,m,T){const k=Ka(R,!0).put({[ro]:m,value:T});return new Ai(k).toPromise()})).apply(this,arguments)}function ma(){return(ma=(0,A.Z)(function*(R,m){const T=Ka(R,!1).get(m),k=yield new Ai(T).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function _a(R,m){const T=Ka(R,!0).delete(m);return new Ai(T).toPromise()}const H=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,A.Z)(function*(){return T.db||(T.db=yield Zs()),T.db})()}_withRetries(T){var k=this;return(0,A.Z)(function*(){let re=0;for(;;)try{const be=yield k._openDb();return yield T(be)}catch(be){if(re++>3)throw be;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,A.Z)(function*(){return sn()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,A.Z)(function*(){T.receiver=Da._getInstance(function cr(){return sn()?self:null}()),T.receiver._subscribe("keyChanged",function(){var k=(0,A.Z)(function*(re,be){return{keyProcessed:(yield T._poll()).includes(be.key)}});return function(re,be){return k.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var k=(0,A.Z)(function*(re,be){return["keyChanged"]});return function(re,be){return k.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,A.Z)(function*(){var k,re;if(T.activeServiceWorker=yield function mn(){return yr.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new Za(T.activeServiceWorker);const be=yield T.sender._send("ping",{},800);be&&null!==(k=be[0])&&void 0!==k&&k.fulfilled&&null!==(re=be[0])&&void 0!==re&&re.value.includes("keyChanged")&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var k=this;return(0,A.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function Lr(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:T},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,A.Z)(function*(){try{if(!indexedDB)return!1;const T=yield Zs();return yield Xi(T,Ci,"1"),yield _a(T,Ci),!0}catch{}return!1})()}_withPendingWrite(T){var k=this;return(0,A.Z)(function*(){k.pendingWrites++;try{yield T()}finally{k.pendingWrites--}})()}_set(T,k){var re=this;return(0,A.Z)(function*(){return re._withPendingWrite((0,A.Z)(function*(){return yield re._withRetries(be=>Xi(be,T,k)),re.localCache[T]=k,re.notifyServiceWorker(T)}))})()}_get(T){var k=this;return(0,A.Z)(function*(){const re=yield k._withRetries(be=>function Ya(R,m){return ma.apply(this,arguments)}(be,T));return k.localCache[T]=re,re})()}_remove(T){var k=this;return(0,A.Z)(function*(){return k._withPendingWrite((0,A.Z)(function*(){return yield k._withRetries(re=>_a(re,T)),delete k.localCache[T],k.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,A.Z)(function*(){const k=yield T._withRetries(ot=>{const kt=Ka(ot,!1).getAll();return new Ai(kt).toPromise()});if(!k)return[];if(0!==T.pendingWrites)return[];const re=[],be=new Set;if(0!==k.length)for(const{fbase_key:ot,value:kt}of k)be.add(ot),JSON.stringify(T.localCache[ot])!==JSON.stringify(kt)&&(T.notifyListeners(ot,kt),re.push(ot));for(const ot of Object.keys(T.localCache))T.localCache[ot]&&!be.has(ot)&&(T.notifyListeners(ot,null),re.push(ot));return re})()}notifyListeners(T,k){this.localCache[T]=k;const re=this.listeners[T];if(re)for(const be of Array.from(re))be(k)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,A.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(k)}_removeListener(T,k){this.listeners[T]&&(this.listeners[T].delete(k),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();Yr("rcb"),new $e(3e4,6e4);class Ac extends ho{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return qi(m,this._buildIdpRequest())}_linkToIdToken(m,T){return qi(m,this._buildIdpRequest(T))}_getReauthenticationResolver(m){return qi(m,this._buildIdpRequest())}_buildIdpRequest(m){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(T.idToken=m),T}}function Sa(R){return Ki(R.auth,new Ac(R),R.bypassAuthState)}function Dc(R){const{auth:m,user:T}=R;return tt(T,m,"internal-error"),function ji(R,m){return Rs.apply(this,arguments)}(T,new Ac(R),R.bypassAuthState)}function Sc(R){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,A.Z)(function*(R){const{auth:m,user:T}=R;return tt(T,m,"internal-error"),function Zn(R,m){return Qr.apply(this,arguments)}(T,new Ac(R),R.bypassAuthState)})).apply(this,arguments)}class Bu{constructor(m,T,k,re,be=!1){this.auth=m,this.resolver=k,this.user=re,this.bypassAuthState=be,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var m=this;return new Promise(function(){var T=(0,A.Z)(function*(k,re){m.pendingPromise={resolve:k,reject:re};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(be){m.reject(be)}});return function(k,re){return T.apply(this,arguments)}}())}onAuthEvent(m){var T=this;return(0,A.Z)(function*(){const{urlResponse:k,sessionId:re,postBody:be,tenantId:ot,error:kt,type:un}=m;if(kt)return void T.reject(kt);const or={auth:T.auth,requestUri:k,sessionId:re,tenantId:ot||void 0,postBody:be||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(un)(or))}catch(wr){T.reject(wr)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return Sc;case"reauthViaPopup":case"reauthViaRedirect":return Dc;default:Yt(this.auth,"internal-error")}}resolve(m){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new $e(2e3,1e4);const Ul="pendingRedirect",ba=new Map;class cu extends Bu{constructor(m,T,k=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,k),this.eventId=null}execute(){var m=()=>super.execute,T=this;return(0,A.Z)(function*(){let k=ba.get(T.auth._key());if(!k){try{const be=(yield function Qa(R,m){return _h.apply(this,arguments)}(T.resolver,T.auth))?yield m().call(T):null;k=()=>Promise.resolve(be)}catch(re){k=()=>Promise.reject(re)}ba.set(T.auth._key(),k)}return T.bypassAuthState||ba.set(T.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(m){var T=()=>super.onAuthEvent,k=this;return(0,A.Z)(function*(){if("signInViaRedirect"===m.type)return T().call(k,m);if("unknown"!==m.type){if(m.eventId){const re=yield k.auth._redirectUserForId(m.eventId);if(re)return k.user=re,T().call(k,m);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,A.Z)(function*(){})()}cleanUp(){}}function _h(){return(_h=(0,A.Z)(function*(R,m){const T=function ac(R){return ze(Ul,R.config.apiKey,R.name)}(m),k=function yh(R){return gr(R._redirectPersistence)}(R);if(!(yield k._isAvailable()))return!1;const re="true"===(yield k._get(T));return yield k._remove(T),re})).apply(this,arguments)}function aa(R,m){ba.set(R._key(),m)}function Tl(R,m){return zu.apply(this,arguments)}function zu(){return(zu=(0,A.Z)(function*(R,m,T=!1){if((0,Ze.rh)(R.app))return Promise.reject(ln(R));const k=Ir(R),re=function Ll(R,m){return m?gr(m):(tt(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}(k,m),ot=yield new cu(k,re,T).execute();return ot&&!T&&(delete ot.user._redirectEventId,yield k._persistUserIfCurrent(ot.user),yield k._setRedirectUser(null,m)),ot})).apply(this,arguments)}class Th{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let T=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(m,k)&&(T=!0,this.sendToConsumer(m,k),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ih(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Co(R);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=m,T=!0)),T}sendToConsumer(m,T){var k;if(m.error&&!Co(m)){const re=(null===(k=m.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";T.onError(zt(this.auth,re))}else T.onAuthEvent(m)}isEventForConsumer(m,T){const k=null===T.eventId||!!m.eventId&&m.eventId===T.eventId;return T.filter.includes(m.type)&&k}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fo(m))}saveEventToCache(m){this.cachedEventUids.add(Fo(m)),this.lastProcessedEventTime=Date.now()}}function Fo(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(m=>m).join("-")}function Co({type:R,error:m}){return"unknown"===R&&"auth/no-auth-event"===m?.code}function Nc(){return(Nc=(0,A.Z)(function*(R,m={}){return bt(R,"GET","/v1/projects",m)})).apply(this,arguments)}const wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fu=/^https?/;function Ha(){return Ha=(0,A.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:m}=yield function Bl(R){return Nc.apply(this,arguments)}(R);for(const T of m)try{if(Il(T))return}catch{}Yt(R,"unauthorized-domain")}),Ha.apply(this,arguments)}function Il(R){const m=rt(),{protocol:T,hostname:k}=new URL(m);if(R.startsWith("chrome-extension://")){const ot=new URL(R);return""===ot.hostname&&""===k?"chrome-extension:"===T&&R.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===T&&ot.hostname===k}if(!fu.test(T))return!1;if(wh.test(R))return k===R;const re=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(k)}const Ch=new $e(3e4,6e4);function Fc(){const R=hs().___jsl;if(R?.H)for(const m of Object.keys(R.H))if(R.H[m].r=R.H[m].r||[],R.H[m].L=R.H[m].L||[],R.H[m].r=[...R.H[m].L],R.CP)for(let T=0;T<R.CP.length;T++)R.CP[T]=null}let pu=null;const Ad=new $e(5e3,15e3),Ah="__/auth/iframe",Dh="emulator/auth/iframe",gp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Af=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dd(R){const m=R.config;tt(m.authDomain,R,"auth-domain-config-required");const T=m.emulator?Ce(m,Dh):`https://${R.config.authDomain}/${Ah}`,k={apiKey:m.apiKey,appName:R.name,v:Ze.Jn},re=Af.get(R.config.apiHost);re&&(k.eid=re);const be=R._getFrameworks();return be.length&&(k.fw=be.join(",")),`${T}?${(0,Le.xO)(k).slice(1)}`}function $u(){return $u=(0,A.Z)(function*(R){const m=yield function lc(R){return pu=pu||function jl(R){return new Promise((m,T)=>{var k,re,be;function ot(){Fc(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Fc(),T(zt(R,"network-request-failed"))},timeout:Ch.get()})}if(null!==(re=null===(k=hs().gapi)||void 0===k?void 0:k.iframes)&&void 0!==re&&re.Iframe)m(gapi.iframes.getContext());else{if(null===(be=hs().gapi)||void 0===be||!be.load){const kt=Yr("iframefcb");return hs()[kt]=()=>{gapi.load?ot():T(zt(R,"network-request-failed"))},Wn(`${function Vr(){return rn.gapiScript}()}?onload=${kt}`).catch(un=>T(un))}ot()}}).catch(m=>{throw pu=null,m})}(R),pu}(R),T=hs().gapi;return tt(T,R,"internal-error"),m.open({where:document.body,url:Dd(R),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gp,dontclear:!0},k=>new Promise(function(){var re=(0,A.Z)(function*(be,ot){yield k.restyle({setHideOnLeave:!1});const kt=zt(R,"network-request-failed"),un=hs().setTimeout(()=>{ot(kt)},Ad.get());function or(){hs().clearTimeout(un),be(k)}k.ping(or).then(or,()=>{ot(kt)})});return function(be,ot){return re.apply(this,arguments)}}()))}),$u.apply(this,arguments)}const Gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class la{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zl="__/auth/handler",$l="emulator/auth/handler",Ph=encodeURIComponent("fac");function qu(R,m,T,k,re,be){return mu.apply(this,arguments)}function mu(){return(mu=(0,A.Z)(function*(R,m,T,k,re,be){tt(R.config.authDomain,R,"auth-domain-config-required"),tt(R.config.apiKey,R,"invalid-api-key");const ot={apiKey:R.config.apiKey,appName:R.name,authType:T,redirectUrl:k,v:Ze.Jn,eventId:re};if(m instanceof Po){m.setDefaultLanguage(R.languageCode),ot.providerId=m.providerId||"",(0,Le.xb)(m.getCustomParameters())||(ot.customParameters=JSON.stringify(m.getCustomParameters()));for(const[wr,Si]of Object.entries(be||{}))ot[wr]=Si}if(m instanceof Ta){const wr=m.getScopes().filter(Si=>""!==Si);wr.length>0&&(ot.scopes=wr.join(","))}R.tenantId&&(ot.tid=R.tenantId);const kt=ot;for(const wr of Object.keys(kt))void 0===kt[wr]&&delete kt[wr];const un=yield R._getAppCheckToken(),or=un?`#${Ph}=${encodeURIComponent(un)}`:"";return`${function Df({config:R}){return R.emulator?Ce(R,$l):`https://${R.authDomain}/${zl}`}(R)}?${(0,Le.xO)(kt).slice(1)}${or}`})).apply(this,arguments)}const Lo="webStorageSupport",Gl=class Sd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sa,this._completeRedirectFn=Tl,this._overrideRedirectResult=aa}_openPopup(m,T,k,re){var be=this;return(0,A.Z)(function*(){var ot;Pn(null===(ot=be.eventManagers[m._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const kt=yield qu(m,T,k,rt(),re);return function Xa(R,m,T,k=500,re=600){const be=Math.max((window.screen.availHeight-re)/2,0).toString(),ot=Math.max((window.screen.availWidth-k)/2,0).toString();let kt="";const un=Object.assign(Object.assign({},Gu),{width:k.toString(),height:re.toString(),top:be,left:ot}),or=(0,Le.z$)().toLowerCase();T&&(kt=fn(or)?"_blank":T),cn(or)&&(m=m||"http://localhost",un.scrollbars="yes");const wr=Object.entries(un).reduce((Do,[Al,qc])=>`${Do}${Al}=${qc},`,"");if(function ur(R=(0,Le.z$)()){var m;return Pt(R)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(or)&&"_self"!==kt)return function cc(R,m){const T=document.createElement("a");T.href=R,T.target=m;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(k)}(m||"",kt),new la(null);const Si=window.open(m||"",kt,wr);tt(Si,R,"popup-blocked");try{Si.focus()}catch{}return new la(Si)}(m,kt,Ba())})()}_openRedirect(m,T,k,re){var be=this;return(0,A.Z)(function*(){return yield be._originValidation(m),function ic(R){hs().location.href=R}(yield qu(m,T,k,rt(),re)),new Promise(()=>{})})()}_initialize(m){const T=m._key();if(this.eventManagers[T]){const{manager:re,promise:be}=this.eventManagers[T];return re?Promise.resolve(re):(Pn(be,"If manager is not set, promise should be"),be)}const k=this.initAndGetManager(m);return this.eventManagers[T]={promise:k},k.catch(()=>{delete this.eventManagers[T]}),k}initAndGetManager(m){var T=this;return(0,A.Z)(function*(){const k=yield function Hl(R){return $u.apply(this,arguments)}(m),re=new Th(m);return k.register("authEvent",be=>(tt(be?.authEvent,m,"invalid-auth-event"),{status:re.onEvent(be.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[m._key()]={manager:re},T.iframes[m._key()]=k,re})()}_isIframeWebStorageSupported(m,T){this.iframes[m._key()].send(Lo,{type:Lo},re=>{var be;const ot=null===(be=re?.[0])||void 0===be?void 0:be[Lo];void 0!==ot&&T(!!ot),Yt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const T=m._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function kc(R){return Ha.apply(this,arguments)}(m)),this.originValidationPromises[T]}get _shouldInitProactively(){return Vn()||gn()||Pt()}};var yu="@firebase/auth";class vu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var T=this;return(0,A.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const T=this.auth.onIdTokenChanged(k=>{m(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,T),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const T=this.internalListeners.get(m);T&&(this.internalListeners.delete(m),T(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Uc=(0,Le.Pz)("authIdTokenMaxAge")||300;let Zu=null;const Rd=R=>function(){var m=(0,A.Z)(function*(T){const k=T&&(yield T.getIdTokenResult()),re=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(re&&re>Uc)return;const be=k?.token;Zu!==be&&(Zu=be,yield fetch(R,{method:be?"POST":"DELETE",headers:be?{Authorization:`Bearer ${be}`}:{}}))});return function(T){return m.apply(this,arguments)}}();function Ao(R=(0,Ze.Mq)()){const m=(0,Ze.qX)(R,"auth");if(m.isInitialized())return m.getImmediate();const T=function Ss(R,m){const T=(0,Ze.qX)(R,"auth");if(T.isInitialized()){const re=T.getImmediate(),be=T.getOptions();if((0,Le.vZ)(be,m??{}))return re;Yt(re,"already-initialized")}return T.initialize({options:m})}(R,{popupRedirectResolver:Gl,persistence:[H,To,sa]}),k=(0,Le.Pz)("authTokenSyncURL");if(k&&"boolean"==typeof isSecureContext&&isSecureContext){const be=new URL(k,location.origin);if(location.origin===be.origin){const ot=Rd(be.toString());(function jo(R,m,T){(0,Le.m9)(R).beforeAuthStateChanged(m,T)})(T,ot,()=>ot(T.currentUser)),function Ml(R,m,T,k){(0,Le.m9)(R).onIdTokenChanged(m,T,k)}(T,kt=>ot(kt))}}const re=(0,Le.q4)("auth");return re&&function _o(R,m,T){const k=Ir(R);tt(k._canInitEmulator,k,"emulator-config-failed"),tt(/^https?:\/\//.test(m),k,"invalid-emulator-scheme");const re=!!T?.disableWarnings,be=zs(m),{host:ot,port:kt}=function yo(R){const m=zs(R),T=/(\/\/)?([^?#/]+)/.exec(R.substr(m.length));if(!T)return{host:"",port:null};const k=T[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(k);if(re){const be=re[1];return{host:be,port:Xs(k.substr(be.length+1))}}{const[be,ot]=k.split(":");return{host:be,port:Xs(ot)}}}(m);k.config.emulator={url:`${be}//${ot}${null===kt?"":`:${kt}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:ot,port:kt,protocol:be.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function xi(){function R(){const m=document.createElement("p"),T=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}(T,`http://${re}`),T}(function Un(R){rn=R})({loadJS:R=>new Promise((m,T)=>{const k=document.createElement("script");k.setAttribute("src",R),k.onload=m,k.onerror=re=>{const be=zt("internal-error");be.customData=re,T(be)},k.type="text/javascript",k.charset="UTF-8",function Eu(){var R,m;return null!==(m=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==m?m:document}().appendChild(k)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bu(R){(0,Ze.Xd)(new Ve.wA("auth",(m,{options:T})=>{const k=m.getProvider("app").getImmediate(),re=m.getProvider("heartbeat"),be=m.getProvider("app-check-internal"),{apiKey:ot,authDomain:kt}=k.options;tt(ot&&!ot.includes(":"),"invalid-api-key",{appName:k.name});const un={apiKey:ot,authDomain:kt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cr(R)},or=new gs(k,re,be,un);return function Js(R,m){const T=m?.persistence||[],k=(Array.isArray(T)?T:[T]).map(gr);m?.errorMap&&R._updateErrorMap(m.errorMap),R._initializeWithPersistence(k,m?.popupRedirectResolver)}(or,T),or},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,T,k)=>{m.getProvider("auth-internal").initialize()})),(0,Ze.Xd)(new Ve.wA("auth-internal",m=>{const T=Ir(m.getProvider("auth").getImmediate());return new vu(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ze.KN)(yu,"1.7.5",function Sf(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(R)),(0,Ze.KN)(yu,"1.7.5","esm2017")}("Browser");var Md=ne(5592);function Ku(R){return new Md.y(function(m){var T=function ml(R,m,T,k){return(0,Le.m9)(R).onAuthStateChanged(m,T,k)}(R,m.next.bind(m),m.error.bind(m),m.complete.bind(m));return{unsubscribe:T}})}class Yu{constructor(m){return m}}class xf{constructor(){return(0,b.vb)("auth")}}const Od=new _e.OlP("angularfire2.auth-instances");function Bc(R){return(m,T)=>{const k=m.runOutsideAngular(()=>R(T));return new Yu(k)}}const Nd={provide:xf,deps:[[new _e.FiY,Od]]},jc={provide:Yu,useFactory:function _p(R,m){const T=(0,b.JM)("auth",R,m);return T&&new Yu(T)},deps:[[new _e.FiY,Od],Fe.Ot]};let Hc=(()=>{class R{constructor(){(0,O.KN)("angularfire",b.q4.full,"auth")}static \u0275fac=function(k){return new(k||R)};static \u0275mod=_e.oAB({type:R});static \u0275inj=_e.cJS({providers:[jc,Nd]})}return R})();function Iu(R,...m){return{ngModule:Hc,providers:[{provide:Od,useFactory:Bc(R),multi:!0,deps:[_e.R0b,_e.zs3,b.HU,Fe.z6,[new _e.FiY,b.Rf],...m]}]}}const zc=(0,b.u3)(Ku,!0),kd=(0,b.u3)(Ca,!0),Nh=(0,b.u3)(Ao,!0),ed=(0,b.u3)(Jt,!0),Cl=(0,b.u3)(Ko,!0)},7732:(Xn,Lt,ne)=>{ne.d(Lt,{gg:()=>tt,ET:()=>en,hJ:()=>ar,BS:()=>Cn,JU:()=>Hn,QT:()=>Br,ad:()=>ae,Cm:()=>ve,IO:()=>On,pl:()=>ur,r7:()=>di,ar:()=>gs});var b=ne(4810),_e=ne(4946),Fe=ne(721),O=ne(5251),A=ne(3182),Ze=ne(5223),Le=ne(5592),ht=ne(7398),vt=function(){return vt=Object.assign||function(rn){for(var Un,Wn=1,Or=arguments.length;Wn<Or;Wn++)for(var ki in Un=arguments[Wn])Object.prototype.hasOwnProperty.call(Un,ki)&&(rn[ki]=Un[ki]);return rn},vt.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ke={includeMetadataChanges:!1};function ln(Mn,rn){return void 0===rn&&(rn={}),function Yt(Mn){return function _t(Mn,rn){return void 0===rn&&(rn=ke),new Le.y(function(Un){return{unsubscribe:(0,Ze.cf)(Mn,rn,{next:Un.next.bind(Un),error:Un.error.bind(Un),complete:Un.complete.bind(Un)})}})}(Mn,{includeMetadataChanges:!0}).pipe((0,ht.U)(function(rn){return rn.docs}))}(Mn).pipe((0,ht.U)(function(Un){return Un.map(function(Wn){return function Vt(Mn,rn){var Un;void 0===rn&&(rn={});var Wn=Mn.data(rn);return Mn.exists()&&"object"==typeof Wn&&null!==Wn&&rn.idField?vt(vt({},Wn),((Un={})[rn.idField]=Mn.id,Un)):Wn}(Wn,rn)})}))}class tt{constructor(rn){return rn}}const je="firestore",Ye=new _e.OlP("angularfire2.firestore-instances");function ft(Mn){return(rn,Un)=>{const Wn=rn.runOutsideAngular(()=>Mn(Un));return new tt(Wn)}}const It={provide:class Pn{constructor(){return(0,b.vb)(je)}},deps:[[new _e.FiY,Ye]]},$e={provide:tt,useFactory:function De(Mn,rn){const Un=(0,b.JM)(je,Mn,rn);return Un&&new tt(Un)},deps:[[new _e.FiY,Ye],Fe.Ot]};let Ce=(()=>{class Mn{constructor(){(0,A.KN)("angularfire",b.q4.full,"fst")}static \u0275fac=function(Wn){return new(Wn||Mn)};static \u0275mod=_e.oAB({type:Mn});static \u0275inj=_e.cJS({providers:[$e,It]})}return Mn})();function ve(Mn,...rn){return{ngModule:Ce,providers:[{provide:Ye,useFactory:ft(Mn),multi:!0,deps:[_e.R0b,_e.zs3,b.HU,Fe.z6,[new _e.FiY,O.dh],[new _e.FiY,b.Rf],...rn]}]}}const Cn=(0,b.u3)(ln,!0),en=(0,b.u3)(Ze.ET,!0),ar=(0,b.u3)(Ze.hJ,!0),Hn=(0,b.u3)(Ze.JU,!0),Br=(0,b.u3)(Ze.QT,!0),ae=(0,b.u3)(Ze.ad,!0),On=(0,b.u3)(Ze.IO,!0),ur=(0,b.u3)(Ze.pl,!0),di=(0,b.u3)(Ze.r7,!0),gs=(0,b.u3)(Ze.ar,!0)},5017:(Xn,Lt,ne)=>{ne.d(Lt,{Ke:()=>ai,Jt:()=>Gr,cF:()=>Ta,Vq:()=>Us,iH:()=>is,KV:()=>Zi});var b=ne(4810),_e=ne(4946),Fe=ne(721),O=ne(5251),A=ne(3182),Ze=ne(5861),Le=ne(534),ht=ne(9058),vt=ne(4537);const Ve="firebasestorage.googleapis.com",ke="storageBucket";class Vt extends ht.ZR{constructor(se,Re,Pe=0){super(Tn(se),`Firebase Storage: ${Re} (${Tn(se)})`),this.status_=Pe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(se){this.status_=se}_codeEquals(se){return Tn(se)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(se){this.customData.serverResponse=se,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ut=function(ie){return ie.UNKNOWN="unknown",ie.OBJECT_NOT_FOUND="object-not-found",ie.BUCKET_NOT_FOUND="bucket-not-found",ie.PROJECT_NOT_FOUND="project-not-found",ie.QUOTA_EXCEEDED="quota-exceeded",ie.UNAUTHENTICATED="unauthenticated",ie.UNAUTHORIZED="unauthorized",ie.UNAUTHORIZED_APP="unauthorized-app",ie.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ie.INVALID_CHECKSUM="invalid-checksum",ie.CANCELED="canceled",ie.INVALID_EVENT_NAME="invalid-event-name",ie.INVALID_URL="invalid-url",ie.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ie.NO_DEFAULT_BUCKET="no-default-bucket",ie.CANNOT_SLICE_BLOB="cannot-slice-blob",ie.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ie.NO_DOWNLOAD_URL="no-download-url",ie.INVALID_ARGUMENT="invalid-argument",ie.INVALID_ARGUMENT_COUNT="invalid-argument-count",ie.APP_DELETED="app-deleted",ie.INVALID_ROOT_OPERATION="invalid-root-operation",ie.INVALID_FORMAT="invalid-format",ie.INTERNAL_ERROR="internal-error",ie.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ie}(Ut||{});function Tn(ie){return"storage/"+ie}function wn(){return new Vt(Ut.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Pn(ie){return new Vt(Ut.INVALID_ARGUMENT,ie)}function rt(){return new Vt(Ut.APP_DELETED,"The Firebase app was deleted.")}function De(ie,se){return new Vt(Ut.INVALID_FORMAT,"String does not match format '"+ie+"': "+se)}function ft(ie){throw new Vt(Ut.INTERNAL_ERROR,"Internal error: "+ie)}class It{constructor(se,Re){this.bucket=se,this.path_=Re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const se=encodeURIComponent;return"/b/"+se(this.bucket)+"/o/"+se(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(se,Re){let Pe;try{Pe=It.makeFromUrl(se,Re)}catch{return new It(se,"")}if(""===Pe.path)return Pe;throw function Ke(ie){return new Vt(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ie+"'.")}(se)}static makeFromUrl(se,Re){let Pe=null;const ct="([A-Za-z0-9.\\-_]+)",Y=new RegExp("^gs://"+ct+"(/(.*))?$","i");function ue(Hi){Hi.path_=decodeURIComponent(Hi.path)}const yn=Re.replace(/[.]/g,"\\."),ni=[{regex:Y,indices:{bucket:1,path:3},postModify:function Gt(Hi){"/"===Hi.path.charAt(Hi.path.length-1)&&(Hi.path_=Hi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${yn}/v[A-Za-z0-9_]+/b/${ct}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ue},{regex:new RegExp(`^https?://${Re===Ve?"(?:storage.googleapis.com|storage.cloud.google.com)":Re}/${ct}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ue}];for(let Hi=0;Hi<ni.length;Hi++){const us=ni[Hi],ea=us.regex.exec(se);if(ea){let Zo=ea[us.indices.path];Zo||(Zo=""),Pe=new It(ea[us.indices.bucket],Zo),us.postModify(Pe);break}}if(null==Pe)throw function zt(ie){return new Vt(Ut.INVALID_URL,"Invalid URL '"+ie+"'.")}(se);return Pe}}class $e{constructor(se){this.promise_=Promise.reject(se)}getPromise(){return this.promise_}cancel(se=!1){}}function bt(ie){return"string"==typeof ie||ie instanceof String}function Cn(ie){return Er()&&ie instanceof Blob}function Er(){return typeof Blob<"u"}function Zt(ie,se,Re,Pe){if(Pe<se)throw Pn(`Invalid value for '${ie}'. Expected ${se} or greater.`);if(Pe>Re)throw Pn(`Invalid value for '${ie}'. Expected ${Re} or less.`)}function pn(ie,se,Re){let Pe=se;return null==Re&&(Pe=`https://${se}`),`${Re}://${Pe}/v0${ie}`}function qn(ie){const se=encodeURIComponent;let Re="?";for(const Pe in ie)ie.hasOwnProperty(Pe)&&(Re=Re+(se(Pe)+"=")+se(ie[Pe])+"&");return Re=Re.slice(0,-1),Re}var $n=function(ie){return ie[ie.NO_ERROR=0]="NO_ERROR",ie[ie.NETWORK_ERROR=1]="NETWORK_ERROR",ie[ie.ABORT=2]="ABORT",ie}($n||{});class en{constructor(se,Re,Pe,ct,Gt,q,Y,z,ue,Oe,yn,Zn=!0){this.url_=se,this.method_=Re,this.headers_=Pe,this.body_=ct,this.successCodes_=Gt,this.additionalRetryCodes_=q,this.callback_=Y,this.errorCallback_=z,this.timeout_=ue,this.progressCallback_=Oe,this.connectionFactory_=yn,this.retry=Zn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Qr,bi)=>{this.resolve_=Qr,this.reject_=bi,this.start_()})}start_(){const Re=(Pe,ct)=>{const Gt=this.resolve_,q=this.reject_,Y=ct.connection;if(ct.wasSuccessCode)try{const z=this.callback_(Y,Y.getResponse());!function pe(ie){return void 0!==ie}(z)?Gt():Gt(z)}catch(z){q(z)}else if(null!==Y){const z=wn();z.serverResponse=Y.getErrorText(),q(this.errorCallback_?this.errorCallback_(Y,z):z)}else q(ct.canceled?this.appDelete_?rt():function Yt(){return new Vt(Ut.CANCELED,"User canceled the upload/download.")}():function Ot(){return new Vt(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Re(0,new An(!1,null,!0)):this.backoffId_=function Ce(ie,se,Re){let Pe=1,ct=null,Gt=null,q=!1,Y=0;function z(){return 2===Y}let ue=!1;function Oe(...ji){ue||(ue=!0,se.apply(null,ji))}function yn(ji){ct=setTimeout(()=>{ct=null,ie(Qr,z())},ji)}function Zn(){Gt&&clearTimeout(Gt)}function Qr(ji,...Rs){if(ue)return void Zn();if(ji)return Zn(),void Oe.call(null,ji,...Rs);if(z()||q)return Zn(),void Oe.call(null,ji,...Rs);let ni;Pe<64&&(Pe*=2),1===Y?(Y=2,ni=0):ni=1e3*(Pe+Math.random()),yn(ni)}let bi=!1;function Bi(ji){bi||(bi=!0,Zn(),!ue&&(null!==ct?(ji||(Y=2),clearTimeout(ct),yn(0)):ji||(Y=1)))}return yn(0),Gt=setTimeout(()=>{q=!0,Bi(!0)},Re),Bi}((Pe,ct)=>{if(ct)return void Pe(!1,new An(!1,null,!0));const Gt=this.connectionFactory_();this.pendingConnection_=Gt;const q=Y=>{null!==this.progressCallback_&&this.progressCallback_(Y.loaded,Y.lengthComputable?Y.total:-1)};null!==this.progressCallback_&&Gt.addUploadProgressListener(q),Gt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Gt.removeUploadProgressListener(q),this.pendingConnection_=null;const Y=Gt.getErrorCode()===$n.NO_ERROR,z=Gt.getStatus();if(!Y||function Rn(ie,se){const Re=ie>=500&&ie<600,ct=-1!==[408,429].indexOf(ie),Gt=-1!==se.indexOf(ie);return Re||ct||Gt}(z,this.additionalRetryCodes_)&&this.retry){const Oe=Gt.getErrorCode()===$n.ABORT;return void Pe(!1,new An(!1,null,Oe))}const ue=-1!==this.successCodes_.indexOf(z);Pe(!0,new An(ue,Gt))})},Re,this.timeout_)}getPromise(){return this.promise_}cancel(se){this.canceled_=!0,this.appDelete_=se||!1,null!==this.backoffId_&&function ve(ie){ie(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class An{constructor(se,Re,Pe){this.wasSuccessCode=se,this.connection=Re,this.canceled=!!Pe}}function ar(...ie){const se=function vr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==se){const Re=new se;for(let Pe=0;Pe<ie.length;Pe++)Re.append(ie[Pe]);return Re.getBlob()}if(Er())return new Blob(ie);throw new Vt(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wr{constructor(se,Re){this.data=se,this.contentType=Re||null}}function as(ie){const se=[];for(let Re=0;Re<ie.length;Re++){let Pe=ie.charCodeAt(Re);Pe<=127?se.push(Pe):Pe<=2047?se.push(192|Pe>>6,128|63&Pe):55296==(64512&Pe)?Re<ie.length-1&&56320==(64512&ie.charCodeAt(Re+1))?(Pe=65536|(1023&Pe)<<10|1023&ie.charCodeAt(++Re),se.push(240|Pe>>18,128|Pe>>12&63,128|Pe>>6&63,128|63&Pe)):se.push(239,191,189):56320==(64512&Pe)?se.push(239,191,189):se.push(224|Pe>>12,128|Pe>>6&63,128|63&Pe)}return new Uint8Array(se)}function so(ie,se){switch(ie){case Jr.BASE64:{const ct=-1!==se.indexOf("-"),Gt=-1!==se.indexOf("_");if(ct||Gt)throw De(ie,"Invalid character '"+(ct?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const ct=-1!==se.indexOf("+"),Gt=-1!==se.indexOf("/");if(ct||Gt)throw De(ie,"Invalid character '"+(ct?"+":"/")+"' found: is it base64 encoded?");se=se.replace(/-/g,"+").replace(/_/g,"/");break}}let Re;try{Re=function Ei(ie){if(typeof atob>"u")throw function je(ie){return new Vt(Ut.UNSUPPORTED_ENVIRONMENT,`${ie} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ie)}(se)}catch(ct){throw ct.message.includes("polyfill")?ct:De(ie,"Invalid character found")}const Pe=new Uint8Array(Re.length);for(let ct=0;ct<Re.length;ct++)Pe[ct]=Re.charCodeAt(ct);return Pe}class Hn{constructor(se){this.base64=!1,this.contentType=null;const Re=se.match(/^data:([^,]+)?,/);if(null===Re)throw De(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Pe=Re[1]||null;null!=Pe&&(this.base64=function oi(ie,se){return ie.length>=se.length&&ie.substring(ie.length-se.length)===se}(Pe,";base64"),this.contentType=this.base64?Pe.substring(0,Pe.length-7):Pe),this.rest=se.substring(se.indexOf(",")+1)}}class et{constructor(se,Re){let Pe=0,ct="";Cn(se)?(this.data_=se,Pe=se.size,ct=se.type):se instanceof ArrayBuffer?(Re?this.data_=new Uint8Array(se):(this.data_=new Uint8Array(se.byteLength),this.data_.set(new Uint8Array(se))),Pe=this.data_.length):se instanceof Uint8Array&&(Re?this.data_=se:(this.data_=new Uint8Array(se.length),this.data_.set(se)),Pe=se.length),this.size_=Pe,this.type_=ct}size(){return this.size_}type(){return this.type_}slice(se,Re){if(Cn(this.data_)){const ct=function Mi(ie,se,Re){return ie.webkitSlice?ie.webkitSlice(se,Re):ie.mozSlice?ie.mozSlice(se,Re):ie.slice?ie.slice(se,Re):null}(this.data_,se,Re);return null===ct?null:new et(ct)}{const Pe=new Uint8Array(this.data_.buffer,se,Re-se);return new et(Pe,!0)}}static getBlob(...se){if(Er()){const Re=se.map(Pe=>Pe instanceof et?Pe.data_:Pe);return new et(ar.apply(null,Re))}{const Re=se.map(q=>bt(q)?function Oi(ie,se){switch(ie){case Jr.RAW:return new Wr(as(se));case Jr.BASE64:case Jr.BASE64URL:return new Wr(so(ie,se));case Jr.DATA_URL:return new Wr(function ls(ie){const se=new Hn(ie);return se.base64?so(Jr.BASE64,se.rest):function Pr(ie){let se;try{se=decodeURIComponent(ie)}catch{throw De(Jr.DATA_URL,"Malformed data URL.")}return as(se)}(se.rest)}(se),function ns(ie){return new Hn(ie).contentType}(se))}throw wn()}(Jr.RAW,q).data:q.data_);let Pe=0;Re.forEach(q=>{Pe+=q.byteLength});const ct=new Uint8Array(Pe);let Gt=0;return Re.forEach(q=>{for(let Y=0;Y<q.length;Y++)ct[Gt++]=q[Y]}),new et(ct,!0)}}uploadData(){return this.data_}}function Xr(ie){let se;try{se=JSON.parse(ie)}catch{return null}return function pt(ie){return"object"==typeof ie&&!Array.isArray(ie)}(se)?se:null}function ei(ie){const se=ie.lastIndexOf("/",ie.length-2);return-1===se?ie:ie.slice(se+1)}function lr(ie,se){return se}class Br{constructor(se,Re,Pe,ct){this.server=se,this.local=Re||se,this.writable=!!Pe,this.xform=ct||lr}}let Gi=null;function Ni(){if(Gi)return Gi;const ie=[];ie.push(new Br("bucket")),ie.push(new Br("generation")),ie.push(new Br("metageneration")),ie.push(new Br("name","fullPath",!0));const Re=new Br("name");Re.xform=function se(Gt,q){return function zr(ie){return!bt(ie)||ie.length<2?ie:ei(ie)}(q)},ie.push(Re);const ct=new Br("size");return ct.xform=function Pe(Gt,q){return void 0!==q?Number(q):q},ie.push(ct),ie.push(new Br("timeCreated")),ie.push(new Br("updated")),ie.push(new Br("md5Hash",null,!0)),ie.push(new Br("cacheControl",null,!0)),ie.push(new Br("contentDisposition",null,!0)),ie.push(new Br("contentEncoding",null,!0)),ie.push(new Br("contentLanguage",null,!0)),ie.push(new Br("contentType",null,!0)),ie.push(new Br("metadata","customMetadata",!0)),Gi=ie,Gi}function ae(ie,se,Re){const Pe=Xr(se);return null===Pe?null:function ce(ie,se,Re){const Pe={type:"file"},ct=Re.length;for(let Gt=0;Gt<ct;Gt++){const q=Re[Gt];Pe[q.local]=q.xform(Pe,se[q.server])}return function ye(ie,se){Object.defineProperty(ie,"ref",{get:function Re(){const Gt=new It(ie.bucket,ie.fullPath);return se._makeStorageReference(Gt)}})}(Pe,ie),Pe}(ie,Pe,Re)}class sr{constructor(se,Re,Pe,ct){this.url=se,this.method=Re,this.handler=Pe,this.timeout=ct,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gr(ie){if(!ie)throw wn()}function Ge(ie){return function se(Re,Pe){let ct;return ct=401===Re.getStatus()?Re.getErrorText().includes("Firebase App Check token is invalid")?function ut(){return new Vt(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function We(){return new Vt(Ut.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Re.getStatus()?function nn(ie){return new Vt(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+ie+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ie.bucket):403===Re.getStatus()?function Ct(ie){return new Vt(Ut.UNAUTHORIZED,"User does not have permission to access '"+ie+"'.")}(ie.path):Pe,ct.status=Re.getStatus(),ct.serverResponse=Pe.serverResponse,ct}}function _n(ie,se,Re,Pe,ct){const Gt=se.bucketOnlyServerUrl(),q={"X-Goog-Upload-Protocol":"multipart"},z=function Y(){let ni="";for(let Hi=0;Hi<2;Hi++)ni+=Math.random().toString().slice(2);return ni}();q["Content-Type"]="multipart/related; boundary="+z;const ue=function Pt(ie,se,Re){const Pe=Object.assign({},Re);return Pe.fullPath=ie.path,Pe.size=se.size(),Pe.contentType||(Pe.contentType=function dt(ie,se){return ie&&ie.contentType||se&&se.type()||"application/octet-stream"}(null,se)),Pe}(se,Pe,ct),Oe=function Se(ie,se){const Re={},Pe=se.length;for(let ct=0;ct<Pe;ct++){const Gt=se[ct];Gt.writable&&(Re[Gt.server]=ie[Gt.local])}return JSON.stringify(Re)}(ue,Re),Qr=et.getBlob("--"+z+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Oe+"\r\n--"+z+"\r\nContent-Type: "+ue.contentType+"\r\n\r\n",Pe,"\r\n--"+z+"--");if(null===Qr)throw function Qn(){return new Vt(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const bi={name:ue.fullPath},Bi=pn(Gt,ie.host,ie._protocol),Rs=ie.maxUploadRetryTime,Ki=new sr(Bi,"POST",function Mr(ie,se){return function Re(Pe,ct){const Gt=ae(ie,ct,se);return gr(null!==Gt),Gt}}(ie,Re),Rs);return Ki.urlParams=bi,Ki.headers=q,Ki.body=Qr.uploadData(),Ki.errorHandler=Ge(se),Ki}let Ir=null;class Mn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$n.NO_ERROR,this.sendPromise_=new Promise(se=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$n.ABORT,se()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$n.NETWORK_ERROR,se()}),this.xhr_.addEventListener("load",()=>{se()})})}send(se,Re,Pe,ct){if(this.sent_)throw ft("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Re,se,!0),void 0!==ct)for(const Gt in ct)ct.hasOwnProperty(Gt)&&this.xhr_.setRequestHeader(Gt,ct[Gt].toString());return void 0!==Pe?this.xhr_.send(Pe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ft("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ft("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ft("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ft("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(se){return this.xhr_.getResponseHeader(se)}addUploadProgressListener(se){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",se)}removeUploadProgressListener(se){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",se)}}class rn extends Mn{initXhr(){this.xhr_.responseType="text"}}function Un(){return Ir?Ir():new rn}class Ji{constructor(se,Re){this._service=se,this._location=Re instanceof It?Re:It.makeFromUrl(Re,se.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(se,Re){return new Ji(se,Re)}get root(){const se=new It(this._location.bucket,"");return this._newRef(this._service,se)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ei(this._location.path)}get storage(){return this._service}get parent(){const se=function Bn(ie){if(0===ie.length)return null;const se=ie.lastIndexOf("/");return-1===se?"":ie.slice(0,se)}(this._location.path);if(null===se)return null;const Re=new It(this._location.bucket,se);return new Ji(this._service,Re)}_throwIfRoot(se){if(""===this._location.path)throw function Ye(ie){return new Vt(Ut.INVALID_ROOT_OPERATION,"The operation '"+ie+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(se)}}function zs(ie){ie._throwIfRoot("getDownloadURL");const se=function br(ie,se,Re){const ct=pn(se.fullServerUrl(),ie.host,ie._protocol),q=ie.maxOperationRetryTime,Y=new sr(ct,"GET",function ze(ie,se){return function Re(Pe,ct){const Gt=ae(ie,ct,se);return gr(null!==Gt),function Ee(ie,se,Re,Pe){const ct=Xr(se);if(null===ct||!bt(ct.downloadTokens))return null;const Gt=ct.downloadTokens;if(0===Gt.length)return null;const q=encodeURIComponent;return Gt.split(",").map(ue=>{const yn=ie.fullPath;return pn("/b/"+q(ie.bucket)+"/o/"+q(yn),Re,Pe)+qn({alt:"media",token:ue})})[0]}(Gt,ct,ie.host,ie._protocol)}}(ie,Re),q);return Y.errorHandler=function Bt(ie){const se=Ge(ie);return function Re(Pe,ct){let Gt=se(Pe,ct);return 404===Pe.getStatus()&&(Gt=function er(ie){return new Vt(Ut.OBJECT_NOT_FOUND,"Object '"+ie+"' does not exist.")}(ie.path)),Gt.serverResponse=ct.serverResponse,Gt}}(se),Y}(ie.storage,ie._location,Ni());return ie.storage.makeRequestWithTokens(se,Un).then(Re=>{if(null===Re)throw function tt(){return new Vt(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Re})}function $s(ie,se){if(ie instanceof vo){const Re=ie;if(null==Re._bucket)throw function ln(){return new Vt(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ke+"' property when initializing the app?")}();const Pe=new Ji(Re,Re._bucket);return null!=se?$s(Pe,se):Pe}return void 0!==se?function Xs(ie,se){const Re=function Zr(ie,se){const Re=se.split("/").filter(Pe=>Pe.length>0).join("/");return 0===ie.length?Re:ie+"/"+Re}(ie._location.path,se),Pe=new It(ie._location.bucket,Re);return new Ji(ie.storage,Pe)}(ie,se):ie}function Fs(ie,se){const Re=se?.[ke];return null==Re?null:It.makeFromBucketSpec(Re,ie)}class vo{constructor(se,Re,Pe,ct,Gt){this.app=se,this._authProvider=Re,this._appCheckProvider=Pe,this._url=ct,this._firebaseVersion=Gt,this._bucket=null,this._host=Ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ct?It.makeFromBucketSpec(ct,this._host):Fs(this._host,this.app.options)}get host(){return this._host}set host(se){this._host=se,this._bucket=null!=this._url?It.makeFromBucketSpec(this._url,se):Fs(se,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(se){Zt("time",0,Number.POSITIVE_INFINITY,se),this._maxUploadRetryTime=se}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(se){Zt("time",0,Number.POSITIVE_INFINITY,se),this._maxOperationRetryTime=se}_getAuthToken(){var se=this;return(0,Ze.Z)(function*(){if(se._overrideAuthToken)return se._overrideAuthToken;const Re=se._authProvider.getImmediate({optional:!0});if(Re){const Pe=yield Re.getToken();if(null!==Pe)return Pe.accessToken}return null})()}_getAppCheckToken(){var se=this;return(0,Ze.Z)(function*(){const Re=se._appCheckProvider.getImmediate({optional:!0});return Re?(yield Re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(se=>se.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(se){return new Ji(this,se)}_makeRequest(se,Re,Pe,ct,Gt=!0){if(this._deleted)return new $e(rt());{const q=function fr(ie,se,Re,Pe,ct,Gt,q=!0){const Y=qn(ie.urlParams),z=ie.url+Y,ue=Object.assign({},ie.headers);return function Fr(ie,se){se&&(ie["X-Firebase-GMPID"]=se)}(ue,se),function on(ie,se){null!==se&&se.length>0&&(ie.Authorization="Firebase "+se)}(ue,Re),function tr(ie,se){ie["X-Firebase-Storage-Version"]="webjs/"+(se??"AppManager")}(ue,Gt),function jt(ie,se){null!==se&&(ie["X-Firebase-AppCheck"]=se)}(ue,Pe),new en(z,ie.method,ue,ie.body,ie.successCodes,ie.additionalRetryCodes,ie.handler,ie.errorHandler,ie.timeout,ie.progressCallback,ct,q)}(se,this._appId,Pe,ct,Re,this._firebaseVersion,Gt);return this._requests.add(q),q.getPromise().then(()=>this._requests.delete(q),()=>this._requests.delete(q)),q}}makeRequestWithTokens(se,Re){var Pe=this;return(0,Ze.Z)(function*(){const[ct,Gt]=yield Promise.all([Pe._getAuthToken(),Pe._getAppCheckToken()]);return Pe._makeRequest(se,Re,ct,Gt).getPromise()})()}}const Ls="@firebase/storage",eo="storage";function Pi(ie,se,Re){return function cs(ie,se,Re){ie._throwIfRoot("uploadBytes");const Pe=_n(ie.storage,ie._location,Ni(),new et(se,!0),Re);return ie.storage.makeRequestWithTokens(Pe,Un).then(ct=>({metadata:ct,ref:ie}))}(ie=(0,ht.m9)(ie),se,Re)}function da(ie){return zs(ie=(0,ht.m9)(ie))}function Ui(ie,se){return function xs(ie,se){if(se&&function xi(ie){return/^[A-Za-z]+:\/\//.test(ie)}(se)){if(ie instanceof vo)return function ho(ie,se){return new Ji(ie,se)}(ie,se);throw Pn("To use ref(service, url), the first argument must be a Storage instance.")}return $s(ie,se)}(ie=(0,ht.m9)(ie),se)}function nr(ie=(0,Le.Mq)(),se){ie=(0,ht.m9)(ie);const Pe=(0,Le.qX)(ie,eo).getImmediate({identifier:se}),ct=(0,ht.P0)("storage");return ct&&function vi(ie,se,Re,Pe={}){!function Li(ie,se,Re,Pe={}){ie.host=`${se}:${Re}`,ie._protocol="http";const{mockUserToken:ct}=Pe;ct&&(ie._overrideAuthToken="string"==typeof ct?ct:(0,ht.Sg)(ct,ie.app.options.projectId))}(ie,se,Re,Pe)}(Pe,...ct),Pe}function Kr(ie,{instanceIdentifier:se}){const Re=ie.getProvider("app").getImmediate(),Pe=ie.getProvider("auth-internal"),ct=ie.getProvider("app-check-internal");return new vo(Re,Pe,ct,se,Le.Jn)}!function qi(){(0,Le.Xd)(new vt.wA(eo,Kr,"PUBLIC").setMultipleInstances(!0)),(0,Le.KN)(Ls,"0.12.6",""),(0,Le.KN)(Ls,"0.12.6","esm2017")}();class ai{constructor(se){return se}}const Is="storage",Hr=new _e.OlP("angularfire2.storage-instances");function Gs(ie){return(se,Re)=>{const Pe=se.runOutsideAngular(()=>ie(Re));return new ai(Pe)}}const Vi={provide:class Wi{constructor(){return(0,b.vb)(Is)}},deps:[[new _e.FiY,Hr]]},xo={provide:ai,useFactory:function to(ie,se){const Re=(0,b.JM)(Is,ie,se);return Re&&new ai(Re)},deps:[[new _e.FiY,Hr],Fe.Ot]};let no=(()=>{class ie{constructor(){(0,A.KN)("angularfire",b.q4.full,"gcs")}static \u0275fac=function(Pe){return new(Pe||ie)};static \u0275mod=_e.oAB({type:ie});static \u0275inj=_e.cJS({providers:[xo,Vi]})}return ie})();function Us(ie,...se){return{ngModule:no,providers:[{provide:Hr,useFactory:Gs(ie),multi:!0,deps:[_e.R0b,_e.zs3,b.HU,Fe.z6,[new _e.FiY,O.dh],[new _e.FiY,b.Rf],...se]}]}}const Gr=(0,b.u3)(da,!0),Ta=(0,b.u3)(nr,!0),is=(0,b.u3)(Ui,!0),Zi=(0,b.u3)(Pi,!0)},4810:(Xn,Lt,ne)=>{ne.d(Lt,{q4:()=>We,HU:()=>kn,Rf:()=>Yt,vb:()=>Ot,JM:()=>Ct,u3:()=>$e});var b=ne(4946),_e=ne(3182),Fe=ne(7394);class O extends Fe.w0{constructor(ve,pe){super()}schedule(ve,pe=0){return this}}const A={setInterval(Ce,ve,...pe){const{delegate:He}=A;return He?.setInterval?He.setInterval(Ce,ve,...pe):setInterval(Ce,ve,...pe)},clearInterval(Ce){const{delegate:ve}=A;return(ve?.clearInterval||clearInterval)(Ce)},delegate:void 0};var Ze=ne(9039);class Le extends O{constructor(ve,pe){super(ve,pe),this.scheduler=ve,this.work=pe,this.pending=!1}schedule(ve,pe=0){var He;if(this.closed)return this;this.state=ve;const pt=this.id,bt=this.scheduler;return null!=pt&&(this.id=this.recycleAsyncId(bt,pt,pe)),this.pending=!0,this.delay=pe,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(bt,this.id,pe),this}requestAsyncId(ve,pe,He=0){return A.setInterval(ve.flush.bind(ve,this),He)}recycleAsyncId(ve,pe,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return pe;null!=pe&&A.clearInterval(pe)}execute(ve,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(ve,pe);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,pe){let pt,He=!1;try{this.work(ve)}catch(bt){He=!0,pt=bt||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),pt}unsubscribe(){if(!this.closed){const{id:ve,scheduler:pe}=this,{actions:He}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ze.P)(He,this),null!=ve&&(this.id=this.recycleAsyncId(pe,ve,null)),this.delay=null,super.unsubscribe()}}}const vt={now:()=>(vt.delegate||Date).now(),delegate:void 0};class Ve{constructor(ve,pe=Ve.now){this.schedulerActionCtor=ve,this.now=pe}schedule(ve,pe=0,He){return new this.schedulerActionCtor(this,ve).schedule(He,pe)}}Ve.now=vt.now;class ke extends Ve{constructor(ve,pe=Ve.now){super(ve,pe),this.actions=[],this._active=!1}flush(ve){const{actions:pe}=this;if(this._active)return void pe.push(ve);let He;this._active=!0;do{if(He=ve.execute(ve.state,ve.delay))break}while(ve=pe.shift());if(this._active=!1,He){for(;ve=pe.shift();)ve.unsubscribe();throw He}}}const Qt=new class _t extends ke{}(class ht extends Le{constructor(ve,pe){super(ve,pe),this.scheduler=ve,this.work=pe}schedule(ve,pe=0){return pe>0?super.schedule(ve,pe):(this.delay=pe,this.state=ve,this.scheduler.flush(this),this)}execute(ve,pe){return pe>0||this.closed?super.execute(ve,pe):this._execute(ve,pe)}requestAsyncId(ve,pe,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(ve,pe,He):(ve.flush(this),0)}}),Vt=new ke(Le);var Tn=ne(5592),wn=ne(9397),er=ne(5137),nn=ne(3093);const We=new b.GfV("ANGULARFIRE2_VERSION");function Ct(Ce,ve,pe){if(ve){if(1===ve.length)return ve[0];const bt=ve.filter(Cn=>Cn.app===pe);if(1===bt.length)return bt[0]}return pe.container.getProvider(Ce).getImmediate({optional:!0})}const Ot=(Ce,ve)=>{const pe=ve?[ve]:(0,_e.C6)(),He=[];return pe.forEach(pt=>{pt.container.getProvider(Ce).instances.forEach(Cn=>{He.includes(Cn)||He.push(Cn)})}),He};class Yt{constructor(){return Ot(zt)}}const zt="app-check";function Ke(){}class ln{zone;delegate;constructor(ve,pe=Qt){this.zone=ve,this.delegate=pe}now(){return this.delegate.now()}schedule(ve,pe,He){const pt=this.zone;return this.delegate.schedule(function(Cn){pt.runGuarded(()=>{ve.apply(this,[Cn])})},pe,He)}}class Qn{zone;task=null;constructor(ve){this.zone=ve}call(ve,pe){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke)),pe.pipe((0,wn.b)({next:He,complete:He,error:He})).subscribe(ve).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kn=(()=>{class Ce{ngZone;outsideAngular;insideAngular;constructor(pe){this.ngZone=pe,this.outsideAngular=pe.runOutsideAngular(()=>new ln(Zone.current)),this.insideAngular=pe.run(()=>new ln(Zone.current,Vt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(He){return new(He||Ce)(b.LFG(b.R0b))};static \u0275prov=b.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();function tt(){const Ce=globalThis.\u0275AngularFireScheduler;if(!Ce)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ce}function Pn(Ce){return tt().ngZone.run(()=>Ce())}function De(Ce){return function ft(Ce){return function(pe){return(pe=pe.lift(new Qn(Ce.ngZone))).pipe((0,er.R)(Ce.outsideAngular),(0,nn.Q)(Ce.insideAngular))}}(tt())(Ce)}const It=(Ce,ve)=>function(){const He=arguments;return ve&&setTimeout(()=>{"scheduled"===ve.state&&ve.invoke()},10),Pn(()=>Ce.apply(void 0,He))},$e=(Ce,ve)=>function(){let pe;const He=arguments;for(let bt=0;bt<arguments.length;bt++)"function"==typeof He[bt]&&(ve&&(pe||=Pn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke))),He[bt]=It(He[bt],pe));const pt=function je(Ce){return tt().ngZone.runOutsideAngular(()=>Ce())}(()=>Ce.apply(this,He));if(!ve){if(pt instanceof Tn.y){const bt=tt();return pt.pipe((0,er.R)(bt.outsideAngular),(0,nn.Q)(bt.insideAngular))}return Pn(()=>pt)}return pt instanceof Tn.y?pt.pipe(De):pt instanceof Promise?Pn(()=>new Promise((bt,Cn)=>pt.then(Er=>Pn(()=>bt(Er)),Er=>Pn(()=>Cn(Er))))):"function"==typeof pt&&pe?function(){return setTimeout(()=>{pe&&"scheduled"===pe.state&&pe.invoke()},10),pt.apply(this,arguments)}:Pn(()=>pt)}},95:(Xn,Lt,ne)=>{ne.d(Lt,{Wl:()=>Tn,Fj:()=>We,CE:()=>Ts,qu:()=>ie,u:()=>_s,sg:()=>Nr,x0:()=>yi,u5:()=>ct,JJ:()=>vr,JL:()=>ar,F:()=>Wn,On:()=>Js,YN:()=>nr,wV:()=>yo,eT:()=>Li,UX:()=>Gt,EJ:()=>Ln,kI:()=>Ke,_Y:()=>_o,Kr:()=>ai});var b=ne(4946),_e=ne(6814),Fe=ne(2459),O=ne(5592),A=ne(7453),Ze=ne(4829),Le=ne(4564),ht=ne(8251),vt=ne(7400),Ve=ne(2714),_t=ne(7398);let Qt=(()=>{class q{constructor(z,ue){this._renderer=z,this._elementRef=ue,this.onChange=Oe=>{},this.onTouched=()=>{}}setProperty(z,ue){this._renderer.setProperty(this._elementRef.nativeElement,z,ue)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(b.Qsj),b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:q})}return q})(),At=(()=>{class q extends Qt{static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,features:[b.qOj]})}return q})();const Vt=new b.OlP("NgValueAccessor"),Ut={provide:Vt,useExisting:(0,b.Gpc)(()=>Tn),multi:!0};let Tn=(()=>{class q extends At{writeValue(z){this.setProperty("checked",z)}static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Zn){return Oe.onChange(Zn.target.checked)})("blur",function(){return Oe.onTouched()})},features:[b._Bn([Ut]),b.qOj]})}return q})();const wn={provide:Vt,useExisting:(0,b.Gpc)(()=>We),multi:!0},nn=new b.OlP("CompositionEventMode");let We=(()=>{class q extends Qt{constructor(z,ue,Oe){super(z,ue),this._compositionMode=Oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function er(){const q=(0,_e.q)()?(0,_e.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(z){this.setProperty("value",z??"")}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(nn,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("input",function(Zn){return Oe._handleInput(Zn.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(Zn){return Oe._compositionEnd(Zn.target.value)})},features:[b._Bn([wn]),b.qOj]})}return q})();function ut(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Ct(q){return null!=q&&"number"==typeof q.length}const Ot=new b.OlP("NgValidators"),Yt=new b.OlP("NgAsyncValidators"),zt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(Y){return function ln(q){return Y=>{if(ut(Y.value)||ut(q))return null;const z=parseFloat(Y.value);return!isNaN(z)&&z<q?{min:{min:q,actual:Y.value}}:null}}(Y)}static max(Y){return function Qn(q){return Y=>{if(ut(Y.value)||ut(q))return null;const z=parseFloat(Y.value);return!isNaN(z)&&z>q?{max:{max:q,actual:Y.value}}:null}}(Y)}static required(Y){return function kn(q){return ut(q.value)?{required:!0}:null}(Y)}static requiredTrue(Y){return function tt(q){return!0===q.value?null:{required:!0}}(Y)}static email(Y){return function je(q){return ut(q.value)||zt.test(q.value)?null:{email:!0}}(Y)}static minLength(Y){return function Pn(q){return Y=>ut(Y.value)||!Ct(Y.value)?null:Y.value.length<q?{minlength:{requiredLength:q,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function rt(q){return Y=>Ct(Y.value)&&Y.value.length>q?{maxlength:{requiredLength:q,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function Ye(q){if(!q)return De;let Y,z;return"string"==typeof q?(z="","^"!==q.charAt(0)&&(z+="^"),z+=q,"$"!==q.charAt(q.length-1)&&(z+="$"),Y=new RegExp(z)):(z=q.toString(),Y=q),ue=>{if(ut(ue.value))return null;const Oe=ue.value;return Y.test(Oe)?null:{pattern:{requiredPattern:z,actualValue:Oe}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return He(Y)}static composeAsync(Y){return bt(Y)}}function De(q){return null}function ft(q){return null!=q}function It(q){return(0,b.QGY)(q)?(0,Fe.D)(q):q}function $e(q){let Y={};return q.forEach(z=>{Y=null!=z?{...Y,...z}:Y}),0===Object.keys(Y).length?null:Y}function Ce(q,Y){return Y.map(z=>z(q))}function pe(q){return q.map(Y=>function ve(q){return!q.validate}(Y)?Y:z=>Y.validate(z))}function He(q){if(!q)return null;const Y=q.filter(ft);return 0==Y.length?null:function(z){return $e(Ce(z,Y))}}function pt(q){return null!=q?He(pe(q)):null}function bt(q){if(!q)return null;const Y=q.filter(ft);return 0==Y.length?null:function(z){return function ke(...q){const Y=(0,Le.jO)(q),{args:z,keys:ue}=(0,A.D)(q),Oe=new O.y(yn=>{const{length:Zn}=z;if(!Zn)return void yn.complete();const Qr=new Array(Zn);let bi=Zn,Bi=Zn;for(let ji=0;ji<Zn;ji++){let Rs=!1;(0,Ze.Xf)(z[ji]).subscribe((0,ht.x)(yn,Ki=>{Rs||(Rs=!0,Bi--),Qr[ji]=Ki},()=>bi--,void 0,()=>{(!bi||!Rs)&&(Bi||yn.next(ue?(0,Ve.n)(ue,Qr):Qr),yn.complete())}))}});return Y?Oe.pipe((0,vt.Z)(Y)):Oe}(Ce(z,Y).map(It)).pipe((0,_t.U)($e))}}function Cn(q){return null!=q?bt(pe(q)):null}function Er(q,Y){return null===q?[Y]:Array.isArray(q)?[...q,Y]:[q,Y]}function Zt(q){return q._rawValidators}function pn(q){return q._rawAsyncValidators}function qn(q){return q?Array.isArray(q)?q:[q]:[]}function $n(q,Y){return Array.isArray(q)?q.includes(Y):q===Y}function Rn(q,Y){const z=qn(Y);return qn(q).forEach(Oe=>{$n(z,Oe)||z.push(Oe)}),z}function en(q,Y){return qn(Y).filter(z=>!$n(q,z))}class An{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=pt(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y=void 0){this.control&&this.control.reset(Y)}hasError(Y,z){return!!this.control&&this.control.hasError(Y,z)}getError(Y,z){return this.control?this.control.getError(Y,z):null}}class on extends An{get formDirective(){return null}get path(){return null}}class tr extends An{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fr{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vr=(()=>{class q extends Fr{constructor(z){super(z)}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(tr,2))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,Oe){2&ue&&b.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[b.qOj]})}return q})(),ar=(()=>{class q extends Fr{constructor(z){super(z)}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(on,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,Oe){2&ue&&b.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[b.qOj]})}return q})();const lr="VALID",Br="INVALID",Gi="PENDING",zr="DISABLED";function Ni(q){return(Ee(q)?q.validators:q)||null}function ce(q,Y){return(Ee(Y)?Y.asyncValidators:q)||null}function Ee(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Se(q,Y,z){const ue=q.controls;if(!(Y?Object.keys(ue):ue).length)throw new b.vHH(1e3,"");if(!ue[z])throw new b.vHH(1001,"")}function Nt(q,Y,z){q._forEachChild((ue,Oe)=>{if(void 0===z[Oe])throw new b.vHH(1002,"")})}class tn{constructor(Y,z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Y),this._assignAsyncValidators(z)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===lr}get invalid(){return this.status===Br}get pending(){return this.status==Gi}get disabled(){return this.status===zr}get enabled(){return this.status!==zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._assignValidators(Y)}setAsyncValidators(Y){this._assignAsyncValidators(Y)}addValidators(Y){this.setValidators(Rn(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Rn(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(en(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(en(Y,this._rawAsyncValidators))}hasValidator(Y){return $n(this._rawValidators,Y)}hasAsyncValidator(Y){return $n(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(z=>{z.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(z=>{z.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=Gi,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const z=this._parentMarkedDirty(Y.onlySelf);this.status=zr,this.errors=null,this._forEachChild(ue=>{ue.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:z}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(Y={}){const z=this._parentMarkedDirty(Y.onlySelf);this.status=lr,this._forEachChild(ue=>{ue.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:z}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lr||this.status===Gi)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(z=>z._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zr:lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=Gi,this._hasOwnPendingAsyncValidator=!0;const z=It(this.asyncValidator(this));this._asyncValidationSubscription=z.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,z={}){this.errors=Y,this._updateControlsErrors(!1!==z.emitEvent)}get(Y){let z=Y;return null==z||(Array.isArray(z)||(z=z.split(".")),0===z.length)?null:z.reduce((ue,Oe)=>ue&&ue._find(Oe),this)}getError(Y,z){const ue=z?this.get(z):this;return ue&&ue.errors?ue.errors[Y]:null}hasError(Y,z){return!!this.getError(Y,z)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?zr:this.errors?Br:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gi)?Gi:this._anyControlsHaveStatus(Br)?Br:lr}_anyControlsHaveStatus(Y){return this._anyControls(z=>z.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){Ee(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}_assignValidators(Y){this._rawValidators=Array.isArray(Y)?Y.slice():Y,this._composedValidatorFn=function ye(q){return Array.isArray(q)?pt(q):q||null}(this._rawValidators)}_assignAsyncValidators(Y){this._rawAsyncValidators=Array.isArray(Y)?Y.slice():Y,this._composedAsyncValidatorFn=function ae(q){return Array.isArray(q)?Cn(q):q||null}(this._rawAsyncValidators)}}class Dn extends tn{constructor(Y,z,ue){super(Ni(z),ce(ue,z)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,z){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=z,z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange),z)}addControl(Y,z,ue={}){this.registerControl(Y,z),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(Y,z={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}setControl(Y,z,ue={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],z&&this.registerControl(Y,z),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,z={}){Nt(this,0,Y),Object.keys(Y).forEach(ue=>{Se(this,!0,ue),this.controls[ue].setValue(Y[ue],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(Y,z={}){null!=Y&&(Object.keys(Y).forEach(ue=>{const Oe=this.controls[ue];Oe&&Oe.patchValue(Y[ue],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(Y={},z={}){this._forEachChild((ue,Oe)=>{ue.reset(Y?Y[Oe]:null,{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this._reduceChildren({},(Y,z,ue)=>(Y[ue]=z.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(z,ue)=>!!ue._syncPendingControls()||z);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(z=>{const ue=this.controls[z];ue&&Y(ue,z)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[z,ue]of Object.entries(this.controls))if(this.contains(z)&&Y(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(z,ue,Oe)=>((ue.enabled||this.disabled)&&(z[Oe]=ue.value),z))}_reduceChildren(Y,z){let ue=Y;return this._forEachChild((Oe,yn)=>{ue=z(ue,Oe,yn)}),ue}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class gr extends Dn{}const lt=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ze}),ze="always";function Ge(q,Y){return[...Y.path,q]}function Bt(q,Y,z=ze){br(q,Y),Y.valueAccessor.writeValue(q.value),(q.disabled||"always"===z)&&Y.valueAccessor.setDisabledState?.(q.disabled),function gt(q,Y){Y.valueAccessor.registerOnChange(z=>{q._pendingValue=z,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Pt(q,Y)})}(q,Y),function _n(q,Y){const z=(ue,Oe)=>{Y.valueAccessor.writeValue(ue),Oe&&Y.viewToModelUpdate(ue)};q.registerOnChange(z),Y._registerOnDestroy(()=>{q._unregisterOnChange(z)})}(q,Y),function dt(q,Y){Y.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Pt(q,Y),"submit"!==q.updateOn&&q.markAsTouched()})}(q,Y),function fn(q,Y){if(Y.valueAccessor.setDisabledState){const z=ue=>{Y.valueAccessor.setDisabledState(ue)};q.registerOnDisabledChange(z),Y._registerOnDestroy(()=>{q._unregisterOnDisabledChange(z)})}}(q,Y)}function cn(q,Y,z=!0){const ue=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(ue),Y.valueAccessor.registerOnTouched(ue)),On(q,Y),q&&(Y._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function gn(q,Y){q.forEach(z=>{z.registerOnValidatorChange&&z.registerOnValidatorChange(Y)})}function br(q,Y){const z=Zt(q);null!==Y.validator?q.setValidators(Er(z,Y.validator)):"function"==typeof z&&q.setValidators([z]);const ue=pn(q);null!==Y.asyncValidator?q.setAsyncValidators(Er(ue,Y.asyncValidator)):"function"==typeof ue&&q.setAsyncValidators([ue]);const Oe=()=>q.updateValueAndValidity();gn(Y._rawValidators,Oe),gn(Y._rawAsyncValidators,Oe)}function On(q,Y){let z=!1;if(null!==q){if(null!==Y.validator){const Oe=Zt(q);if(Array.isArray(Oe)&&Oe.length>0){const yn=Oe.filter(Zn=>Zn!==Y.validator);yn.length!==Oe.length&&(z=!0,q.setValidators(yn))}}if(null!==Y.asyncValidator){const Oe=pn(q);if(Array.isArray(Oe)&&Oe.length>0){const yn=Oe.filter(Zn=>Zn!==Y.asyncValidator);yn.length!==Oe.length&&(z=!0,q.setAsyncValidators(yn))}}}const ue=()=>{};return gn(Y._rawValidators,ue),gn(Y._rawAsyncValidators,ue),z}function Pt(q,Y){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function ur(q,Y){br(q,Y)}function si(q,Y){if(!q.hasOwnProperty("model"))return!1;const z=q.model;return!!z.isFirstChange()||!Object.is(Y,z.currentValue)}function So(q,Y){q._syncPendingControls(),Y.forEach(z=>{const ue=z.control;"submit"===ue.updateOn&&ue._pendingChange&&(z.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function gs(q,Y){if(!Y)return null;let z,ue,Oe;return Array.isArray(Y),Y.forEach(yn=>{yn.constructor===We?z=yn:function di(q){return Object.getPrototypeOf(q.constructor)===At}(yn)?ue=yn:Oe=yn}),Oe||ue||z||null}const rn={provide:on,useExisting:(0,b.Gpc)(()=>Wn)},Un=(()=>Promise.resolve())();let Wn=(()=>{class q extends on{constructor(z,ue,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new b.vpe,this.form=new Dn({},pt(z),Cn(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(z){Un.then(()=>{const ue=this._findContainer(z.path);z.control=ue.registerControl(z.name,z.control),Bt(z.control,z,this.callSetDisabledState),z.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(z)})}getControl(z){return this.form.get(z.path)}removeControl(z){Un.then(()=>{const ue=this._findContainer(z.path);ue&&ue.removeControl(z.name),this._directives.delete(z)})}addFormGroup(z){Un.then(()=>{const ue=this._findContainer(z.path),Oe=new Dn({});ur(Oe,z),ue.registerControl(z.name,Oe),Oe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(z){Un.then(()=>{const ue=this._findContainer(z.path);ue&&ue.removeControl(z.name)})}getFormGroup(z){return this.form.get(z.path)}updateModel(z,ue){Un.then(()=>{this.form.get(z.path).setValue(ue)})}setValue(z){this.control.setValue(z)}onSubmit(z){return this.submitted=!0,So(this.form,this._directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z=void 0){this.form.reset(z),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(z){return z.pop(),z.length?this.form.get(z):this.form}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(Ot,10),b.Y36(Yt,10),b.Y36(lt,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("submit",function(Zn){return Oe.onSubmit(Zn)})("reset",function(){return Oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([rn]),b.qOj]})}return q})();function Or(q,Y){const z=q.indexOf(Y);z>-1&&q.splice(z,1)}function ki(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Vr=class extends tn{constructor(Y=null,z,ue){super(Ni(z),ce(ue,z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ee(z)&&(z.nonNullable||z.initialValueIsDefault)&&(this.defaultValue=ki(Y)?Y.value:Y)}setValue(Y,z={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==z.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==z.emitViewToModelChange)),this.updateValueAndValidity(z)}patchValue(Y,z={}){this.setValue(Y,z)}reset(Y=this.defaultValue,z={}){this._applyFormState(Y),this.markAsPristine(z),this.markAsUntouched(z),this.setValue(this.value,z),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){Or(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){Or(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){ki(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}};let Ys=(()=>{class q extends on{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ge(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,features:[b.qOj]})}return q})();const ti={provide:tr,useExisting:(0,b.Gpc)(()=>Js)},Ss=(()=>Promise.resolve())();let Js=(()=>{class q extends tr{constructor(z,ue,Oe,yn,Zn,Qr){super(),this._changeDetectorRef=Zn,this.callSetDisabledState=Qr,this.control=new Vr,this._registered=!1,this.name="",this.update=new b.vpe,this._parent=z,this._setValidators(ue),this._setAsyncValidators(Oe),this.valueAccessor=gs(0,yn)}ngOnChanges(z){if(this._checkForErrors(),!this._registered||"name"in z){if(this._registered&&(this._checkName(),this.formDirective)){const ue=z.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in z&&this._updateDisabled(z),si(z,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(z){Ss.then(()=>{this.control.setValue(z,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(z){const ue=z.isDisabled.currentValue,Oe=0!==ue&&(0,b.VuI)(ue);Ss.then(()=>{Oe&&!this.control.disabled?this.control.disable():!Oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(z){return this._parent?Ge(z,this._parent):[z]}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(on,9),b.Y36(Ot,10),b.Y36(Yt,10),b.Y36(Vt,10),b.Y36(b.sBO,8),b.Y36(lt,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([ti]),b.qOj,b.TTD]})}return q})(),_o=(()=>{class q{static#e=this.\u0275fac=function(ue){return new(ue||q)};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return q})();const zs={provide:Vt,useExisting:(0,b.Gpc)(()=>yo),multi:!0};let yo=(()=>{class q extends At{writeValue(z){this.setProperty("value",z??"")}registerOnChange(z){this.onChange=ue=>{z(""==ue?null:parseFloat(ue))}}static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("input",function(Zn){return Oe.onChange(Zn.target.value)})("blur",function(){return Oe.onTouched()})},features:[b._Bn([zs]),b.qOj]})}return q})(),ho=(()=>{class q{static#e=this.\u0275fac=function(ue){return new(ue||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({})}return q})();const Fs={provide:Vt,useExisting:(0,b.Gpc)(()=>Li),multi:!0};let Li=(()=>{class q extends At{writeValue(z){this.setProperty("value",parseFloat(z))}registerOnChange(z){this.onChange=ue=>{z(""==ue?null:parseFloat(ue))}}static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Zn){return Oe.onChange(Zn.target.value)})("input",function(Zn){return Oe.onChange(Zn.target.value)})("blur",function(){return Oe.onTouched()})},features:[b._Bn([Fs]),b.qOj]})}return q})();const vo=new b.OlP("NgModelWithFormControlWarning"),eo={provide:on,useExisting:(0,b.Gpc)(()=>Nr)};let Nr=(()=>{class q extends on{constructor(z,ue,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(z),this._setAsyncValidators(ue)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(On(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const ue=this.form.get(z.path);return Bt(ue,z,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),ue}getControl(z){return this.form.get(z.path)}removeControl(z){cn(z.control||null,z,!1),function Ir(q,Y){const z=q.indexOf(Y);z>-1&&q.splice(z,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,ue){this.form.get(z.path).setValue(ue)}onSubmit(z){return this.submitted=!0,So(this.form,this.directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z=void 0){this.form.reset(z),this.submitted=!1}_updateDomValue(){this.directives.forEach(z=>{const ue=z.control,Oe=this.form.get(z.path);ue!==Oe&&(cn(ue||null,z),(q=>q instanceof Vr)(Oe)&&(Bt(Oe,z,this.callSetDisabledState),z.control=Oe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const ue=this.form.get(z.path);ur(ue,z),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const ue=this.form.get(z.path);ue&&function dr(q,Y){return On(q,Y)}(ue,z)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){br(this.form,this),this._oldForm&&On(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(Ot,10),b.Y36(Yt,10),b.Y36(lt,8))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("submit",function(Zn){return Oe.onSubmit(Zn)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([eo]),b.qOj,b.TTD]})}return q})();const Pi={provide:on,useExisting:(0,b.Gpc)(()=>yi)};let yi=(()=>{class q extends Ys{constructor(z,ue,Oe){super(),this.name=null,this._parent=z,this._setValidators(ue),this._setAsyncValidators(Oe)}_checkParentType(){qo(this._parent)}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(on,13),b.Y36(Ot,10),b.Y36(Yt,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b._Bn([Pi]),b.qOj]})}return q})();const Vs={provide:on,useExisting:(0,b.Gpc)(()=>Ts)};let Ts=(()=>{class q extends on{constructor(z,ue,Oe){super(),this.name=null,this._parent=z,this._setValidators(ue),this._setAsyncValidators(Oe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ge(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qo(this._parent)}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(on,13),b.Y36(Ot,10),b.Y36(Yt,10))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b._Bn([Vs]),b.qOj]})}return q})();function qo(q){return!(q instanceof yi||q instanceof Nr||q instanceof Ts)}const ms={provide:tr,useExisting:(0,b.Gpc)(()=>_s)};let _s=(()=>{class q extends tr{set isDisabled(z){}static#e=this._ngModelWarningSentOnce=!1;constructor(z,ue,Oe,yn,Zn){super(),this._ngModelWarningConfig=Zn,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=z,this._setValidators(ue),this._setAsyncValidators(Oe),this.valueAccessor=gs(0,yn)}ngOnChanges(z){this._added||this._setUpControl(),si(z,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}get path(){return Ge(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(on,13),b.Y36(Ot,10),b.Y36(Yt,10),b.Y36(Vt,10),b.Y36(vo,8))};static#n=this.\u0275dir=b.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([ms]),b.qOj,b.TTD]})}return q})();const da={provide:Vt,useExisting:(0,b.Gpc)(()=>Ln),multi:!0};function Uo(q,Y){return null==q?`${Y}`:(Y&&"object"==typeof Y&&(Y="Object"),`${q}: ${Y}`.slice(0,50))}let Ln=(()=>{class q extends At{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(z){this._compareWith=z}writeValue(z){this.value=z;const Oe=Uo(this._getOptionId(z),z);this.setProperty("value",Oe)}registerOnChange(z){this.onChange=ue=>{this.value=this._getOptionValue(ue),z(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(z){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),z))return ue;return null}_getOptionValue(z){const ue=function Ui(q){return q.split(":")[0]}(z);return this._optionMap.has(ue)?this._optionMap.get(ue):z}static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Zn){return Oe.onChange(Zn.target.value)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([da]),b.qOj]})}return q})(),nr=(()=>{class q{constructor(z,ue,Oe){this._element=z,this._renderer=ue,this._select=Oe,this._select&&(this.id=this._select._registerOption())}set ngValue(z){null!=this._select&&(this._select._optionMap.set(this.id,z),this._setElementValue(Uo(this.id,z)),this._select.writeValue(this._select.value))}set value(z){this._setElementValue(z),this._select&&this._select.writeValue(this._select.value)}_setElementValue(z){this._renderer.setProperty(this._element.nativeElement,"value",z)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Ln,9))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})();const vi={provide:Vt,useExisting:(0,b.Gpc)(()=>qi),multi:!0};function jr(q,Y){return null==q?`${Y}`:("string"==typeof Y&&(Y=`'${Y}'`),Y&&"object"==typeof Y&&(Y="Object"),`${q}: ${Y}`.slice(0,50))}let qi=(()=>{class q extends At{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(z){this._compareWith=z}writeValue(z){let ue;if(this.value=z,Array.isArray(z)){const Oe=z.map(yn=>this._getOptionId(yn));ue=(yn,Zn)=>{yn._setSelected(Oe.indexOf(Zn.toString())>-1)}}else ue=(Oe,yn)=>{Oe._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(z){this.onChange=ue=>{const Oe=[],yn=ue.selectedOptions;if(void 0!==yn){const Zn=yn;for(let Qr=0;Qr<Zn.length;Qr++){const Bi=this._getOptionValue(Zn[Qr].value);Oe.push(Bi)}}else{const Zn=ue.options;for(let Qr=0;Qr<Zn.length;Qr++){const bi=Zn[Qr];if(bi.selected){const Bi=this._getOptionValue(bi.value);Oe.push(Bi)}}}this.value=Oe,z(Oe)}}_registerOption(z){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,z),ue}_getOptionId(z){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,z))return ue;return null}_getOptionValue(z){const ue=function Ii(q){return q.split(":")[0]}(z);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:z}static#e=this.\u0275fac=function(){let z;return function(Oe){return(z||(z=b.n5z(q)))(Oe||q)}}();static#t=this.\u0275dir=b.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,Oe){1&ue&&b.NdJ("change",function(Zn){return Oe.onChange(Zn.target)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([vi]),b.qOj]})}return q})(),ai=(()=>{class q{constructor(z,ue,Oe){this._element=z,this._renderer=ue,this._select=Oe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(z){null!=this._select&&(this._value=z,this._setElementValue(jr(this.id,z)),this._select.writeValue(this._select.value))}set value(z){this._select?(this._value=z,this._setElementValue(jr(this.id,z)),this._select.writeValue(this._select.value)):this._setElementValue(z)}_setElementValue(z){this._renderer.setProperty(this._element.nativeElement,"value",z)}_setSelected(z){this._renderer.setProperty(this._element.nativeElement,"selected",z)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ue){return new(ue||q)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(qi,9))};static#t=this.\u0275dir=b.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return q})(),is=(()=>{class q{static#e=this.\u0275fac=function(ue){return new(ue||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[ho]})}return q})();class bo extends tn{constructor(Y,z,ue){super(Ni(z),ce(ue,z)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,z={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}insert(Y,z,ue={}){this.controls.splice(Y,0,z),this._registerControl(z),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(Y,z={}){let ue=this._adjustIndex(Y);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:z.emitEvent})}setControl(Y,z,ue={}){let Oe=this._adjustIndex(Y);Oe<0&&(Oe=0),this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),this.controls.splice(Oe,1),z&&(this.controls.splice(Oe,0,z),this._registerControl(z)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,z={}){Nt(this,0,Y),Y.forEach((ue,Oe)=>{Se(this,!1,Oe),this.at(Oe).setValue(ue,{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(Y,z={}){null!=Y&&(Y.forEach((ue,Oe)=>{this.at(Oe)&&this.at(Oe).patchValue(ue,{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(Y=[],z={}){this._forEachChild((ue,Oe)=>{ue.reset(Y[Oe],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(z=>z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((z,ue)=>!!ue._syncPendingControls()||z,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((z,ue)=>{Y(z,ue)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(z=>z.enabled&&Y(z))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){return this.at(Y)??null}}function vs(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let ie=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const z=new q;return z.useNonNullable=!0,z}group(z,ue=null){const Oe=this._reduceControls(z);let yn={};return vs(ue)?yn=ue:null!==ue&&(yn.validators=ue.validator,yn.asyncValidators=ue.asyncValidator),new Dn(Oe,yn)}record(z,ue=null){const Oe=this._reduceControls(z);return new gr(Oe,ue)}control(z,ue,Oe){let yn={};return this.useNonNullable?(vs(ue)?yn=ue:(yn.validators=ue,yn.asyncValidators=Oe),new Vr(z,{...yn,nonNullable:!0})):new Vr(z,ue,Oe)}array(z,ue,Oe){const yn=z.map(Zn=>this._createControl(Zn));return new bo(yn,ue,Oe)}_reduceControls(z){const ue={};return Object.keys(z).forEach(Oe=>{ue[Oe]=this._createControl(z[Oe])}),ue}_createControl(z){return z instanceof Vr||z instanceof tn?z:Array.isArray(z)?this.control(z[0],z.length>1?z[1]:null,z.length>2?z[2]:null):this.control(z)}static#e=this.\u0275fac=function(ue){return new(ue||q)};static#t=this.\u0275prov=b.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),ct=(()=>{class q{static withConfig(z){return{ngModule:q,providers:[{provide:lt,useValue:z.callSetDisabledState??ze}]}}static#e=this.\u0275fac=function(ue){return new(ue||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[is]})}return q})(),Gt=(()=>{class q{static withConfig(z){return{ngModule:q,providers:[{provide:vo,useValue:z.warnOnNgModelWithFormControl??"always"},{provide:lt,useValue:z.callSetDisabledState??ze}]}}static#e=this.\u0275fac=function(ue){return new(ue||q)};static#t=this.\u0275mod=b.oAB({type:q});static#n=this.\u0275inj=b.cJS({imports:[is]})}return q})()},6593:(Xn,Lt,ne)=>{ne.d(Lt,{Dx:()=>tr,H7:()=>oi,b2:()=>$n,q6:()=>Er,se:()=>zt});var b=ne(4946),_e=ne(6814);class Fe extends _e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends Fe{static makeCurrent(){(0,_e.HT)(new O)}onAndCancel(ce,ae,Ee){return ce.addEventListener(ae,Ee),()=>{ce.removeEventListener(ae,Ee)}}dispatchEvent(ce,ae){ce.dispatchEvent(ae)}remove(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}createElement(ce,ae){return(ae=ae||this.getDefaultDocument()).createElement(ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ce){return ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(ce){return ce instanceof DocumentFragment}getGlobalEventTarget(ce,ae){return"window"===ae?window:"document"===ae?ce:"body"===ae?ce.body:null}getBaseHref(ce){const ae=function Ze(){return A=A||document.querySelector("base"),A?A.getAttribute("href"):null}();return null==ae?null:function ht(ye){Le=Le||document.createElement("a"),Le.setAttribute("href",ye);const ce=Le.pathname;return"/"===ce.charAt(0)?ce:`/${ce}`}(ae)}resetBaseElement(){A=null}getUserAgent(){return window.navigator.userAgent}getCookie(ce){return(0,_e.Mx)(document.cookie,ce)}}let Le,A=null,Ve=(()=>{class ye{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();const ke=new b.OlP("EventManagerPlugins");let _t=(()=>{class ye{constructor(ae,Ee){this._zone=Ee,this._eventNameToPlugin=new Map,ae.forEach(Se=>{Se.manager=this}),this._plugins=ae.slice().reverse()}addEventListener(ae,Ee,Se){return this._findPluginFor(Ee).addEventListener(ae,Ee,Se)}getZone(){return this._zone}_findPluginFor(ae){let Ee=this._eventNameToPlugin.get(ae);if(Ee)return Ee;if(Ee=this._plugins.find(Nt=>Nt.supports(ae)),!Ee)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(ae,Ee),Ee}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(ke),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();class Qt{constructor(ce){this._doc=ce}}const At="ng-app-id";let Vt=(()=>{class ye{constructor(ae,Ee,Se,Nt={}){this.doc=ae,this.appId=Ee,this.nonce=Se,this.platformId=Nt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,_e.PM)(Nt),this.resetHostNodes()}addStyles(ae){for(const Ee of ae)1===this.changeUsageCount(Ee,1)&&this.onStyleAdded(Ee)}removeStyles(ae){for(const Ee of ae)this.changeUsageCount(Ee,-1)<=0&&this.onStyleRemoved(Ee)}ngOnDestroy(){const ae=this.styleNodesInDOM;ae&&(ae.forEach(Ee=>Ee.remove()),ae.clear());for(const Ee of this.getAllStyles())this.onStyleRemoved(Ee);this.resetHostNodes()}addHost(ae){this.hostNodes.add(ae);for(const Ee of this.getAllStyles())this.addStyleToHost(ae,Ee)}removeHost(ae){this.hostNodes.delete(ae)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ae){for(const Ee of this.hostNodes)this.addStyleToHost(Ee,ae)}onStyleRemoved(ae){const Ee=this.styleRef;Ee.get(ae)?.elements?.forEach(Se=>Se.remove()),Ee.delete(ae)}collectServerRenderedStyles(){const ae=this.doc.head?.querySelectorAll(`style[${At}="${this.appId}"]`);if(ae?.length){const Ee=new Map;return ae.forEach(Se=>{null!=Se.textContent&&Ee.set(Se.textContent,Se)}),Ee}return null}changeUsageCount(ae,Ee){const Se=this.styleRef;if(Se.has(ae)){const Nt=Se.get(ae);return Nt.usage+=Ee,Nt.usage}return Se.set(ae,{usage:Ee,elements:[]}),Ee}getStyleElement(ae,Ee){const Se=this.styleNodesInDOM,Nt=Se?.get(Ee);if(Nt?.parentNode===ae)return Se.delete(Ee),Nt.removeAttribute(At),Nt;{const tn=this.doc.createElement("style");return this.nonce&&tn.setAttribute("nonce",this.nonce),tn.textContent=Ee,this.platformIsServer&&tn.setAttribute(At,this.appId),tn}}addStyleToHost(ae,Ee){const Se=this.getStyleElement(ae,Ee);ae.appendChild(Se);const Nt=this.styleRef,tn=Nt.get(Ee)?.elements;tn?tn.push(Se):Nt.set(Ee,{elements:[Se],usage:1})}resetHostNodes(){const ae=this.hostNodes;ae.clear(),ae.add(this.doc.head)}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(_e.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tn=/%COMP%/g,ut=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Yt(ye,ce){return ce.map(ae=>ae.replace(Tn,ye))}let zt=(()=>{class ye{constructor(ae,Ee,Se,Nt,tn,Dn,pr,sr=null){this.eventManager=ae,this.sharedStylesHost=Ee,this.appId=Se,this.removeStylesOnCompDestroy=Nt,this.doc=tn,this.platformId=Dn,this.ngZone=pr,this.nonce=sr,this.rendererByCompId=new Map,this.platformIsServer=(0,_e.PM)(Dn),this.defaultRenderer=new Ke(ae,tn,pr,this.platformIsServer)}createRenderer(ae,Ee){if(!ae||!Ee)return this.defaultRenderer;this.platformIsServer&&Ee.encapsulation===b.ifc.ShadowDom&&(Ee={...Ee,encapsulation:b.ifc.Emulated});const Se=this.getOrCreateRenderer(ae,Ee);return Se instanceof Pn?Se.applyToHost(ae):Se instanceof je&&Se.applyStyles(),Se}getOrCreateRenderer(ae,Ee){const Se=this.rendererByCompId;let Nt=Se.get(Ee.id);if(!Nt){const tn=this.doc,Dn=this.ngZone,pr=this.eventManager,sr=this.sharedStylesHost,gr=this.removeStylesOnCompDestroy,Mr=this.platformIsServer;switch(Ee.encapsulation){case b.ifc.Emulated:Nt=new Pn(pr,sr,Ee,this.appId,gr,tn,Dn,Mr);break;case b.ifc.ShadowDom:return new tt(pr,sr,ae,Ee,tn,Dn,this.nonce,Mr);default:Nt=new je(pr,sr,Ee,gr,tn,Dn,Mr)}Se.set(Ee.id,Nt)}return Nt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(_t),b.LFG(Vt),b.LFG(b.AFp),b.LFG(ut),b.LFG(_e.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();class Ke{constructor(ce,ae,Ee,Se){this.eventManager=ce,this.doc=ae,this.ngZone=Ee,this.platformIsServer=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ce,ae){return ae?this.doc.createElementNS(Ut[ae]||ae,ce):this.doc.createElement(ce)}createComment(ce){return this.doc.createComment(ce)}createText(ce){return this.doc.createTextNode(ce)}appendChild(ce,ae){(kn(ce)?ce.content:ce).appendChild(ae)}insertBefore(ce,ae,Ee){ce&&(kn(ce)?ce.content:ce).insertBefore(ae,Ee)}removeChild(ce,ae){ce&&ce.removeChild(ae)}selectRootElement(ce,ae){let Ee="string"==typeof ce?this.doc.querySelector(ce):ce;if(!Ee)throw new b.vHH(-5104,!1);return ae||(Ee.textContent=""),Ee}parentNode(ce){return ce.parentNode}nextSibling(ce){return ce.nextSibling}setAttribute(ce,ae,Ee,Se){if(Se){ae=Se+":"+ae;const Nt=Ut[Se];Nt?ce.setAttributeNS(Nt,ae,Ee):ce.setAttribute(ae,Ee)}else ce.setAttribute(ae,Ee)}removeAttribute(ce,ae,Ee){if(Ee){const Se=Ut[Ee];Se?ce.removeAttributeNS(Se,ae):ce.removeAttribute(`${Ee}:${ae}`)}else ce.removeAttribute(ae)}addClass(ce,ae){ce.classList.add(ae)}removeClass(ce,ae){ce.classList.remove(ae)}setStyle(ce,ae,Ee,Se){Se&(b.JOm.DashCase|b.JOm.Important)?ce.style.setProperty(ae,Ee,Se&b.JOm.Important?"important":""):ce.style[ae]=Ee}removeStyle(ce,ae,Ee){Ee&b.JOm.DashCase?ce.style.removeProperty(ae):ce.style[ae]=""}setProperty(ce,ae,Ee){ce[ae]=Ee}setValue(ce,ae){ce.nodeValue=ae}listen(ce,ae,Ee){if("string"==typeof ce&&!(ce=(0,_e.q)().getGlobalEventTarget(this.doc,ce)))throw new Error(`Unsupported event target ${ce} for event ${ae}`);return this.eventManager.addEventListener(ce,ae,this.decoratePreventDefault(Ee))}decoratePreventDefault(ce){return ae=>{if("__ngUnwrap__"===ae)return ce;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ce(ae)):ce(ae))&&ae.preventDefault()}}}function kn(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class tt extends Ke{constructor(ce,ae,Ee,Se,Nt,tn,Dn,pr){super(ce,Nt,tn,pr),this.sharedStylesHost=ae,this.hostEl=Ee,this.shadowRoot=Ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sr=Yt(Se.id,Se.styles);for(const gr of sr){const Mr=document.createElement("style");Dn&&Mr.setAttribute("nonce",Dn),Mr.textContent=gr,this.shadowRoot.appendChild(Mr)}}nodeOrShadowRoot(ce){return ce===this.hostEl?this.shadowRoot:ce}appendChild(ce,ae){return super.appendChild(this.nodeOrShadowRoot(ce),ae)}insertBefore(ce,ae,Ee){return super.insertBefore(this.nodeOrShadowRoot(ce),ae,Ee)}removeChild(ce,ae){return super.removeChild(this.nodeOrShadowRoot(ce),ae)}parentNode(ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ce)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class je extends Ke{constructor(ce,ae,Ee,Se,Nt,tn,Dn,pr){super(ce,Nt,tn,Dn),this.sharedStylesHost=ae,this.removeStylesOnCompDestroy=Se,this.styles=pr?Yt(pr,Ee.styles):Ee.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pn extends je{constructor(ce,ae,Ee,Se,Nt,tn,Dn,pr){const sr=Se+"-"+Ee.id;super(ce,ae,Ee,Nt,tn,Dn,pr,sr),this.contentAttr=function Ct(ye){return"_ngcontent-%COMP%".replace(Tn,ye)}(sr),this.hostAttr=function Ot(ye){return"_nghost-%COMP%".replace(Tn,ye)}(sr)}applyToHost(ce){this.applyStyles(),this.setAttribute(ce,this.hostAttr,"")}createElement(ce,ae){const Ee=super.createElement(ce,ae);return super.setAttribute(Ee,this.contentAttr,""),Ee}}let rt=(()=>{class ye extends Qt{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,Ee,Se){return ae.addEventListener(Ee,Se,!1),()=>this.removeEventListener(ae,Ee,Se)}removeEventListener(ae,Ee,Se){return ae.removeEventListener(Ee,Se)}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(_e.K0))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();const Ye=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let It=(()=>{class ye extends Qt{constructor(ae){super(ae)}supports(ae){return null!=ye.parseEventName(ae)}addEventListener(ae,Ee,Se){const Nt=ye.parseEventName(Ee),tn=ye.eventCallback(Nt.fullKey,Se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_e.q)().onAndCancel(ae,Nt.domEventName,tn))}static parseEventName(ae){const Ee=ae.toLowerCase().split("."),Se=Ee.shift();if(0===Ee.length||"keydown"!==Se&&"keyup"!==Se)return null;const Nt=ye._normalizeKey(Ee.pop());let tn="",Dn=Ee.indexOf("code");if(Dn>-1&&(Ee.splice(Dn,1),tn="code."),Ye.forEach(sr=>{const gr=Ee.indexOf(sr);gr>-1&&(Ee.splice(gr,1),tn+=sr+".")}),tn+=Nt,0!=Ee.length||0===Nt.length)return null;const pr={};return pr.domEventName=Se,pr.fullKey=tn,pr}static matchEventFullKeyCode(ae,Ee){let Se=De[ae.key]||ae.key,Nt="";return Ee.indexOf("code.")>-1&&(Se=ae.code,Nt="code."),!(null==Se||!Se)&&(Se=Se.toLowerCase()," "===Se?Se="space":"."===Se&&(Se="dot"),Ye.forEach(tn=>{tn!==Se&&(0,ft[tn])(ae)&&(Nt+=tn+".")}),Nt+=Se,Nt===Ee)}static eventCallback(ae,Ee,Se){return Nt=>{ye.matchEventFullKeyCode(Nt,ae)&&Se.runGuarded(()=>Ee(Nt))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(_e.K0))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:ye.\u0275fac})}return ye})();const Er=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:_e.bD},{provide:b.g9A,useValue:function He(){O.makeCurrent()},multi:!0},{provide:_e.K0,useFactory:function bt(){return(0,b.RDi)(document),document},deps:[]}]),Zt=new b.OlP(""),pn=[{provide:b.rWj,useClass:class vt{addToWindow(ce){b.dqk.getAngularTestability=(Ee,Se=!0)=>{const Nt=ce.findTestabilityInTree(Ee,Se);if(null==Nt)throw new b.vHH(5103,!1);return Nt},b.dqk.getAllAngularTestabilities=()=>ce.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>ce.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(Ee=>{const Se=b.dqk.getAllAngularTestabilities();let Nt=Se.length,tn=!1;const Dn=function(pr){tn=tn||pr,Nt--,0==Nt&&Ee(tn)};Se.forEach(pr=>{pr.whenStable(Dn)})})}findTestabilityInTree(ce,ae,Ee){return null==ae?null:ce.getTestability(ae)??(Ee?(0,_e.q)().isShadowRoot(ae)?this.findTestabilityInTree(ce,ae.host,!0):this.findTestabilityInTree(ce,ae.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],qn=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function pt(){return new b.qLn},deps:[]},{provide:ke,useClass:rt,multi:!0,deps:[_e.K0,b.R0b,b.Lbi]},{provide:ke,useClass:It,multi:!0,deps:[_e.K0]},zt,Vt,_t,{provide:b.FYo,useExisting:zt},{provide:_e.JF,useClass:Ve,deps:[]},[]];let $n=(()=>{class ye{constructor(ae){}static withServerTransition(ae){return{ngModule:ye,providers:[{provide:b.AFp,useValue:ae.appId}]}}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(Zt,12))};static#t=this.\u0275mod=b.oAB({type:ye});static#n=this.\u0275inj=b.cJS({providers:[...qn,...pn],imports:[_e.ez,b.hGG]})}return ye})(),tr=(()=>{class ye{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(_e.K0))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:function(Ee){let Se=null;return Se=Ee?new Ee:function on(){return new tr((0,b.LFG)(_e.K0))}(),Se},providedIn:"root"})}return ye})();typeof window<"u"&&window;let oi=(()=>{class ye{static#e=this.\u0275fac=function(Ee){return new(Ee||ye)};static#t=this.\u0275prov=b.Yz7({token:ye,factory:function(Ee){let Se=null;return Se=Ee?new(Ee||ye):b.LFG(Xr),Se},providedIn:"root"})}return ye})(),Xr=(()=>{class ye extends oi{constructor(ae){super(),this._doc=ae}sanitize(ae,Ee){if(null==Ee)return null;switch(ae){case b.q3G.NONE:return Ee;case b.q3G.HTML:return(0,b.qzn)(Ee,"HTML")?(0,b.z3N)(Ee):(0,b.EiD)(this._doc,String(Ee)).toString();case b.q3G.STYLE:return(0,b.qzn)(Ee,"Style")?(0,b.z3N)(Ee):Ee;case b.q3G.SCRIPT:if((0,b.qzn)(Ee,"Script"))return(0,b.z3N)(Ee);throw new b.vHH(5200,!1);case b.q3G.URL:return(0,b.qzn)(Ee,"URL")?(0,b.z3N)(Ee):(0,b.mCW)(String(Ee));case b.q3G.RESOURCE_URL:if((0,b.qzn)(Ee,"ResourceURL"))return(0,b.z3N)(Ee);throw new b.vHH(5201,!1);default:throw new b.vHH(5202,!1)}}bypassSecurityTrustHtml(ae){return(0,b.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,b.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,b.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,b.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,b.pB0)(ae)}static#e=this.\u0275fac=function(Ee){return new(Ee||ye)(b.LFG(_e.K0))};static#t=this.\u0275prov=b.Yz7({token:ye,factory:function(Ee){let Se=null;return Se=Ee?new Ee:function et(ye){return new Xr(ye.get(_e.K0))}(b.LFG(b.zs3)),Se},providedIn:"root"})}return ye})()},51:(Xn,Lt,ne)=>{ne.d(Lt,{gz:()=>ms,F0:()=>K,rH:()=>B,Od:()=>X,Bz:()=>cr,lC:()=>Ii});var b=ne(4946),_e=ne(5592),Fe=ne(4674),A=ne(2459),Ze=ne(2096),Le=ne(5619),ht=ne(7453),vt=ne(2737),Ve=ne(7400),ke=ne(4564),_t=ne(2714),Qt=ne(8251),At=ne(7103);function Vt(...M){const V=(0,ke.yG)(M),P=(0,ke.jO)(M),{args:H,keys:Q}=(0,ht.D)(M);if(0===H.length)return(0,A.D)([],V);const ge=new _e.y(function Ut(M,V,P=vt.y){return H=>{Tn(V,()=>{const{length:Q}=M,ge=new Array(Q);let Me=Q,Rt=Q;for(let St=0;St<Q;St++)Tn(V,()=>{const jn=(0,A.D)(M[St],V);let Ar=!1;jn.subscribe((0,Qt.x)(H,ts=>{ge[St]=ts,Ar||(Ar=!0,Rt--),Rt||H.next(P(ge.slice()))},()=>{--Me||H.complete()}))},H)},H)}}(H,V,Q?Me=>(0,_t.n)(Q,Me):vt.y));return P?ge.pipe((0,Ve.Z)(P)):ge}function Tn(M,V,P){M?(0,At.f)(P,M,V):V()}const er=(0,ne(2306).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"});var nn=ne(7537);function ut(...M){return function We(){return(0,nn.J)(1)}()((0,A.D)(M,(0,ke.yG)(M)))}var Ct=ne(4829);function Ot(M){return new _e.y(V=>{(0,Ct.Xf)(M()).subscribe(V)})}var Yt=ne(8407);function zt(M,V){const P=(0,Fe.m)(M)?M:()=>M,H=Q=>Q.error(P());return new _e.y(V?Q=>V.schedule(H,0,Q):H)}var Ke=ne(6232),ln=ne(7394),Qn=ne(9360);function kn(){return(0,Qn.e)((M,V)=>{let P=null;M._refCount++;const H=(0,Qt.x)(V,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(P=null);const Q=M._connection,ge=P;P=null,Q&&(!ge||Q===ge)&&Q.unsubscribe(),V.unsubscribe()});M.subscribe(H),H.closed||(P=M.connect())})}class tt extends _e.y{constructor(V,P){super(),this.source=V,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Qn.A)(V)&&(this.lift=V.lift)}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:V}=this;this._subject=this._connection=null,V?.unsubscribe()}connect(){let V=this._connection;if(!V){V=this._connection=new ln.w0;const P=this.getSubject();V.add(this.source.subscribe((0,Qt.x)(P,void 0,()=>{this._teardown(),P.complete()},H=>{this._teardown(),P.error(H)},()=>this._teardown()))),V.closed&&(this._connection=null,V=ln.w0.EMPTY)}return V}refCount(){return kn()(this)}}var je=ne(8645),Pn=ne(6814),rt=ne(7398),Ye=ne(4664),De=ne(8180),It=ne(2181),$e=ne(1631);function Ce(M){return(0,Qn.e)((V,P)=>{let H=!1;V.subscribe((0,Qt.x)(P,Q=>{H=!0,P.next(Q)},()=>{H||P.next(M),P.complete()}))})}function ve(M=pe){return(0,Qn.e)((V,P)=>{let H=!1;V.subscribe((0,Qt.x)(P,Q=>{H=!0,P.next(Q)},()=>H?P.complete():P.error(M())))})}function pe(){return new er}function He(M,V){const P=arguments.length>=2;return H=>H.pipe(M?(0,It.h)((Q,ge)=>M(Q,ge,H)):vt.y,(0,De.q)(1),P?Ce(V):ve(()=>new er))}var pt=ne(6328),bt=ne(9397);function Cn(M){return(0,Qn.e)((V,P)=>{let ge,H=null,Q=!1;H=V.subscribe((0,Qt.x)(P,void 0,void 0,Me=>{ge=(0,Ct.Xf)(M(Me,Cn(M)(V))),H?(H.unsubscribe(),H=null,ge.subscribe(P)):Q=!0})),Q&&(H.unsubscribe(),H=null,ge.subscribe(P))})}function pn(M){return M<=0?()=>Ke.E:(0,Qn.e)((V,P)=>{let H=[];V.subscribe((0,Qt.x)(P,Q=>{H.push(Q),M<H.length&&H.shift()},()=>{for(const Q of H)P.next(Q);P.complete()},void 0,()=>{H=null}))})}var Rn=ne(4716),en=ne(2420),on=ne(6593);const tr="primary",Fr=Symbol("RouteTitle");class jt{constructor(V){this.params=V||{}}has(V){return Object.prototype.hasOwnProperty.call(this.params,V)}get(V){if(this.has(V)){const P=this.params[V];return Array.isArray(P)?P[0]:P}return null}getAll(V){if(this.has(V)){const P=this.params[V];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function fr(M){return new jt(M)}function vr(M,V,P){const H=P.path.split("/");if(H.length>M.length||"full"===P.pathMatch&&(V.hasChildren()||H.length<M.length))return null;const Q={};for(let ge=0;ge<H.length;ge++){const Me=H[ge],Rt=M[ge];if(Me.startsWith(":"))Q[Me.substring(1)]=Rt;else if(Me!==Rt.path)return null}return{consumed:M.slice(0,H.length),posParams:Q}}function Mi(M,V){const P=M?Object.keys(M):void 0,H=V?Object.keys(V):void 0;if(!P||!H||P.length!=H.length)return!1;let Q;for(let ge=0;ge<P.length;ge++)if(Q=P[ge],!Ei(M[Q],V[Q]))return!1;return!0}function Ei(M,V){if(Array.isArray(M)&&Array.isArray(V)){if(M.length!==V.length)return!1;const P=[...M].sort(),H=[...V].sort();return P.every((Q,ge)=>H[ge]===Q)}return M===V}function Jr(M){return M.length>0?M[M.length-1]:null}function Wr(M){return function O(M){return!!M&&(M instanceof _e.y||(0,Fe.m)(M.lift)&&(0,Fe.m)(M.subscribe))}(M)?M:(0,b.QGY)(M)?(0,A.D)(Promise.resolve(M)):(0,Ze.of)(M)}const Oi={exact:function Hn(M,V,P){if(!lr(M.segments,V.segments)||!et(M.segments,V.segments,P)||M.numberOfChildren!==V.numberOfChildren)return!1;for(const H in V.children)if(!M.children[H]||!Hn(M.children[H],V.children[H],P))return!1;return!0},subset:ns},as={exact:function so(M,V){return Mi(M,V)},subset:function ls(M,V){return Object.keys(V).length<=Object.keys(M).length&&Object.keys(V).every(P=>Ei(M[P],V[P]))},ignored:()=>!0};function Pr(M,V,P){return Oi[P.paths](M.root,V.root,P.matrixParams)&&as[P.queryParams](M.queryParams,V.queryParams)&&!("exact"===P.fragment&&M.fragment!==V.fragment)}function ns(M,V,P){return oi(M,V,V.segments,P)}function oi(M,V,P,H){if(M.segments.length>P.length){const Q=M.segments.slice(0,P.length);return!(!lr(Q,P)||V.hasChildren()||!et(Q,P,H))}if(M.segments.length===P.length){if(!lr(M.segments,P)||!et(M.segments,P,H))return!1;for(const Q in V.children)if(!M.children[Q]||!ns(M.children[Q],V.children[Q],H))return!1;return!0}{const Q=P.slice(0,M.segments.length),ge=P.slice(M.segments.length);return!!(lr(M.segments,Q)&&et(M.segments,Q,H)&&M.children[tr])&&oi(M.children[tr],V,ge,H)}}function et(M,V,P){return V.every((H,Q)=>as[P](M[Q].parameters,H.parameters))}class Xr{constructor(V=new Bn([],{}),P={},H=null){this.root=V,this.queryParams=P,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return Ni.serialize(this)}}class Bn{constructor(V,P){this.segments=V,this.children=P,this.parent=null,Object.values(P).forEach(H=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class Zr{constructor(V,P){this.path=V,this.parameters=P}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return pr(this)}}function lr(M,V){return M.length===V.length&&M.every((P,H)=>P.path===V[H].path)}let Gi=(()=>{class M{static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return new zr},providedIn:"root"})}return M})();class zr{parse(V){const P=new br(V);return new Xr(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(V){const P=`/${ce(V.root,!0)}`,H=function gr(M){const V=Object.keys(M).map(P=>{const H=M[P];return Array.isArray(H)?H.map(Q=>`${Ee(P)}=${Ee(Q)}`).join("&"):`${Ee(P)}=${Ee(H)}`}).filter(P=>!!P);return V.length?`?${V.join("&")}`:""}(V.queryParams);return`${P}${H}${"string"==typeof V.fragment?`#${function Se(M){return encodeURI(M)}(V.fragment)}`:""}`}}const Ni=new zr;function ye(M){return M.segments.map(V=>pr(V)).join("/")}function ce(M,V){if(!M.hasChildren())return ye(M);if(V){const P=M.children[tr]?ce(M.children[tr],!1):"",H=[];return Object.entries(M.children).forEach(([Q,ge])=>{Q!==tr&&H.push(`${Q}:${ce(ge,!1)}`)}),H.length>0?`${P}(${H.join("//")})`:P}{const P=function Br(M,V){let P=[];return Object.entries(M.children).forEach(([H,Q])=>{H===tr&&(P=P.concat(V(Q,H)))}),Object.entries(M.children).forEach(([H,Q])=>{H!==tr&&(P=P.concat(V(Q,H)))}),P}(M,(H,Q)=>Q===tr?[ce(M.children[tr],!1)]:[`${Q}:${ce(H,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[tr]?`${ye(M)}/${P[0]}`:`${ye(M)}/(${P.join("//")})`}}function ae(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ee(M){return ae(M).replace(/%3B/gi,";")}function Nt(M){return ae(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tn(M){return decodeURIComponent(M)}function Dn(M){return tn(M.replace(/\+/g,"%20"))}function pr(M){return`${Nt(M.path)}${function sr(M){return Object.keys(M).map(V=>`;${Nt(V)}=${Nt(M[V])}`).join("")}(M.parameters)}`}const Mr=/^[^\/()?;#]+/;function lt(M){const V=M.match(Mr);return V?V[0]:""}const ze=/^[^\/()?;=#]+/,Bt=/^[^=?&#]+/,gn=/^[^&#]+/;class br{constructor(V){this.url=V,this.remaining=V}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const V={};if(this.consumeOptional("?"))do{this.parseQueryParam(V)}while(this.consumeOptional("&"));return V}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const V=[];for(this.peekStartsWith("(")||V.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),V.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(V.length>0||Object.keys(P).length>0)&&(H[tr]=new Bn(V,P)),H}parseSegment(){const V=lt(this.remaining);if(""===V&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(V),new Zr(tn(V),this.parseMatrixParams())}parseMatrixParams(){const V={};for(;this.consumeOptional(";");)this.parseParam(V);return V}parseParam(V){const P=function Ge(M){const V=M.match(ze);return V?V[0]:""}(this.remaining);if(!P)return;this.capture(P);let H="";if(this.consumeOptional("=")){const Q=lt(this.remaining);Q&&(H=Q,this.capture(H))}V[tn(P)]=tn(H)}parseQueryParam(V){const P=function cn(M){const V=M.match(Bt);return V?V[0]:""}(this.remaining);if(!P)return;this.capture(P);let H="";if(this.consumeOptional("=")){const Me=function fn(M){const V=M.match(gn);return V?V[0]:""}(this.remaining);Me&&(H=Me,this.capture(H))}const Q=Dn(P),ge=Dn(H);if(V.hasOwnProperty(Q)){let Me=V[Q];Array.isArray(Me)||(Me=[Me],V[Q]=Me),Me.push(ge)}else V[Q]=ge}parseParens(V){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=lt(this.remaining),Q=this.remaining[H.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new b.vHH(4010,!1);let ge;H.indexOf(":")>-1?(ge=H.slice(0,H.indexOf(":")),this.capture(ge),this.capture(":")):V&&(ge=tr);const Me=this.parseChildren();P[ge]=1===Object.keys(Me).length?Me[tr]:new Bn([],Me),this.consumeOptional("//")}return P}peekStartsWith(V){return this.remaining.startsWith(V)}consumeOptional(V){return!!this.peekStartsWith(V)&&(this.remaining=this.remaining.substring(V.length),!0)}capture(V){if(!this.consumeOptional(V))throw new b.vHH(4011,!1)}}function On(M){return M.segments.length>0?new Bn([],{[tr]:M}):M}function gt(M){const V={};for(const H of Object.keys(M.children)){const ge=gt(M.children[H]);if(H===tr&&0===ge.segments.length&&ge.hasChildren())for(const[Me,Rt]of Object.entries(ge.children))V[Me]=Rt;else(ge.segments.length>0||ge.hasChildren())&&(V[H]=ge)}return function dt(M){if(1===M.numberOfChildren&&M.children[tr]){const V=M.children[tr];return new Bn(M.segments.concat(V.segments),V.children)}return M}(new Bn(M.segments,V))}function Pt(M){return M instanceof Xr}function ur(M){let V;const Q=On(function P(ge){const Me={};for(const St of ge.children){const jn=P(St);Me[St.outlet]=jn}const Rt=new Bn(ge.url,Me);return ge===M&&(V=Rt),Rt}(M.root));return V??Q}function dr(M,V,P,H){let Q=M;for(;Q.parent;)Q=Q.parent;if(0===V.length)return Cr(Q,Q,Q,P,H);const ge=function si(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new _r(!0,0,M);let V=0,P=!1;const H=M.reduce((Q,ge,Me)=>{if("object"==typeof ge&&null!=ge){if(ge.outlets){const Rt={};return Object.entries(ge.outlets).forEach(([St,jn])=>{Rt[St]="string"==typeof jn?jn.split("/"):jn}),[...Q,{outlets:Rt}]}if(ge.segmentPath)return[...Q,ge.segmentPath]}return"string"!=typeof ge?[...Q,ge]:0===Me?(ge.split("/").forEach((Rt,St)=>{0==St&&"."===Rt||(0==St&&""===Rt?P=!0:".."===Rt?V++:""!=Rt&&Q.push(Rt))}),Q):[...Q,ge]},[]);return new _r(P,V,H)}(V);if(ge.toRoot())return Cr(Q,Q,new Bn([],{}),P,H);const Me=function So(M,V,P){if(M.isAbsolute)return new di(V,!0,0);if(!P)return new di(V,!1,NaN);if(null===P.parent)return new di(P,!0,0);const H=Vn(M.commands[0])?0:1;return function gs(M,V,P){let H=M,Q=V,ge=P;for(;ge>Q;){if(ge-=Q,H=H.parent,!H)throw new b.vHH(4005,!1);Q=H.segments.length}return new di(H,!1,Q-ge)}(P,P.segments.length-1+H,M.numberOfDoubleDots)}(ge,Q,M),Rt=Me.processChildren?rn(Me.segmentGroup,Me.index,ge.commands):Mn(Me.segmentGroup,Me.index,ge.commands);return Cr(Q,Me.segmentGroup,Rt,P,H)}function Vn(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function mr(M){return"object"==typeof M&&null!=M&&M.outlets}function Cr(M,V,P,H,Q){let Me,ge={};H&&Object.entries(H).forEach(([St,jn])=>{ge[St]=Array.isArray(jn)?jn.map(Ar=>`${Ar}`):`${jn}`}),Me=M===V?P:_i(M,V,P);const Rt=On(gt(Me));return new Xr(Rt,ge,Q)}function _i(M,V,P){const H={};return Object.entries(M.children).forEach(([Q,ge])=>{H[Q]=ge===V?P:_i(ge,V,P)}),new Bn(M.segments,H)}class _r{constructor(V,P,H){if(this.isAbsolute=V,this.numberOfDoubleDots=P,this.commands=H,V&&H.length>0&&Vn(H[0]))throw new b.vHH(4003,!1);const Q=H.find(mr);if(Q&&Q!==Jr(H))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class di{constructor(V,P,H){this.segmentGroup=V,this.processChildren=P,this.index=H}}function Mn(M,V,P){if(M||(M=new Bn([],{})),0===M.segments.length&&M.hasChildren())return rn(M,V,P);const H=function Un(M,V,P){let H=0,Q=V;const ge={match:!1,pathIndex:0,commandIndex:0};for(;Q<M.segments.length;){if(H>=P.length)return ge;const Me=M.segments[Q],Rt=P[H];if(mr(Rt))break;const St=`${Rt}`,jn=H<P.length-1?P[H+1]:null;if(Q>0&&void 0===St)break;if(St&&jn&&"object"==typeof jn&&void 0===jn.outlets){if(!Vr(St,jn,Me))return ge;H+=2}else{if(!Vr(St,{},Me))return ge;H++}Q++}return{match:!0,pathIndex:Q,commandIndex:H}}(M,V,P),Q=P.slice(H.commandIndex);if(H.match&&H.pathIndex<M.segments.length){const ge=new Bn(M.segments.slice(0,H.pathIndex),{});return ge.children[tr]=new Bn(M.segments.slice(H.pathIndex),M.children),rn(ge,0,Q)}return H.match&&0===Q.length?new Bn(M.segments,{}):H.match&&!M.hasChildren()?Wn(M,V,P):H.match?rn(M,0,Q):Wn(M,V,P)}function rn(M,V,P){if(0===P.length)return new Bn(M.segments,{});{const H=function Ir(M){return mr(M[0])?M[0].outlets:{[tr]:M}}(P),Q={};if(Object.keys(H).some(ge=>ge!==tr)&&M.children[tr]&&1===M.numberOfChildren&&0===M.children[tr].segments.length){const ge=rn(M.children[tr],V,P);return new Bn(M.segments,ge.children)}return Object.entries(H).forEach(([ge,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(Q[ge]=Mn(M.children[ge],V,Me))}),Object.entries(M.children).forEach(([ge,Me])=>{void 0===H[ge]&&(Q[ge]=Me)}),new Bn(M.segments,Q)}}function Wn(M,V,P){const H=M.segments.slice(0,V);let Q=0;for(;Q<P.length;){const ge=P[Q];if(mr(ge)){const St=Or(ge.outlets);return new Bn(H,St)}if(0===Q&&Vn(P[0])){H.push(new Zr(M.segments[V].path,ki(P[0]))),Q++;continue}const Me=mr(ge)?ge.outlets[tr]:`${ge}`,Rt=Q<P.length-1?P[Q+1]:null;Me&&Rt&&Vn(Rt)?(H.push(new Zr(Me,ki(Rt))),Q+=2):(H.push(new Zr(Me,{})),Q++)}return new Bn(H,{})}function Or(M){const V={};return Object.entries(M).forEach(([P,H])=>{"string"==typeof H&&(H=[H]),null!==H&&(V[P]=Wn(new Bn([],{}),0,H))}),V}function ki(M){const V={};return Object.entries(M).forEach(([P,H])=>V[P]=`${H}`),V}function Vr(M,V,P){return M==P.path&&Mi(V,P.parameters)}const Yr="imperative";class Ji{constructor(V,P){this.id=V,this.url=P}}class Ys extends Ji{constructor(V,P,H="imperative",Q=null){super(V,P),this.type=0,this.navigationTrigger=H,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends Ji{constructor(V,P,H){super(V,P),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cs extends Ji{constructor(V,P,H,Q){super(V,P),this.reason=H,this.code=Q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Go extends Ji{constructor(V,P,H,Q){super(V,P),this.reason=H,this.code=Q,this.type=16}}class $r extends Ji{constructor(V,P,H,Q){super(V,P),this.error=H,this.target=Q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qs extends Ji{constructor(V,P,H,Q){super(V,P),this.urlAfterRedirects=H,this.state=Q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends Ji{constructor(V,P,H,Q){super(V,P),this.urlAfterRedirects=H,this.state=Q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Ji{constructor(V,P,H,Q,ge){super(V,P),this.urlAfterRedirects=H,this.state=Q,this.shouldActivate=ge,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ss extends Ji{constructor(V,P,H,Q){super(V,P),this.urlAfterRedirects=H,this.state=Q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js extends Ji{constructor(V,P,H,Q){super(V,P),this.urlAfterRedirects=H,this.state=Q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o{constructor(V){this.route=V,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zs{constructor(V){this.route=V,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yo{constructor(V){this.snapshot=V,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(V){this.snapshot=V,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(V){this.snapshot=V,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(V){this.snapshot=V,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(V,P,H){this.routerEvent=V,this.position=P,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xs{}class Fs{constructor(V){this.url=V}}class vo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ls,this.attachRef=null}}let Ls=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(P,H){const Q=this.getOrCreateContext(P);Q.outlet=H,this.contexts.set(P,Q)}onChildOutletDestroyed(P){const H=this.getContext(P);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let H=this.getContext(P);return H||(H=new vo,this.contexts.set(P,H)),H}getContext(P){return this.contexts.get(P)||null}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();class Ps{constructor(V){this._root=V}get root(){return this._root.value}parent(V){const P=this.pathFromRoot(V);return P.length>1?P[P.length-2]:null}children(V){const P=eo(V,this._root);return P?P.children.map(H=>H.value):[]}firstChild(V){const P=eo(V,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(V){const P=Nr(V,this._root);return P.length<2?[]:P[P.length-2].children.map(Q=>Q.value).filter(Q=>Q!==V)}pathFromRoot(V){return Nr(V,this._root).map(P=>P.value)}}function eo(M,V){if(M===V.value)return V;for(const P of V.children){const H=eo(M,P);if(H)return H}return null}function Nr(M,V){if(M===V.value)return[V];for(const P of V.children){const H=Nr(M,P);if(H.length)return H.unshift(V),H}return[]}class Pi{constructor(V,P){this.value=V,this.children=P}toString(){return`TreeNode(${this.value})`}}function yi(M){const V={};return M&&M.children.forEach(P=>V[P.value.outlet]=P),V}class Vs extends Ps{constructor(V,P){super(V),this.snapshot=P,Ln(this,V)}toString(){return this.snapshot.toString()}}function Ts(M,V){const P=function qo(M,V){const Me=new Uo([],{},{},"",{},tr,V,null,{});return new Ui("",new Pi(Me,[]))}(0,V),H=new Le.X([new Zr("",{})]),Q=new Le.X({}),ge=new Le.X({}),Me=new Le.X({}),Rt=new Le.X(""),St=new ms(H,Q,Me,Rt,ge,tr,V,P.root);return St.snapshot=P.root,new Vs(new Pi(St,[]),P)}class ms{constructor(V,P,H,Q,ge,Me,Rt,St){this.urlSubject=V,this.paramsSubject=P,this.queryParamsSubject=H,this.fragmentSubject=Q,this.dataSubject=ge,this.outlet=Me,this.component=Rt,this._futureSnapshot=St,this.title=this.dataSubject?.pipe((0,rt.U)(jn=>jn[Fr]))??(0,Ze.of)(void 0),this.url=V,this.params=P,this.queryParams=H,this.fragment=Q,this.data=ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(V=>fr(V)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(V=>fr(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(M,V="emptyOnly"){const P=M.pathFromRoot;let H=0;if("always"!==V)for(H=P.length-1;H>=1;){const Q=P[H],ge=P[H-1];if(Q.routeConfig&&""===Q.routeConfig.path)H--;else{if(ge.component)break;H--}}return function da(M){return M.reduce((V,P)=>({params:{...V.params,...P.params},data:{...V.data,...P.data},resolve:{...P.data,...V.resolve,...P.routeConfig?.data,...P._resolvedData}}),{params:{},data:{},resolve:{}})}(P.slice(H))}class Uo{get title(){return this.data?.[Fr]}constructor(V,P,H,Q,ge,Me,Rt,St,jn){this.url=V,this.params=P,this.queryParams=H,this.fragment=Q,this.data=ge,this.outlet=Me,this.component=Rt,this.routeConfig=St,this._resolve=jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ui extends Ps{constructor(V,P){super(P),this.url=V,Ln(this,P)}toString(){return nr(this._root)}}function Ln(M,V){V.value._routerState=M,V.children.forEach(P=>Ln(M,P))}function nr(M){const V=M.children.length>0?` { ${M.children.map(nr).join(", ")} } `:"";return`${M.value}${V}`}function vi(M){if(M.snapshot){const V=M.snapshot,P=M._futureSnapshot;M.snapshot=P,Mi(V.queryParams,P.queryParams)||M.queryParamsSubject.next(P.queryParams),V.fragment!==P.fragment&&M.fragmentSubject.next(P.fragment),Mi(V.params,P.params)||M.paramsSubject.next(P.params),function ar(M,V){if(M.length!==V.length)return!1;for(let P=0;P<M.length;++P)if(!Mi(M[P],V[P]))return!1;return!0}(V.url,P.url)||M.urlSubject.next(P.url),Mi(V.data,P.data)||M.dataSubject.next(P.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function jr(M,V){const P=Mi(M.params,V.params)&&function ei(M,V){return lr(M,V)&&M.every((P,H)=>Mi(P.parameters,V[H].parameters))}(M.url,V.url);return P&&!(!M.parent!=!V.parent)&&(!M.parent||jr(M.parent,V.parent))}let Ii=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=tr,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Ls),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(qi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(P){if(P.name){const{firstChange:H,previousValue:Q}=P.name;if(H)return;this.isTrackedInParentContexts(Q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(P){return this.parentContexts.getContext(P)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const P=this.parentContexts.getContext(this.name);P?.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(P.instance),P}attach(P,H){this.activated=P,this._activatedRoute=H,this.location.insert(P.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(P.instance)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,H){if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=P;const Q=this.location,Me=P.snapshot.component,Rt=this.parentContexts.getOrCreateContext(this.name).children,St=new Kr(P,Rt,Q.injector);this.activated=Q.createComponent(Me,{index:Q.length,injector:St,environmentInjector:H??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]})}return M})();class Kr{constructor(V,P,H){this.route=V,this.childContexts=P,this.parent=H}get(V,P){return V===ms?this.route:V===Ls?this.childContexts:this.parent.get(V,P)}}const qi=new b.OlP("");let ai=(()=>{class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(P){this.unsubscribeFromRouteData(P),this.subscribeToRouteData(P)}unsubscribeFromRouteData(P){this.outletDataSubscriptions.get(P)?.unsubscribe(),this.outletDataSubscriptions.delete(P)}subscribeToRouteData(P){const{activatedRoute:H}=P,Q=Vt([H.queryParams,H.params,H.data]).pipe((0,Ye.w)(([ge,Me,Rt],St)=>(Rt={...ge,...Me,...Rt},0===St?(0,Ze.of)(Rt):Promise.resolve(Rt)))).subscribe(ge=>{if(!P.isActivated||!P.activatedComponentRef||P.activatedRoute!==H||null===H.component)return void this.unsubscribeFromRouteData(P);const Me=(0,b.qFp)(H.component);if(Me)for(const{templateName:Rt}of Me.inputs)P.activatedComponentRef.setInput(Rt,ge[Rt]);else this.unsubscribeFromRouteData(P)});this.outletDataSubscriptions.set(P,Q)}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})();function Wi(M,V,P){if(P&&M.shouldReuseRoute(V.value,P.value.snapshot)){const H=P.value;H._futureSnapshot=V.value;const Q=function En(M,V,P){return V.children.map(H=>{for(const Q of P.children)if(M.shouldReuseRoute(H.value,Q.value.snapshot))return Wi(M,H,Q);return Wi(M,H)})}(M,V,P);return new Pi(H,Q)}{if(M.shouldAttach(V.value)){const ge=M.retrieve(V.value);if(null!==ge){const Me=ge.route;return Me.value._futureSnapshot=V.value,Me.children=V.children.map(Rt=>Wi(M,Rt)),Me}}const H=function Hr(M){return new ms(new Le.X(M.url),new Le.X(M.params),new Le.X(M.queryParams),new Le.X(M.fragment),new Le.X(M.data),M.outlet,M.component,M)}(V.value),Q=V.children.map(ge=>Wi(M,ge));return new Pi(H,Q)}}const to="ngNavigationCancelingError";function Gs(M,V){const{redirectTo:P,navigationBehaviorOptions:H}=Pt(V)?{redirectTo:V,navigationBehaviorOptions:void 0}:V,Q=Vi(!1,0,V);return Q.url=P,Q.navigationBehaviorOptions=H,Q}function Vi(M,V,P){const H=new Error("NavigationCancelingError: "+(M||""));return H[to]=!0,H.cancellationCode=V,P&&(H.url=P),H}function no(M){return M&&M[to]}let Us=(()=>{class M{static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275cmp=b.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(H,Q){1&H&&b._UZ(0,"router-outlet")},dependencies:[Ii],encapsulation:2})}return M})();function Wo(M){const V=M.children&&M.children.map(Wo),P=V?{...M,children:V}:{...M};return!P.component&&!P.loadComponent&&(V||P.loadChildren)&&P.outlet&&P.outlet!==tr&&(P.component=Us),P}function ys(M){return M.outlet||tr}function is(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let V=M.parent;V;V=V.parent){const P=V.routeConfig;if(P?._loadedInjector)return P._loadedInjector;if(P?._injector)return P._injector}return null}class ka{constructor(V,P,H,Q,ge){this.routeReuseStrategy=V,this.futureState=P,this.currState=H,this.forwardEvent=Q,this.inputBindingEnabled=ge}activate(V){const P=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,H,V),vi(this.futureState.root),this.activateChildRoutes(P,H,V)}deactivateChildRoutes(V,P,H){const Q=yi(P);V.children.forEach(ge=>{const Me=ge.value.outlet;this.deactivateRoutes(ge,Q[Me],H),delete Q[Me]}),Object.values(Q).forEach(ge=>{this.deactivateRouteAndItsChildren(ge,H)})}deactivateRoutes(V,P,H){const Q=V.value,ge=P?P.value:null;if(Q===ge)if(Q.component){const Me=H.getContext(Q.outlet);Me&&this.deactivateChildRoutes(V,P,Me.children)}else this.deactivateChildRoutes(V,P,H);else ge&&this.deactivateRouteAndItsChildren(P,H)}deactivateRouteAndItsChildren(V,P){V.value.component&&this.routeReuseStrategy.shouldDetach(V.value.snapshot)?this.detachAndStoreRouteSubtree(V,P):this.deactivateRouteAndOutlet(V,P)}detachAndStoreRouteSubtree(V,P){const H=P.getContext(V.value.outlet),Q=H&&V.value.component?H.children:P,ge=yi(V);for(const Me of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[Me],Q);if(H&&H.outlet){const Me=H.outlet.detach(),Rt=H.children.onOutletDeactivated();this.routeReuseStrategy.store(V.value.snapshot,{componentRef:Me,route:V,contexts:Rt})}}deactivateRouteAndOutlet(V,P){const H=P.getContext(V.value.outlet),Q=H&&V.value.component?H.children:P,ge=yi(V);for(const Me of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[Me],Q);H&&(H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated()),H.attachRef=null,H.route=null)}activateChildRoutes(V,P,H){const Q=yi(P);V.children.forEach(ge=>{this.activateRoutes(ge,Q[ge.value.outlet],H),this.forwardEvent(new ho(ge.value.snapshot))}),V.children.length&&this.forwardEvent(new Xs(V.value.snapshot))}activateRoutes(V,P,H){const Q=V.value,ge=P?P.value:null;if(vi(Q),Q===ge)if(Q.component){const Me=H.getOrCreateContext(Q.outlet);this.activateChildRoutes(V,P,Me.children)}else this.activateChildRoutes(V,P,H);else if(Q.component){const Me=H.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const Rt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),Me.children.onOutletReAttached(Rt.contexts),Me.attachRef=Rt.componentRef,Me.route=Rt.route.value,Me.outlet&&Me.outlet.attach(Rt.componentRef,Rt.route.value),vi(Rt.route.value),this.activateChildRoutes(V,null,Me.children)}else{const Rt=is(Q.snapshot);Me.attachRef=null,Me.route=Q,Me.injector=Rt,Me.outlet&&Me.outlet.activateWith(Q,Me.injector),this.activateChildRoutes(V,null,Me.children)}}else this.activateChildRoutes(V,null,H)}}class vs{constructor(V){this.path=V,this.route=this.path[this.path.length-1]}}class ie{constructor(V,P){this.component=V,this.route=P}}function se(M,V,P){const H=M._root;return ct(H,V?V._root:null,P,[H.value])}function Pe(M,V){const P=Symbol(),H=V.get(M,P);return H===P?"function"!=typeof M||(0,b.Z0I)(M)?V.get(M):M:H}function ct(M,V,P,H,Q={canDeactivateChecks:[],canActivateChecks:[]}){const ge=yi(V);return M.children.forEach(Me=>{(function Gt(M,V,P,H,Q={canDeactivateChecks:[],canActivateChecks:[]}){const ge=M.value,Me=V?V.value:null,Rt=P?P.getContext(M.value.outlet):null;if(Me&&ge.routeConfig===Me.routeConfig){const St=function q(M,V,P){if("function"==typeof P)return P(M,V);switch(P){case"pathParamsChange":return!lr(M.url,V.url);case"pathParamsOrQueryParamsChange":return!lr(M.url,V.url)||!Mi(M.queryParams,V.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jr(M,V)||!Mi(M.queryParams,V.queryParams);default:return!jr(M,V)}}(Me,ge,ge.routeConfig.runGuardsAndResolvers);St?Q.canActivateChecks.push(new vs(H)):(ge.data=Me.data,ge._resolvedData=Me._resolvedData),ct(M,V,ge.component?Rt?Rt.children:null:P,H,Q),St&&Rt&&Rt.outlet&&Rt.outlet.isActivated&&Q.canDeactivateChecks.push(new ie(Rt.outlet.component,Me))}else Me&&Y(V,Rt,Q),Q.canActivateChecks.push(new vs(H)),ct(M,null,ge.component?Rt?Rt.children:null:P,H,Q)})(Me,ge[Me.value.outlet],P,H.concat([Me.value]),Q),delete ge[Me.value.outlet]}),Object.entries(ge).forEach(([Me,Rt])=>Y(Rt,P.getContext(Me),Q)),Q}function Y(M,V,P){const H=yi(M),Q=M.value;Object.entries(H).forEach(([ge,Me])=>{Y(Me,Q.component?V?V.children.getContext(ge):null:V,P)}),P.canDeactivateChecks.push(new ie(Q.component&&V&&V.outlet&&V.outlet.isActivated?V.outlet.component:null,Q))}function z(M){return"function"==typeof M}function Rs(M){return M instanceof er||"EmptyError"===M?.name}const Ki=Symbol("INITIAL_VALUE");function ni(){return(0,Ye.w)(M=>Vt(M.map(V=>V.pipe((0,De.q)(1),function ft(...M){const V=(0,ke.yG)(M);return(0,Qn.e)((P,H)=>{(V?ut(M,P,V):ut(M,P)).subscribe(H)})}(Ki)))).pipe((0,rt.U)(V=>{for(const P of V)if(!0!==P){if(P===Ki)return Ki;if(!1===P||P instanceof Xr)return P}return!0}),(0,It.h)(V=>V!==Ki),(0,De.q)(1)))}function Ro(M){return(0,Yt.z)((0,bt.b)(V=>{if(Pt(V))throw Gs(0,V)}),(0,rt.U)(V=>!0===V))}class La{constructor(V){this.segmentGroup=V||null}}class wi{constructor(V){this.urlTree=V}}function qs(M){return zt(new La(M))}function ao(M){return zt(new wi(M))}class pl{constructor(V,P){this.urlSerializer=V,this.urlTree=P}noMatchError(V){return new b.vHH(4002,!1)}lineralizeSegments(V,P){let H=[],Q=P.root;for(;;){if(H=H.concat(Q.segments),0===Q.numberOfChildren)return(0,Ze.of)(H);if(Q.numberOfChildren>1||!Q.children[tr])return zt(new b.vHH(4e3,!1));Q=Q.children[tr]}}applyRedirectCommands(V,P,H){return this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),V,H)}applyRedirectCreateUrlTree(V,P,H,Q){const ge=this.createSegmentGroup(V,P.root,H,Q);return new Xr(ge,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(V,P){const H={};return Object.entries(V).forEach(([Q,ge])=>{if("string"==typeof ge&&ge.startsWith(":")){const Rt=ge.substring(1);H[Q]=P[Rt]}else H[Q]=ge}),H}createSegmentGroup(V,P,H,Q){const ge=this.createSegments(V,P.segments,H,Q);let Me={};return Object.entries(P.children).forEach(([Rt,St])=>{Me[Rt]=this.createSegmentGroup(V,St,H,Q)}),new Bn(ge,Me)}createSegments(V,P,H,Q){return P.map(ge=>ge.path.startsWith(":")?this.findPosParam(V,ge,Q):this.findOrReturn(ge,H))}findPosParam(V,P,H){const Q=H[P.path.substring(1)];if(!Q)throw new b.vHH(4001,!1);return Q}findOrReturn(V,P){let H=0;for(const Q of P){if(Q.path===V.path)return P.splice(H),Q;H++}return V}}const Wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ta(M,V,P,H,Q){const ge=wa(M,V,P);return ge.matched?(H=function fo(M,V){return M.providers&&!M._injector&&(M._injector=(0,b.MMx)(M.providers,V,`Route: ${M.path}`)),M._injector??V}(V,H),function qr(M,V,P,H){const Q=V.canMatch;if(!Q||0===Q.length)return(0,Ze.of)(!0);const ge=Q.map(Me=>{const Rt=Pe(Me,M);return Wr(function bi(M){return M&&z(M.canMatch)}(Rt)?Rt.canMatch(V,P):M.runInContext(()=>Rt(V,P)))});return(0,Ze.of)(ge).pipe(ni(),Ro())}(H,V,P).pipe((0,rt.U)(Me=>!0===Me?ge:{...Wa}))):(0,Ze.of)(ge)}function wa(M,V,P){if(""===V.path)return"full"===V.pathMatch&&(M.hasChildren()||P.length>0)?{...Wa}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const Q=(V.matcher||vr)(P,M,V);if(!Q)return{...Wa};const ge={};Object.entries(Q.posParams??{}).forEach(([Rt,St])=>{ge[Rt]=St.path});const Me=Q.consumed.length>0?{...ge,...Q.consumed[Q.consumed.length-1].parameters}:ge;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:P.slice(Q.consumed.length),parameters:Me,positionalParamSegments:Q.posParams??{}}}function Os(M,V,P,H){return P.length>0&&function Rl(M,V,P){return P.some(H=>Ca(M,V,H)&&ys(H)!==tr)}(M,P,H)?{segmentGroup:new Bn(V,na(H,new Bn(P,M.children))),slicedSegments:[]}:0===P.length&&function ra(M,V,P){return P.some(H=>Ca(M,V,H))}(M,P,H)?{segmentGroup:new Bn(M.segments,Ua(M,0,P,H,M.children)),slicedSegments:P}:{segmentGroup:new Bn(M.segments,M.children),slicedSegments:P}}function Ua(M,V,P,H,Q){const ge={};for(const Me of H)if(Ca(M,P,Me)&&!Q[ys(Me)]){const Rt=new Bn([],{});ge[ys(Me)]=Rt}return{...Q,...ge}}function na(M,V){const P={};P[tr]=V;for(const H of M)if(""===H.path&&ys(H)!==tr){const Q=new Bn([],{});P[ys(H)]=Q}return P}function Ca(M,V,P){return(!(M.hasChildren()||V.length>0)||"full"!==P.pathMatch)&&""===P.path}class fa{constructor(V,P,H,Q,ge,Me,Rt){this.injector=V,this.configLoader=P,this.rootComponentType=H,this.config=Q,this.urlTree=ge,this.paramsInheritanceStrategy=Me,this.urlSerializer=Rt,this.allowRedirects=!0,this.applyRedirects=new pl(this.urlSerializer,this.urlTree)}noMatchError(V){return new b.vHH(4002,!1)}recognize(){const V=Os(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,V,tr).pipe(Cn(P=>{if(P instanceof wi)return this.allowRedirects=!1,this.urlTree=P.urlTree,this.match(P.urlTree);throw P instanceof La?this.noMatchError(P):P}),(0,rt.U)(P=>{const H=new Uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tr,this.rootComponentType,null,{}),Q=new Pi(H,P),ge=new Ui("",Q),Me=function _n(M,V,P=null,H=null){return dr(ur(M),V,P,H)}(H,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,ge.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(ge._root),{state:ge,tree:Me}}))}match(V){return this.processSegmentGroup(this.injector,this.config,V.root,tr).pipe(Cn(H=>{throw H instanceof La?this.noMatchError(H):H}))}inheritParamsAndData(V){const P=V.value,H=_s(P,this.paramsInheritanceStrategy);P.params=Object.freeze(H.params),P.data=Object.freeze(H.data),V.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(V,P,H,Q){return 0===H.segments.length&&H.hasChildren()?this.processChildren(V,P,H):this.processSegment(V,P,H,H.segments,Q,!0)}processChildren(V,P,H){const Q=[];for(const ge of Object.keys(H.children))"primary"===ge?Q.unshift(ge):Q.push(ge);return(0,A.D)(Q).pipe((0,pt.b)(ge=>{const Me=H.children[ge],Rt=function Ia(M,V){const P=M.filter(H=>ys(H)===V);return P.push(...M.filter(H=>ys(H)!==V)),P}(P,ge);return this.processSegmentGroup(V,Rt,Me,ge)}),function Zt(M,V){return(0,Qn.e)(function Er(M,V,P,H,Q){return(ge,Me)=>{let Rt=P,St=V,jn=0;ge.subscribe((0,Qt.x)(Me,Ar=>{const ts=jn++;St=Rt?M(St,Ar,ts):(Rt=!0,Ar),H&&Me.next(St)},Q&&(()=>{Rt&&Me.next(St),Me.complete()})))}}(M,V,arguments.length>=2,!0))}((ge,Me)=>(ge.push(...Me),ge)),Ce(null),function qn(M,V){const P=arguments.length>=2;return H=>H.pipe(M?(0,It.h)((Q,ge)=>M(Q,ge,H)):vt.y,pn(1),P?Ce(V):ve(()=>new er))}(),(0,$e.z)(ge=>{if(null===ge)return qs(H);const Me=de(ge);return function ds(M){M.sort((V,P)=>V.value.outlet===tr?-1:P.value.outlet===tr?1:V.value.outlet.localeCompare(P.value.outlet))}(Me),(0,Ze.of)(Me)}))}processSegment(V,P,H,Q,ge,Me){return(0,A.D)(P).pipe((0,pt.b)(Rt=>this.processSegmentAgainstRoute(Rt._injector??V,P,Rt,H,Q,ge,Me).pipe(Cn(St=>{if(St instanceof La)return(0,Ze.of)(null);throw St}))),He(Rt=>!!Rt),Cn(Rt=>{if(Rs(Rt))return function Ko(M,V,P){return 0===V.length&&!M.children[P]}(H,Q,ge)?(0,Ze.of)([]):qs(H);throw Rt}))}processSegmentAgainstRoute(V,P,H,Q,ge,Me,Rt){return function Aa(M,V,P,H){return!!(ys(M)===H||H!==tr&&Ca(V,P,M))&&("**"===M.path||wa(V,M,P).matched)}(H,Q,ge,Me)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(V,Q,H,ge,Me,Rt):Rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(V,Q,P,H,ge,Me):qs(Q):qs(Q)}expandSegmentAgainstRouteUsingRedirect(V,P,H,Q,ge,Me){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(V,H,Q,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(V,P,H,Q,ge,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(V,P,H,Q){const ge=this.applyRedirects.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?ao(ge):this.applyRedirects.lineralizeSegments(H,ge).pipe((0,$e.z)(Me=>{const Rt=new Bn(Me,{});return this.processSegment(V,P,Rt,Me,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(V,P,H,Q,ge,Me){const{matched:Rt,consumedSegments:St,remainingSegments:jn,positionalParamSegments:Ar}=wa(P,Q,ge);if(!Rt)return qs(P);const ts=this.applyRedirects.applyRedirectCommands(St,Q.redirectTo,Ar);return Q.redirectTo.startsWith("/")?ao(ts):this.applyRedirects.lineralizeSegments(Q,ts).pipe((0,$e.z)(Di=>this.processSegment(V,H,P,Di.concat(jn),Me,!1)))}matchSegmentAgainstRoute(V,P,H,Q,ge,Me){let Rt;if("**"===H.path){const St=Q.length>0?Jr(Q).parameters:{},jn=new Uo(Q,St,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oe(H),ys(H),H.component??H._loadedComponent??null,H,Ne(H));Rt=(0,Ze.of)({snapshot:jn,consumedSegments:[],remainingSegments:[]}),P.children={}}else Rt=ta(P,H,Q,V).pipe((0,rt.U)(({matched:St,consumedSegments:jn,remainingSegments:Ar,parameters:ts})=>St?{snapshot:new Uo(jn,ts,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oe(H),ys(H),H.component??H._loadedComponent??null,H,Ne(H)),consumedSegments:jn,remainingSegments:Ar}:null));return Rt.pipe((0,Ye.w)(St=>null===St?qs(P):this.getChildConfig(V=H._injector??V,H,Q).pipe((0,Ye.w)(({routes:jn})=>{const Ar=H._loadedInjector??V,{snapshot:ts,consumedSegments:Di,remainingSegments:No}=St,{segmentGroup:ya,slicedSegments:_l}=Os(P,Di,No,jn);if(0===_l.length&&ya.hasChildren())return this.processChildren(Ar,jn,ya).pipe((0,rt.U)(Ol=>null===Ol?null:[new Pi(ts,Ol)]));if(0===jn.length&&0===_l.length)return(0,Ze.of)([new Pi(ts,[])]);const yl=ys(H)===ge;return this.processSegment(Ar,jn,ya,_l,yl?tr:ge,!0).pipe((0,rt.U)(Ol=>[new Pi(ts,Ol)]))}))))}getChildConfig(V,P,H){return P.children?(0,Ze.of)({routes:P.children,injector:V}):P.loadChildren?void 0!==P._loadedRoutes?(0,Ze.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function Fa(M,V,P,H){const Q=V.canLoad;if(void 0===Q||0===Q.length)return(0,Ze.of)(!0);const ge=Q.map(Me=>{const Rt=Pe(Me,M);return Wr(function Oe(M){return M&&z(M.canLoad)}(Rt)?Rt.canLoad(V,P):M.runInContext(()=>Rt(V,P)))});return(0,Ze.of)(ge).pipe(ni(),Ro())}(V,P,H).pipe((0,$e.z)(Q=>Q?this.configLoader.loadChildren(V,P).pipe((0,bt.b)(ge=>{P._loadedRoutes=ge.routes,P._loadedInjector=ge.injector})):function Va(M){return zt(Vi(!1,3))}())):(0,Ze.of)({routes:[],injector:V})}}function F(M){const V=M.value.routeConfig;return V&&""===V.path}function de(M){const V=[],P=new Set;for(const H of M){if(!F(H)){V.push(H);continue}const Q=V.find(ge=>H.value.routeConfig===ge.value.routeConfig);void 0!==Q?(Q.children.push(...H.children),P.add(Q)):V.push(H)}for(const H of P){const Q=de(H.children);V.push(new Pi(H.value,Q))}return V.filter(H=>!P.has(H))}function oe(M){return M.data||{}}function Ne(M){return M.resolve||{}}function Ur(M){return"string"==typeof M.title||null===M.title}function zi(M){return(0,Ye.w)(V=>{const P=M(V);return P?(0,A.D)(P).pipe((0,rt.U)(()=>V)):(0,Ze.of)(V)})}const hi=new b.OlP("ROUTES");let ws=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(P){if(this.componentLoaders.get(P))return this.componentLoaders.get(P);if(P._loadedComponent)return(0,Ze.of)(P._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(P);const H=Wr(P.loadComponent()).pipe((0,rt.U)(Yo),(0,bt.b)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(P),P._loadedComponent=ge}),(0,Rn.x)(()=>{this.componentLoaders.delete(P)})),Q=new tt(H,()=>new je.x).pipe(kn());return this.componentLoaders.set(P,Q),Q}loadChildren(P,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,Ze.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const ge=function Bs(M,V,P,H){return Wr(M.loadChildren()).pipe((0,rt.U)(Yo),(0,$e.z)(Q=>Q instanceof b.YKP||Array.isArray(Q)?(0,Ze.of)(Q):(0,A.D)(V.compileModuleAsync(Q))),(0,rt.U)(Q=>{H&&H(M);let ge,Me,Rt=!1;return Array.isArray(Q)?(Me=Q,!0):(ge=Q.create(P).injector,Me=ge.get(hi,[],{optional:!0,self:!0}).flat()),{routes:Me.map(Wo),injector:ge}}))}(H,this.compiler,P,this.onLoadEndListener).pipe((0,Rn.x)(()=>{this.childrenLoaders.delete(H)})),Me=new tt(ge,()=>new je.x).pipe(kn());return this.childrenLoaders.set(H,Me),Me}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function Yo(M){return function Mo(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let lo=(()=>{class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je.x,this.transitionAbortSubject=new je.x,this.configLoader=(0,b.f3M)(ws),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Gi),this.rootContexts=(0,b.f3M)(Ls),this.inputBindingEnabled=null!==(0,b.f3M)(qi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ze.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Q=>this.events.next(new zs(Q)),this.configLoader.onLoadStartListener=Q=>this.events.next(new _o(Q))}complete(){this.transitions?.complete()}handleNavigationRequest(P){const H=++this.navigationId;this.transitions?.next({...this.transitions.value,...P,id:H})}setupNavigations(P,H,Q){return this.transitions=new Le.X({id:0,currentUrlTree:H,currentRawUrl:H,currentBrowserUrl:H,extractedUrl:P.urlHandlingStrategy.extract(H),urlAfterRedirects:P.urlHandlingStrategy.extract(H),rawUrl:H,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yr,restoredState:null,currentSnapshot:Q.snapshot,targetSnapshot:null,currentRouterState:Q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,It.h)(ge=>0!==ge.id),(0,rt.U)(ge=>({...ge,extractedUrl:P.urlHandlingStrategy.extract(ge.rawUrl)})),(0,Ye.w)(ge=>{this.currentTransition=ge;let Me=!1,Rt=!1;return(0,Ze.of)(ge).pipe((0,bt.b)(St=>{this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(St=>{const jn=St.currentBrowserUrl.toString(),Ar=!P.navigated||St.extractedUrl.toString()!==jn||jn!==St.currentUrlTree.toString();if(!Ar&&"reload"!==(St.extras.onSameUrlNavigation??P.onSameUrlNavigation)){const Di="";return this.events.next(new Go(St.id,this.urlSerializer.serialize(St.rawUrl),Di,0)),St.resolve(null),Ke.E}if(P.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,Ze.of)(St).pipe((0,Ye.w)(Di=>{const No=this.transitions?.getValue();return this.events.next(new Ys(Di.id,this.urlSerializer.serialize(Di.extractedUrl),Di.source,Di.restoredState)),No!==this.transitions?.getValue()?Ke.E:Promise.resolve(Di)}),function Mt(M,V,P,H,Q,ge){return(0,$e.z)(Me=>function rc(M,V,P,H,Q,ge,Me="emptyOnly"){return new fa(M,V,P,H,Q,Me,ge).recognize()}(M,V,P,H,Me.extractedUrl,Q,ge).pipe((0,rt.U)(({state:Rt,tree:St})=>({...Me,targetSnapshot:Rt,urlAfterRedirects:St}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,P.config,this.urlSerializer,P.paramsInheritanceStrategy),(0,bt.b)(Di=>{ge.targetSnapshot=Di.targetSnapshot,ge.urlAfterRedirects=Di.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Di.urlAfterRedirects};const No=new Qs(Di.id,this.urlSerializer.serialize(Di.extractedUrl),this.urlSerializer.serialize(Di.urlAfterRedirects),Di.targetSnapshot);this.events.next(No)}));if(Ar&&P.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:Di,extractedUrl:No,source:ya,restoredState:_l,extras:yl}=St,Ol=new Ys(Di,this.urlSerializer.serialize(No),ya,_l);this.events.next(Ol);const ko=Ts(0,this.rootComponentType).snapshot;return this.currentTransition=ge={...St,targetSnapshot:ko,urlAfterRedirects:No,extras:{...yl,skipLocationChange:!1,replaceUrl:!1}},(0,Ze.of)(ge)}{const Di="";return this.events.next(new Go(St.id,this.urlSerializer.serialize(St.extractedUrl),Di,1)),St.resolve(null),Ke.E}}),(0,bt.b)(St=>{const jn=new rs(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(jn)}),(0,rt.U)(St=>(this.currentTransition=ge={...St,guards:se(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},ge)),function Hi(M,V){return(0,$e.z)(P=>{const{targetSnapshot:H,currentSnapshot:Q,guards:{canActivateChecks:ge,canDeactivateChecks:Me}}=P;return 0===Me.length&&0===ge.length?(0,Ze.of)({...P,guardsResult:!0}):function us(M,V,P,H){return(0,A.D)(M).pipe((0,$e.z)(Q=>function Bo(M,V,P,H,Q){const ge=V&&V.routeConfig?V.routeConfig.canDeactivate:null;if(!ge||0===ge.length)return(0,Ze.of)(!0);const Me=ge.map(Rt=>{const St=is(V)??Q,jn=Pe(Rt,St);return Wr(function Qr(M){return M&&z(M.canDeactivate)}(jn)?jn.canDeactivate(M,V,P,H):St.runInContext(()=>jn(M,V,P,H))).pipe(He())});return(0,Ze.of)(Me).pipe(ni())}(Q.component,Q.route,P,V,H)),He(Q=>!0!==Q,!0))}(Me,H,Q,M).pipe((0,$e.z)(Rt=>Rt&&function ue(M){return"boolean"==typeof M}(Rt)?function ea(M,V,P,H){return(0,A.D)(V).pipe((0,pt.b)(Q=>ut(function Zo(M,V){return null!==M&&V&&V(new yo(M)),(0,Ze.of)(!0)}(Q.route.parent,H),function Eo(M,V){return null!==M&&V&&V(new xi(M)),(0,Ze.of)(!0)}(Q.route,H),function Pl(M,V,P){const H=V[V.length-1],ge=V.slice(0,V.length-1).reverse().map(Me=>function Re(M){const V=M.routeConfig?M.routeConfig.canActivateChild:null;return V&&0!==V.length?{node:M,guards:V}:null}(Me)).filter(Me=>null!==Me).map(Me=>Ot(()=>{const Rt=Me.guards.map(St=>{const jn=is(Me.node)??P,Ar=Pe(St,jn);return Wr(function Zn(M){return M&&z(M.canActivateChild)}(Ar)?Ar.canActivateChild(H,M):jn.runInContext(()=>Ar(H,M))).pipe(He())});return(0,Ze.of)(Rt).pipe(ni())}));return(0,Ze.of)(ge).pipe(ni())}(M,Q.path,P),function Ms(M,V,P){const H=V.routeConfig?V.routeConfig.canActivate:null;if(!H||0===H.length)return(0,Ze.of)(!0);const Q=H.map(ge=>Ot(()=>{const Me=is(V)??P,Rt=Pe(ge,Me);return Wr(function yn(M){return M&&z(M.canActivate)}(Rt)?Rt.canActivate(V,M):Me.runInContext(()=>Rt(V,M))).pipe(He())}));return(0,Ze.of)(Q).pipe(ni())}(M,Q.route,P))),He(Q=>!0!==Q,!0))}(H,ge,M,V):(0,Ze.of)(Rt)),(0,rt.U)(Rt=>({...P,guardsResult:Rt})))})}(this.environmentInjector,St=>this.events.next(St)),(0,bt.b)(St=>{if(ge.guardsResult=St.guardsResult,Pt(St.guardsResult))throw Gs(0,St.guardsResult);const jn=new ti(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(jn)}),(0,It.h)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",3),!1)),zi(St=>{if(St.guards.canActivateChecks.length)return(0,Ze.of)(St).pipe((0,bt.b)(jn=>{const Ar=new Ss(jn.id,this.urlSerializer.serialize(jn.extractedUrl),this.urlSerializer.serialize(jn.urlAfterRedirects),jn.targetSnapshot);this.events.next(Ar)}),(0,Ye.w)(jn=>{let Ar=!1;return(0,Ze.of)(jn).pipe(function Jt(M,V){return(0,$e.z)(P=>{const{targetSnapshot:H,guards:{canActivateChecks:Q}}=P;if(!Q.length)return(0,Ze.of)(P);let ge=0;return(0,A.D)(Q).pipe((0,pt.b)(Me=>function Kn(M,V,P,H){const Q=M.routeConfig,ge=M._resolve;return void 0!==Q?.title&&!Ur(Q)&&(ge[Fr]=Q.title),function li(M,V,P,H){const Q=function Fi(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===Q.length)return(0,Ze.of)({});const ge={};return(0,A.D)(Q).pipe((0,$e.z)(Me=>function Ri(M,V,P,H){const Q=is(V)??H,ge=Pe(M,Q);return Wr(ge.resolve?ge.resolve(V,P):Q.runInContext(()=>ge(V,P)))}(M[Me],V,P,H).pipe(He(),(0,bt.b)(Rt=>{ge[Me]=Rt}))),pn(1),function $n(M){return(0,rt.U)(()=>M)}(ge),Cn(Me=>Rs(Me)?Ke.E:zt(Me)))}(ge,M,V,H).pipe((0,rt.U)(Me=>(M._resolvedData=Me,M.data=_s(M,P).resolve,Q&&Ur(Q)&&(M.data[Fr]=Q.title),null)))}(Me.route,H,M,V)),(0,bt.b)(()=>ge++),pn(1),(0,$e.z)(Me=>ge===Q.length?(0,Ze.of)(P):Ke.E))})}(P.paramsInheritanceStrategy,this.environmentInjector),(0,bt.b)({next:()=>Ar=!0,complete:()=>{Ar||this.cancelNavigationTransition(jn,"",2)}}))}),(0,bt.b)(jn=>{const Ar=new Js(jn.id,this.urlSerializer.serialize(jn.extractedUrl),this.urlSerializer.serialize(jn.urlAfterRedirects),jn.targetSnapshot);this.events.next(Ar)}))}),zi(St=>{const jn=Ar=>{const ts=[];Ar.routeConfig?.loadComponent&&!Ar.routeConfig._loadedComponent&&ts.push(this.configLoader.loadComponent(Ar.routeConfig).pipe((0,bt.b)(Di=>{Ar.component=Di}),(0,rt.U)(()=>{})));for(const Di of Ar.children)ts.push(...jn(Di));return ts};return Vt(jn(St.targetSnapshot.root)).pipe(Ce(),(0,De.q)(1))}),zi(()=>this.afterPreactivation()),(0,rt.U)(St=>{const jn=function Is(M,V,P){const H=Wi(M,V._root,P?P._root:void 0);return new Vs(H,V)}(P.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=ge={...St,targetRouterState:jn},ge}),(0,bt.b)(()=>{this.events.next(new xs)}),((M,V,P,H)=>(0,rt.U)(Q=>(new ka(V,Q.targetRouterState,Q.currentRouterState,P,H).activate(M),Q)))(this.rootContexts,P.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,De.q)(1),(0,bt.b)({next:St=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),P.titleStrategy?.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{Me=!0}}),function An(M){return(0,Qn.e)((V,P)=>{(0,Ct.Xf)(M).subscribe((0,Qt.x)(P,()=>P.complete(),en.Z)),!P.closed&&V.subscribe(P)})}(this.transitionAbortSubject.pipe((0,bt.b)(St=>{throw St}))),(0,Rn.x)(()=>{Me||Rt||this.cancelNavigationTransition(ge,"",1),this.currentNavigation?.id===ge.id&&(this.currentNavigation=null)}),Cn(St=>{if(Rt=!0,no(St))this.events.next(new cs(ge.id,this.urlSerializer.serialize(ge.extractedUrl),St.message,St.cancellationCode)),function xo(M){return no(M)&&Pt(M.url)}(St)?this.events.next(new Fs(St.url)):ge.resolve(!1);else{this.events.next(new $r(ge.id,this.urlSerializer.serialize(ge.extractedUrl),St,ge.targetSnapshot??void 0));try{ge.resolve(P.errorHandler(St))}catch(jn){ge.reject(jn)}}return Ke.E}))}))}cancelNavigationTransition(P,H,Q){const ge=new cs(P.id,this.urlSerializer.serialize(P.extractedUrl),H,Q);this.events.next(ge),P.resolve(!1)}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function Yi(M){return M!==Yr}let ri=(()=>{class M{buildTitle(P){let H,Q=P.root;for(;void 0!==Q;)H=this.getResolvedTitleForRoute(Q)??H,Q=Q.children.find(ge=>ge.outlet===tr);return H}getResolvedTitleForRoute(P){return P.data[Fr]}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(pa)},providedIn:"root"})}return M})(),pa=(()=>{class M extends ri{constructor(P){super(),this.title=P}updateTitle(P){const H=this.buildTitle(P);void 0!==H&&this.title.setTitle(H)}static#e=this.\u0275fac=function(H){return new(H||M)(b.LFG(on.Dx))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),gl=(()=>{class M{static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(iu)},providedIn:"root"})}return M})();class rl{shouldDetach(V){return!1}store(V,P){}shouldAttach(V){return!1}retrieve(V){return null}shouldReuseRoute(V,P){return V.routeConfig===P.routeConfig}}let iu=(()=>{class M extends rl{static#e=this.\u0275fac=function(){let P;return function(Q){return(P||(P=b.n5z(M)))(Q||M)}}();static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();const Ic=new b.OlP("",{providedIn:"root",factory:()=>({})});let su=(()=>{class M{static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:function(){return(0,b.f3M)(wc)},providedIn:"root"})}return M})(),wc=(()=>{class M{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,H){return P}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();var il=function(M){return M[M.COMPLETE=0]="COMPLETE",M[M.FAILED=1]="FAILED",M[M.REDIRECTING=2]="REDIRECTING",M}(il||{});function ia(M,V){M.events.pipe((0,It.h)(P=>P instanceof Ti||P instanceof cs||P instanceof $r||P instanceof Go),(0,rt.U)(P=>P instanceof Ti||P instanceof Go?il.COMPLETE:P instanceof cs&&(0===P.code||1===P.code)?il.REDIRECTING:il.FAILED),(0,It.h)(P=>P!==il.REDIRECTING),(0,De.q)(1)).subscribe(()=>{V()})}function Ml(M){throw M}function jo(M,V,P){return V.parse("/")}const ml={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let K=(()=>{class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new je.x,this.options=(0,b.f3M)(Ic,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||Ml,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(su),this.routeReuseStrategy=(0,b.f3M)(gl),this.titleStrategy=(0,b.f3M)(ri),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.f3M)(hi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.f3M)(lo),this.urlSerializer=(0,b.f3M)(Gi),this.location=(0,b.f3M)(Pn.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(qi,{optional:!0}),this.eventsSubscription=new ln.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ts(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(P=>{this.lastSuccessfulId=P.id,this.currentPageId=this.browserPageId},P=>{this.console.warn(`Unhandled Navigation Error: ${P}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const P=this.navigationTransitions.events.subscribe(H=>{try{const{currentTransition:Q}=this.navigationTransitions;if(null===Q)return void(D(H)&&this._events.next(H));if(H instanceof Ys)Yi(Q.source)&&(this.browserUrlTree=Q.extractedUrl);else if(H instanceof Go)this.rawUrlTree=Q.rawUrl;else if(H instanceof Qs){if("eager"===this.urlUpdateStrategy){if(!Q.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl);this.setBrowserUrl(ge,Q)}this.browserUrlTree=Q.urlAfterRedirects}}else if(H instanceof xs)this.currentUrlTree=Q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl),this.routerState=Q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Q),this.browserUrlTree=Q.urlAfterRedirects);else if(H instanceof cs)0!==H.code&&1!==H.code&&(this.navigated=!0),(3===H.code||2===H.code)&&this.restoreHistory(Q);else if(H instanceof Fs){const ge=this.urlHandlingStrategy.merge(H.url,Q.currentRawUrl),Me={skipLocationChange:Q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yi(Q.source)};this.scheduleNavigation(ge,Yr,null,Me,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})}H instanceof $r&&this.restoreHistory(Q,!0),H instanceof Ti&&(this.navigated=!0),D(H)&&this._events.next(H)}catch(Q){this.navigationTransitions.transitionAbortSubject.next(Q)}});this.eventsSubscription.add(P)}resetRootComponentType(P){this.routerState.root.component=P,this.navigationTransitions.rootComponentType=P}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const P=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yr,P)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(P=>{const H="popstate"===P.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{this.navigateToSyncWithBrowser(P.url,H,P.state)},0)}))}navigateToSyncWithBrowser(P,H,Q){const ge={replaceUrl:!0},Me=Q?.navigationId?Q:null;if(Q){const St={...Q};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(ge.state=St)}const Rt=this.parseUrl(P);this.scheduleNavigation(Rt,H,Me,ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(P){this.config=P.map(Wo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(P,H={}){const{relativeTo:Q,queryParams:ge,fragment:Me,queryParamsHandling:Rt,preserveFragment:St}=H,jn=St?this.currentUrlTree.fragment:Me;let ts,Ar=null;switch(Rt){case"merge":Ar={...this.currentUrlTree.queryParams,...ge};break;case"preserve":Ar=this.currentUrlTree.queryParams;break;default:Ar=ge||null}null!==Ar&&(Ar=this.removeEmptyProps(Ar));try{ts=ur(Q?Q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof P[0]||!P[0].startsWith("/"))&&(P=[]),ts=this.currentUrlTree.root}return dr(ts,P,Ar,jn??null)}navigateByUrl(P,H={skipLocationChange:!1}){const Q=Pt(P)?P:this.parseUrl(P),ge=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(ge,Yr,null,H)}navigate(P,H={skipLocationChange:!1}){return function x(M){for(let V=0;V<M.length;V++)if(null==M[V])throw new b.vHH(4008,!1)}(P),this.navigateByUrl(this.createUrlTree(P,H),H)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){let H;try{H=this.urlSerializer.parse(P)}catch(Q){H=this.malformedUriErrorHandler(Q,this.urlSerializer,P)}return H}isActive(P,H){let Q;if(Q=!0===H?{...ml}:!1===H?{...Cc}:H,Pt(P))return Pr(this.currentUrlTree,P,Q);const ge=this.parseUrl(P);return Pr(this.currentUrlTree,ge,Q)}removeEmptyProps(P){return Object.keys(P).reduce((H,Q)=>{const ge=P[Q];return null!=ge&&(H[Q]=ge),H},{})}scheduleNavigation(P,H,Q,ge,Me){if(this.disposed)return Promise.resolve(!1);let Rt,St,jn;Me?(Rt=Me.resolve,St=Me.reject,jn=Me.promise):jn=new Promise((ts,Di)=>{Rt=ts,St=Di});const Ar=this.pendingTasks.add();return ia(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ar))}),this.navigationTransitions.handleNavigationRequest({source:H,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:P,extras:ge,resolve:Rt,reject:St,promise:jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jn.catch(ts=>Promise.reject(ts))}setBrowserUrl(P,H){const Q=this.urlSerializer.serialize(P);if(this.location.isCurrentPathEqualTo(Q)||H.extras.replaceUrl){const Me={...H.extras.state,...this.generateNgRouterState(H.id,this.browserPageId)};this.location.replaceState(Q,"",Me)}else{const ge={...H.extras.state,...this.generateNgRouterState(H.id,this.browserPageId+1)};this.location.go(Q,"",ge)}}restoreHistory(P,H=!1){if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-this.browserPageId;0!==ge?this.location.historyGo(ge):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ge&&(this.resetState(P),this.browserUrlTree=P.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){this.routerState=P.currentRouterState,this.currentUrlTree=P.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,P.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(P,H){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:H}:{navigationId:P}}static#e=this.\u0275fac=function(H){return new(H||M)};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function D(M){return!(M instanceof xs||M instanceof Fs)}let B=(()=>{class M{constructor(P,H,Q,ge,Me,Rt){this.router=P,this.route=H,this.tabIndexAttribute=Q,this.renderer=ge,this.el=Me,this.locationStrategy=Rt,this.href=null,this.commands=null,this.onChanges=new je.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const St=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===St||"area"===St,this.isAnchorElement?this.subscription=P.events.subscribe(jn=>{jn instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(P){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",P)}ngOnChanges(P){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(P){null!=P?(this.commands=Array.isArray(P)?P:[P],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(P,H,Q,ge,Me){return!!(null===this.urlTree||this.isAnchorElement&&(0!==P||H||Q||ge||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const P=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",P)}applyAttributeValue(P,H){const Q=this.renderer,ge=this.el.nativeElement;null!==H?Q.setAttribute(ge,P,H):Q.removeAttribute(ge,P)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(H){return new(H||M)(b.Y36(K),b.Y36(ms),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Pn.S$))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(H,Q){1&H&&b.NdJ("click",function(Me){return Q.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&H&&b.uIk("target",Q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]})}return M})(),X=(()=>{class M{get isActive(){return this._isActive}constructor(P,H,Q,ge,Me){this.router=P,this.element=H,this.renderer=Q,this.cdr=ge,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new b.vpe,this.routerEventsSubscription=P.events.subscribe(Rt=>{Rt instanceof Ti&&this.update()})}ngAfterContentInit(){(0,Ze.of)(this.links.changes,(0,Ze.of)(null)).pipe((0,nn.J)()).subscribe(P=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const P=[...this.links.toArray(),this.link].filter(H=>!!H).map(H=>H.onChanges);this.linkInputChangesSubscription=(0,A.D)(P).pipe((0,nn.J)()).subscribe(H=>{this._isActive!==this.isLinkActive(this.router)(H)&&this.update()})}set routerLinkActive(P){const H=Array.isArray(P)?P:P.split(" ");this.classes=H.filter(Q=>!!Q)}ngOnChanges(P){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const P=this.hasActiveLinks();this._isActive!==P&&(this._isActive=P,this.cdr.markForCheck(),this.classes.forEach(H=>{P?this.renderer.addClass(this.element.nativeElement,H):this.renderer.removeClass(this.element.nativeElement,H)}),P&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(P))})}isLinkActive(P){const H=function he(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Q=>!!Q.urlTree&&P.isActive(Q.urlTree,H)}hasActiveLinks(){const P=this.isLinkActive(this.router);return this.link&&P(this.link)||this.links.some(P)}static#e=this.\u0275fac=function(H){return new(H||M)(b.Y36(K),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(B,8))};static#t=this.\u0275dir=b.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(H,Q,ge){if(1&H&&b.Suo(ge,B,5),2&H){let Me;b.iGM(Me=b.CRH())&&(Q.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[b.TTD]})}return M})();class Ue{}let $t=(()=>{class M{constructor(P,H,Q,ge,Me){this.router=P,this.injector=Q,this.preloadingStrategy=ge,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,It.h)(P=>P instanceof Ti),(0,pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,H){const Q=[];for(const ge of H){ge.providers&&!ge._injector&&(ge._injector=(0,b.MMx)(ge.providers,P,`Route: ${ge.path}`));const Me=ge._injector??P,Rt=ge._loadedInjector??Me;(ge.loadChildren&&!ge._loadedRoutes&&void 0===ge.canLoad||ge.loadComponent&&!ge._loadedComponent)&&Q.push(this.preloadConfig(Me,ge)),(ge.children||ge._loadedRoutes)&&Q.push(this.processRoutes(Rt,ge.children??ge._loadedRoutes))}return(0,A.D)(Q).pipe((0,nn.J)())}preloadConfig(P,H){return this.preloadingStrategy.preload(H,()=>{let Q;Q=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(P,H):(0,Ze.of)(null);const ge=Q.pipe((0,$e.z)(Me=>null===Me?(0,Ze.of)(void 0):(H._loadedRoutes=Me.routes,H._loadedInjector=Me.injector,this.processRoutes(Me.injector??P,Me.routes))));if(H.loadComponent&&!H._loadedComponent){const Me=this.loader.loadComponent(H);return(0,A.D)([ge,Me]).pipe((0,nn.J)())}return ge})}static#e=this.\u0275fac=function(H){return new(H||M)(b.LFG(K),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(Ue),b.LFG(ws))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();const Nn=new b.OlP("");let Fn=(()=>{class M{constructor(P,H,Q,ge,Me={}){this.urlSerializer=P,this.transitions=H,this.viewportScroller=Q,this.zone=ge,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Me.scrollPositionRestoration=Me.scrollPositionRestoration||"disabled",Me.anchorScrolling=Me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof Ti?(this.lastId=P.id,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.urlAfterRedirects).fragment)):P instanceof Go&&0===P.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof $s&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,H){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $s(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(H){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})();function rr(M,V){return{\u0275kind:M,\u0275providers:V}}function Ws(){const M=(0,b.f3M)(b.zs3);return V=>{const P=M.get(b.z2F);if(V!==P.components[0])return;const H=M.get(K),Q=M.get(Cs);1===M.get(ga)&&H.initialNavigation(),M.get(wo,null,b.XFs.Optional)?.setUpPreloading(),M.get(Nn,null,b.XFs.Optional)?.init(),H.resetRootComponentType(P.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const Cs=new b.OlP("",{factory:()=>new je.x}),ga=new b.OlP("",{providedIn:"root",factory:()=>1}),wo=new b.OlP("");function Da(M){return rr(0,[{provide:wo,useExisting:$t},{provide:Ue,useExisting:M}])}const mn=new b.OlP("ROUTER_FORROOT_GUARD"),yr=[Pn.Ye,{provide:Gi,useClass:zr},K,Ls,{provide:ms,useFactory:function Jn(M){return M.routerState.root},deps:[K]},ws,[]];function Lr(){return new b.PXZ("Router",K)}let cr=(()=>{class M{constructor(P){}static forRoot(P,H){return{ngModule:M,providers:[yr,[],{provide:hi,multi:!0,useValue:P},{provide:mn,useFactory:ro,deps:[[K,new b.FiY,new b.tp0]]},{provide:Ic,useValue:H||{}},H?.useHash?{provide:Pn.S$,useClass:Pn.Do}:{provide:Pn.S$,useClass:Pn.b0},{provide:Nn,useFactory:()=>{const M=(0,b.f3M)(Pn.EM),V=(0,b.f3M)(b.R0b),P=(0,b.f3M)(Ic),H=(0,b.f3M)(lo),Q=(0,b.f3M)(Gi);return P.scrollOffset&&M.setOffset(P.scrollOffset),new Fn(Q,H,M,V,P)}},H?.preloadingStrategy?Da(H.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:Lr},H?.initialNavigation?Ai(H):[],H?.bindToComponentInputs?rr(8,[ai,{provide:qi,useExisting:ai}]).\u0275providers:[],[{provide:Ka,useFactory:Ws},{provide:b.tb,multi:!0,useExisting:Ka}]]}}static forChild(P){return{ngModule:M,providers:[{provide:hi,multi:!0,useValue:P}]}}static#e=this.\u0275fac=function(H){return new(H||M)(b.LFG(mn,8))};static#t=this.\u0275mod=b.oAB({type:M});static#n=this.\u0275inj=b.cJS({})}return M})();function ro(M){return"guarded"}function Ai(M){return["disabled"===M.initialNavigation?rr(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const V=(0,b.f3M)(K);return()=>{V.setUpLocationChangeListener()}}},{provide:ga,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?rr(2,[{provide:ga,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:V=>{const P=V.get(Pn.V_,Promise.resolve());return()=>P.then(()=>new Promise(H=>{const Q=V.get(K),ge=V.get(Cs);ia(Q,()=>{H(!0)}),V.get(lo).afterPreactivation=()=>(H(!0),ge.closed?(0,Ze.of)(void 0):ge),Q.initialNavigation()}))}}]).\u0275providers:[]]}const Ka=new b.OlP("")},534:(Xn,Lt,ne)=>{ne.d(Lt,{Jn:()=>Zr,qX:()=>Pr,rh:()=>ls,Xd:()=>as,Mq:()=>Br,C6:()=>Gi,ZF:()=>ei,KN:()=>ye});var b=ne(5861),_e=ne(4537),Fe=ne(7879),O=ne(9058);const A=(gt,dt)=>dt.some(Pt=>gt instanceof Pt);let Ze,Le;const Ve=new WeakMap,ke=new WeakMap,_t=new WeakMap,Qt=new WeakMap,At=new WeakMap;let Tn={get(gt,dt,Pt){if(gt instanceof IDBTransaction){if("done"===dt)return ke.get(gt);if("objectStoreNames"===dt)return gt.objectStoreNames||_t.get(gt);if("store"===dt)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return We(gt[dt])},set:(gt,dt,Pt)=>(gt[dt]=Pt,!0),has:(gt,dt)=>gt instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in gt};function nn(gt){return"function"==typeof gt?function er(gt){return gt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vt(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(gt)?function(...dt){return gt.apply(ut(this),dt),We(Ve.get(this))}:function(...dt){return We(gt.apply(ut(this),dt))}:function(dt,...Pt){const _n=gt.call(ut(this),dt,...Pt);return _t.set(_n,dt.sort?dt.sort():[dt]),We(_n)}}(gt):(gt instanceof IDBTransaction&&function Ut(gt){if(ke.has(gt))return;const dt=new Promise((Pt,_n)=>{const ur=()=>{gt.removeEventListener("complete",dr),gt.removeEventListener("error",Vn),gt.removeEventListener("abort",Vn)},dr=()=>{Pt(),ur()},Vn=()=>{_n(gt.error||new DOMException("AbortError","AbortError")),ur()};gt.addEventListener("complete",dr),gt.addEventListener("error",Vn),gt.addEventListener("abort",Vn)});ke.set(gt,dt)}(gt),A(gt,function ht(){return Ze||(Ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(gt,Tn):gt)}function We(gt){if(gt instanceof IDBRequest)return function Vt(gt){const dt=new Promise((Pt,_n)=>{const ur=()=>{gt.removeEventListener("success",dr),gt.removeEventListener("error",Vn)},dr=()=>{Pt(We(gt.result)),ur()},Vn=()=>{_n(gt.error),ur()};gt.addEventListener("success",dr),gt.addEventListener("error",Vn)});return dt.then(Pt=>{Pt instanceof IDBCursor&&Ve.set(Pt,gt)}).catch(()=>{}),At.set(dt,gt),dt}(gt);if(Qt.has(gt))return Qt.get(gt);const dt=nn(gt);return dt!==gt&&(Qt.set(gt,dt),At.set(dt,gt)),dt}const ut=gt=>At.get(gt),Yt=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],Ke=new Map;function ln(gt,dt){if(!(gt instanceof IDBDatabase)||dt in gt||"string"!=typeof dt)return;if(Ke.get(dt))return Ke.get(dt);const Pt=dt.replace(/FromIndex$/,""),_n=dt!==Pt,ur=zt.includes(Pt);if(!(Pt in(_n?IDBIndex:IDBObjectStore).prototype)||!ur&&!Yt.includes(Pt))return;const dr=function(){var Vn=(0,b.Z)(function*(mr,...Cr){const _i=this.transaction(mr,ur?"readwrite":"readonly");let _r=_i.store;return _n&&(_r=_r.index(Cr.shift())),(yield Promise.all([_r[Pt](...Cr),ur&&_i.done]))[0]});return function(Cr){return Vn.apply(this,arguments)}}();return Ke.set(dt,dr),dr}!function wn(gt){Tn=gt(Tn)}(gt=>({...gt,get:(dt,Pt,_n)=>ln(dt,Pt)||gt.get(dt,Pt,_n),has:(dt,Pt)=>!!ln(dt,Pt)||gt.has(dt,Pt)}));class Qn{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function kn(gt){const dt=gt.getComponent();return"VERSION"===dt?.type}(Pt)){const _n=Pt.getImmediate();return`${_n.library}/${_n.version}`}return null}).filter(Pt=>Pt).join(" ")}}const tt="@firebase/app",Pn=new Fe.Yd("@firebase/app"),vr="[DEFAULT]",ar={[tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Mi=new Map,Ei=new Map,Jr=new Map;function Wr(gt,dt){try{gt.container.addComponent(dt)}catch(Pt){Pn.debug(`Component ${dt.name} failed to register with FirebaseApp ${gt.name}`,Pt)}}function as(gt){const dt=gt.name;if(Jr.has(dt))return Pn.debug(`There were multiple attempts to register component ${dt}.`),!1;Jr.set(dt,gt);for(const Pt of Mi.values())Wr(Pt,gt);for(const Pt of Ei.values())Wr(Pt,gt);return!0}function Pr(gt,dt){const Pt=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),gt.container.getProvider(dt)}function ls(gt){return void 0!==gt.settings}const et=new O.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xr{constructor(dt,Pt,_n){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=_n,this.container.addComponent(new _e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw et.create("app-deleted",{appName:this._name})}}const Zr="10.12.4";function ei(gt,dt={}){let Pt=gt;"object"!=typeof dt&&(dt={name:dt});const _n=Object.assign({name:vr,automaticDataCollectionEnabled:!1},dt),ur=_n.name;if("string"!=typeof ur||!ur)throw et.create("bad-app-name",{appName:String(ur)});if(Pt||(Pt=(0,O.aH)()),!Pt)throw et.create("no-options");const dr=Mi.get(ur);if(dr){if((0,O.vZ)(Pt,dr.options)&&(0,O.vZ)(_n,dr.config))return dr;throw et.create("duplicate-app",{appName:ur})}const Vn=new _e.H0(ur);for(const Cr of Jr.values())Vn.addComponent(Cr);const mr=new Xr(Pt,_n,Vn);return Mi.set(ur,mr),mr}function Br(gt=vr){const dt=Mi.get(gt);if(!dt&&gt===vr&&(0,O.aH)())return ei();if(!dt)throw et.create("no-app",{appName:gt});return dt}function Gi(){return Array.from(Mi.values())}function ye(gt,dt,Pt){var _n;let ur=null!==(_n=ar[gt])&&void 0!==_n?_n:gt;Pt&&(ur+=`-${Pt}`);const dr=ur.match(/\s|\//),Vn=dt.match(/\s|\//);if(dr||Vn){const mr=[`Unable to register library "${ur}" with version "${dt}":`];return dr&&mr.push(`library name "${ur}" contains illegal characters (whitespace or "/")`),dr&&Vn&&mr.push("and"),Vn&&mr.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void Pn.warn(mr.join(" "))}as(new _e.wA(`${ur}-version`,()=>({library:ur,version:dt}),"VERSION"))}const Ee="firebase-heartbeat-database",Se=1,Nt="firebase-heartbeat-store";let tn=null;function Dn(){return tn||(tn=function Ct(gt,dt,{blocked:Pt,upgrade:_n,blocking:ur,terminated:dr}={}){const Vn=indexedDB.open(gt,dt),mr=We(Vn);return _n&&Vn.addEventListener("upgradeneeded",Cr=>{_n(We(Vn.result),Cr.oldVersion,Cr.newVersion,We(Vn.transaction),Cr)}),Pt&&Vn.addEventListener("blocked",Cr=>Pt(Cr.oldVersion,Cr.newVersion,Cr)),mr.then(Cr=>{dr&&Cr.addEventListener("close",()=>dr()),ur&&Cr.addEventListener("versionchange",_i=>ur(_i.oldVersion,_i.newVersion,_i))}).catch(()=>{}),mr}(Ee,Se,{upgrade:(gt,dt)=>{if(0===dt)try{gt.createObjectStore(Nt)}catch(Pt){console.warn(Pt)}}}).catch(gt=>{throw et.create("idb-open",{originalErrorMessage:gt.message})})),tn}function sr(){return(sr=(0,b.Z)(function*(gt){try{const Pt=(yield Dn()).transaction(Nt),_n=yield Pt.objectStore(Nt).get(lt(gt));return yield Pt.done,_n}catch(dt){if(dt instanceof O.ZR)Pn.warn(dt.message);else{const Pt=et.create("idb-get",{originalErrorMessage:dt?.message});Pn.warn(Pt.message)}}})).apply(this,arguments)}function gr(gt,dt){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,b.Z)(function*(gt,dt){try{const _n=(yield Dn()).transaction(Nt,"readwrite");yield _n.objectStore(Nt).put(dt,lt(gt)),yield _n.done}catch(Pt){if(Pt instanceof O.ZR)Pn.warn(Pt.message);else{const _n=et.create("idb-set",{originalErrorMessage:Pt?.message});Pn.warn(_n.message)}}})).apply(this,arguments)}function lt(gt){return`${gt.name}!${gt.options.appId}`}class Bt{constructor(dt){this.container=dt,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new fn(Pt),this._heartbeatsCachePromise=this._storage.read().then(_n=>(this._heartbeatsCache=_n,_n))}triggerHeartbeat(){var dt=this;return(0,b.Z)(function*(){var Pt,_n;const dr=dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vn=cn();if((null!=(null===(Pt=dt._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||(dt._heartbeatsCache=yield dt._heartbeatsCachePromise,null!=(null===(_n=dt._heartbeatsCache)||void 0===_n?void 0:_n.heartbeats)))&&dt._heartbeatsCache.lastSentHeartbeatDate!==Vn&&!dt._heartbeatsCache.heartbeats.some(mr=>mr.date===Vn))return dt._heartbeatsCache.heartbeats.push({date:Vn,agent:dr}),dt._heartbeatsCache.heartbeats=dt._heartbeatsCache.heartbeats.filter(mr=>{const Cr=new Date(mr.date).valueOf();return Date.now()-Cr<=2592e6}),dt._storage.overwrite(dt._heartbeatsCache)})()}getHeartbeatsHeader(){var dt=this;return(0,b.Z)(function*(){var Pt;if(null===dt._heartbeatsCache&&(yield dt._heartbeatsCachePromise),null==(null===(Pt=dt._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||0===dt._heartbeatsCache.heartbeats.length)return"";const _n=cn(),{heartbeatsToSend:ur,unsentEntries:dr}=function gn(gt,dt=1024){const Pt=[];let _n=gt.slice();for(const ur of gt){const dr=Pt.find(Vn=>Vn.agent===ur.agent);if(dr){if(dr.dates.push(ur.date),br(Pt)>dt){dr.dates.pop();break}}else if(Pt.push({agent:ur.agent,dates:[ur.date]}),br(Pt)>dt){Pt.pop();break}_n=_n.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:_n}}(dt._heartbeatsCache.heartbeats),Vn=(0,O.L)(JSON.stringify({version:2,heartbeats:ur}));return dt._heartbeatsCache.lastSentHeartbeatDate=_n,dr.length>0?(dt._heartbeatsCache.heartbeats=dr,yield dt._storage.overwrite(dt._heartbeatsCache)):(dt._heartbeatsCache.heartbeats=[],dt._storage.overwrite(dt._heartbeatsCache)),Vn})()}}function cn(){return(new Date).toISOString().substring(0,10)}class fn{constructor(dt){this.app=dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,O.hl)()&&(0,O.eu)().then(()=>!0).catch(()=>!1)})()}read(){var dt=this;return(0,b.Z)(function*(){if(yield dt._canUseIndexedDBPromise){const _n=yield function pr(gt){return sr.apply(this,arguments)}(dt.app);return _n?.heartbeats?_n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(dt){var Pt=this;return(0,b.Z)(function*(){var _n;if(yield Pt._canUseIndexedDBPromise){const dr=yield Pt.read();return gr(Pt.app,{lastSentHeartbeatDate:null!==(_n=dt.lastSentHeartbeatDate)&&void 0!==_n?_n:dr.lastSentHeartbeatDate,heartbeats:dt.heartbeats})}})()}add(dt){var Pt=this;return(0,b.Z)(function*(){var _n;if(yield Pt._canUseIndexedDBPromise){const dr=yield Pt.read();return gr(Pt.app,{lastSentHeartbeatDate:null!==(_n=dt.lastSentHeartbeatDate)&&void 0!==_n?_n:dr.lastSentHeartbeatDate,heartbeats:[...dr.heartbeats,...dt.heartbeats]})}})()}}function br(gt){return(0,O.L)(JSON.stringify({version:2,heartbeats:gt})).length}!function On(gt){as(new _e.wA("platform-logger",dt=>new Qn(dt),"PRIVATE")),as(new _e.wA("heartbeat",dt=>new Bt(dt),"PRIVATE")),ye(tt,"0.10.7",gt),ye(tt,"0.10.7","esm2017"),ye("fire-js","")}("")},4537:(Xn,Lt,ne)=>{ne.d(Lt,{H0:()=>ht,wA:()=>Fe});var b=ne(5861),_e=ne(9058);class Fe{constructor(Ve,ke,_t){this.name=Ve,this.instanceFactory=ke,this.type=_t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ve){return this.instantiationMode=Ve,this}setMultipleInstances(Ve){return this.multipleInstances=Ve,this}setServiceProps(Ve){return this.serviceProps=Ve,this}setInstanceCreatedCallback(Ve){return this.onInstanceCreated=Ve,this}}const O="[DEFAULT]";class A{constructor(Ve,ke){this.name=Ve,this.container=ke,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ve){const ke=this.normalizeInstanceIdentifier(Ve);if(!this.instancesDeferred.has(ke)){const _t=new _e.BH;if(this.instancesDeferred.set(ke,_t),this.isInitialized(ke)||this.shouldAutoInitialize())try{const Qt=this.getOrInitializeService({instanceIdentifier:ke});Qt&&_t.resolve(Qt)}catch{}}return this.instancesDeferred.get(ke).promise}getImmediate(Ve){var ke;const _t=this.normalizeInstanceIdentifier(Ve?.identifier),Qt=null!==(ke=Ve?.optional)&&void 0!==ke&&ke;if(!this.isInitialized(_t)&&!this.shouldAutoInitialize()){if(Qt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_t})}catch(At){if(Qt)return null;throw At}}getComponent(){return this.component}setComponent(Ve){if(Ve.name!==this.name)throw Error(`Mismatching Component ${Ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ve,this.shouldAutoInitialize()){if(function Le(vt){return"EAGER"===vt.instantiationMode}(Ve))try{this.getOrInitializeService({instanceIdentifier:O})}catch{}for(const[ke,_t]of this.instancesDeferred.entries()){const Qt=this.normalizeInstanceIdentifier(ke);try{const At=this.getOrInitializeService({instanceIdentifier:Qt});_t.resolve(At)}catch{}}}}clearInstance(Ve=O){this.instancesDeferred.delete(Ve),this.instancesOptions.delete(Ve),this.instances.delete(Ve)}delete(){var Ve=this;return(0,b.Z)(function*(){const ke=Array.from(Ve.instances.values());yield Promise.all([...ke.filter(_t=>"INTERNAL"in _t).map(_t=>_t.INTERNAL.delete()),...ke.filter(_t=>"_delete"in _t).map(_t=>_t._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ve=O){return this.instances.has(Ve)}getOptions(Ve=O){return this.instancesOptions.get(Ve)||{}}initialize(Ve={}){const{options:ke={}}=Ve,_t=this.normalizeInstanceIdentifier(Ve.instanceIdentifier);if(this.isInitialized(_t))throw Error(`${this.name}(${_t}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qt=this.getOrInitializeService({instanceIdentifier:_t,options:ke});for(const[At,Vt]of this.instancesDeferred.entries())_t===this.normalizeInstanceIdentifier(At)&&Vt.resolve(Qt);return Qt}onInit(Ve,ke){var _t;const Qt=this.normalizeInstanceIdentifier(ke),At=null!==(_t=this.onInitCallbacks.get(Qt))&&void 0!==_t?_t:new Set;At.add(Ve),this.onInitCallbacks.set(Qt,At);const Vt=this.instances.get(Qt);return Vt&&Ve(Vt,Qt),()=>{At.delete(Ve)}}invokeOnInitCallbacks(Ve,ke){const _t=this.onInitCallbacks.get(ke);if(_t)for(const Qt of _t)try{Qt(Ve,ke)}catch{}}getOrInitializeService({instanceIdentifier:Ve,options:ke={}}){let _t=this.instances.get(Ve);if(!_t&&this.component&&(_t=this.component.instanceFactory(this.container,{instanceIdentifier:(vt=Ve,vt===O?void 0:vt),options:ke}),this.instances.set(Ve,_t),this.instancesOptions.set(Ve,ke),this.invokeOnInitCallbacks(_t,Ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ve,_t)}catch{}var vt;return _t||null}normalizeInstanceIdentifier(Ve=O){return this.component?this.component.multipleInstances?Ve:O:Ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ht{constructor(Ve){this.name=Ve,this.providers=new Map}addComponent(Ve){const ke=this.getProvider(Ve.name);if(ke.isComponentSet())throw new Error(`Component ${Ve.name} has already been registered with ${this.name}`);ke.setComponent(Ve)}addOrOverwriteComponent(Ve){this.getProvider(Ve.name).isComponentSet()&&this.providers.delete(Ve.name),this.addComponent(Ve)}getProvider(Ve){if(this.providers.has(Ve))return this.providers.get(Ve);const ke=new A(Ve,this);return this.providers.set(Ve,ke),ke}getProviders(){return Array.from(this.providers.values())}}},7879:(Xn,Lt,ne)=>{ne.d(Lt,{Yd:()=>Le,in:()=>_e});const b=[];var _e=function(Ve){return Ve[Ve.DEBUG=0]="DEBUG",Ve[Ve.VERBOSE=1]="VERBOSE",Ve[Ve.INFO=2]="INFO",Ve[Ve.WARN=3]="WARN",Ve[Ve.ERROR=4]="ERROR",Ve[Ve.SILENT=5]="SILENT",Ve}(_e||{});const Fe={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},O=_e.INFO,A={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Ze=(Ve,ke,..._t)=>{if(ke<Ve.logLevel)return;const Qt=(new Date).toISOString(),At=A[ke];if(!At)throw new Error(`Attempted to log a message with an invalid logType (value: ${ke})`);console[At](`[${Qt}]  ${Ve.name}:`,..._t)};class Le{constructor(ke){this.name=ke,this._logLevel=O,this._logHandler=Ze,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ke){if(!(ke in _e))throw new TypeError(`Invalid value "${ke}" assigned to \`logLevel\``);this._logLevel=ke}setLogLevel(ke){this._logLevel="string"==typeof ke?Fe[ke]:ke}get logHandler(){return this._logHandler}set logHandler(ke){if("function"!=typeof ke)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ke}get userLogHandler(){return this._userLogHandler}set userLogHandler(ke){this._userLogHandler=ke}debug(...ke){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...ke),this._logHandler(this,_e.DEBUG,...ke)}log(...ke){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...ke),this._logHandler(this,_e.VERBOSE,...ke)}info(...ke){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...ke),this._logHandler(this,_e.INFO,...ke)}warn(...ke){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...ke),this._logHandler(this,_e.WARN,...ke)}error(...ke){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...ke),this._logHandler(this,_e.ERROR,...ke)}}},8077:(Xn,Lt,ne)=>{function b(l){return l+.5|0}ne.d(Lt,{kL:()=>Oc,zX:()=>Gh});const _e=(l,a,s)=>Math.max(Math.min(l,s),a);function Fe(l){return _e(b(2.55*l),0,255)}function A(l){return _e(b(255*l),0,255)}function Ze(l){return _e(b(l/2.55)/100,0,1)}function Le(l){return _e(b(100*l),0,100)}const ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vt=[..."0123456789ABCDEF"],Ve=l=>vt[15&l],ke=l=>vt[(240&l)>>4]+vt[15&l],_t=l=>(240&l)>>4==(15&l);const Tn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wn(l,a,s){const u=a*Math.min(s,1-s),h=(g,v=(g+l/30)%12)=>s-u*Math.max(Math.min(v-3,9-v,1),-1);return[h(0),h(8),h(4)]}function er(l,a,s){const u=(h,g=(h+l/60)%6)=>s-s*a*Math.max(Math.min(g,4-g,1),0);return[u(5),u(3),u(1)]}function nn(l,a,s){const u=wn(l,1,.5);let h;for(a+s>1&&(h=1/(a+s),a*=h,s*=h),h=0;h<3;h++)u[h]*=1-a-s,u[h]+=a;return u}function ut(l){const s=l.r/255,u=l.g/255,h=l.b/255,g=Math.max(s,u,h),v=Math.min(s,u,h),I=(g+v)/2;let S,U,Z;return g!==v&&(Z=g-v,U=I>.5?Z/(2-g-v):Z/(g+v),S=function We(l,a,s,u,h){return l===h?(a-s)/u+(a<s?6:0):a===h?(s-l)/u+2:(l-a)/u+4}(s,u,h,Z,g),S=60*S+.5),[0|S,U||0,I]}function Ct(l,a,s,u){return(Array.isArray(a)?l(a[0],a[1],a[2]):l(a,s,u)).map(A)}function Ot(l,a,s){return Ct(wn,l,a,s)}function Ke(l){return(l%360+360)%360}const tt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},je={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let rt;const De=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,$e=l=>l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055,Ce=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function pe(l,a,s){if(l){let u=ut(l);u[a]=Math.max(0,Math.min(u[a]+u[a]*s,0===a?360:1)),u=Ot(u),l.r=u[0],l.g=u[1],l.b=u[2]}}function He(l,a){return l&&Object.assign(a||{},l)}function pt(l){var a={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(a={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(a.a=A(l[3]))):(a=He(l,{r:0,g:0,b:0,a:1})).a=A(a.a),a}function bt(l){return"r"===l.charAt(0)?function ft(l){const a=De.exec(l);let u,h,g,s=255;if(a){if(a[7]!==u){const v=+a[7];s=a[8]?Fe(v):_e(255*v,0,255)}return u=+a[1],h=+a[3],g=+a[5],u=255&(a[2]?Fe(u):_e(u,0,255)),h=255&(a[4]?Fe(h):_e(h,0,255)),g=255&(a[6]?Fe(g):_e(g,0,255)),{r:u,g:h,b:g,a:s}}}(l):function ln(l){const a=Tn.exec(l);let u,s=255;if(!a)return;a[5]!==u&&(s=a[6]?Fe(+a[5]):A(+a[5]));const h=Ke(+a[2]),g=+a[3]/100,v=+a[4]/100;return u="hwb"===a[1]?function Yt(l,a,s){return Ct(nn,l,a,s)}(h,g,v):"hsv"===a[1]?function zt(l,a,s){return Ct(er,l,a,s)}(h,g,v):Ot(h,g,v),{r:u[0],g:u[1],b:u[2],a:s}}(l)}class Cn{constructor(a){if(a instanceof Cn)return a;const s=typeof a;let u;"object"===s?u=pt(a):"string"===s&&(u=function At(l){var s,a=l.length;return"#"===l[0]&&(4===a||5===a?s={r:255&17*ht[l[1]],g:255&17*ht[l[2]],b:255&17*ht[l[3]],a:5===a?17*ht[l[4]]:255}:(7===a||9===a)&&(s={r:ht[l[1]]<<4|ht[l[2]],g:ht[l[3]]<<4|ht[l[4]],b:ht[l[5]]<<4|ht[l[6]],a:9===a?ht[l[7]]<<4|ht[l[8]]:255})),s}(a)||function Ye(l){rt||(rt=function Pn(){const l={},a=Object.keys(je),s=Object.keys(tt);let u,h,g,v,I;for(u=0;u<a.length;u++){for(v=I=a[u],h=0;h<s.length;h++)g=s[h],I=I.replace(g,tt[g]);g=parseInt(je[v],16),l[I]=[g>>16&255,g>>8&255,255&g]}return l}(),rt.transparent=[0,0,0,0]);const a=rt[l.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:4===a.length?a[3]:255}}(a)||bt(a)),this._rgb=u,this._valid=!!u}get valid(){return this._valid}get rgb(){var a=He(this._rgb);return a&&(a.a=Ze(a.a)),a}set rgb(a){this._rgb=pt(a)}rgbString(){return this._valid?function It(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${Ze(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ut(l){var a=(l=>_t(l.r)&&_t(l.g)&&_t(l.b)&&_t(l.a))(l)?Ve:ke;return l?"#"+a(l.r)+a(l.g)+a(l.b)+((l,a)=>l<255?a(l):"")(l.a,a):void 0}(this._rgb):void 0}hslString(){return this._valid?function kn(l){if(!l)return;const a=ut(l),s=a[0],u=Le(a[1]),h=Le(a[2]);return l.a<255?`hsla(${s}, ${u}%, ${h}%, ${Ze(l.a)})`:`hsl(${s}, ${u}%, ${h}%)`}(this._rgb):void 0}mix(a,s){if(a){const u=this.rgb,h=a.rgb;let g;const v=s===g?.5:s,I=2*v-1,S=u.a-h.a,U=((I*S==-1?I:(I+S)/(1+I*S))+1)/2;g=1-U,u.r=255&U*u.r+g*h.r+.5,u.g=255&U*u.g+g*h.g+.5,u.b=255&U*u.b+g*h.b+.5,u.a=v*u.a+(1-v)*h.a,this.rgb=u}return this}interpolate(a,s){return a&&(this._rgb=function ve(l,a,s){const u=Ce(Ze(l.r)),h=Ce(Ze(l.g)),g=Ce(Ze(l.b));return{r:A($e(u+s*(Ce(Ze(a.r))-u))),g:A($e(h+s*(Ce(Ze(a.g))-h))),b:A($e(g+s*(Ce(Ze(a.b))-g))),a:l.a+s*(a.a-l.a)}}(this._rgb,a._rgb,s)),this}clone(){return new Cn(this.rgb)}alpha(a){return this._rgb.a=A(a),this}clearer(a){return this._rgb.a*=1-a,this}greyscale(){const a=this._rgb,s=b(.3*a.r+.59*a.g+.11*a.b);return a.r=a.g=a.b=s,this}opaquer(a){return this._rgb.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return pe(this._rgb,2,a),this}darken(a){return pe(this._rgb,2,-a),this}saturate(a){return pe(this._rgb,1,a),this}desaturate(a){return pe(this._rgb,1,-a),this}rotate(a){return function Qn(l,a){var s=ut(l);s[0]=Ke(s[0]+a),s=Ot(s),l.r=s[0],l.g=s[1],l.b=s[2]}(this._rgb,a),this}}function Zt(){}const pn=(()=>{let l=0;return()=>l++})();function qn(l){return null===l||typeof l>"u"}function $n(l){if(Array.isArray&&Array.isArray(l))return!0;const a=Object.prototype.toString.call(l);return"[object"===a.slice(0,7)&&"Array]"===a.slice(-6)}function Rn(l){return null!==l&&"[object Object]"===Object.prototype.toString.call(l)}function en(l){return("number"==typeof l||l instanceof Number)&&isFinite(+l)}function An(l,a){return en(l)?l:a}function on(l,a){return typeof l>"u"?a:l}const Fr=(l,a)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100*a:+l;function jt(l,a,s){if(l&&"function"==typeof l.call)return l.apply(s,a)}function fr(l,a,s,u){let h,g,v;if($n(l))if(g=l.length,u)for(h=g-1;h>=0;h--)a.call(s,l[h],h);else for(h=0;h<g;h++)a.call(s,l[h],h);else if(Rn(l))for(v=Object.keys(l),g=v.length,h=0;h<g;h++)a.call(s,l[v[h]],v[h])}function vr(l,a){let s,u,h,g;if(!l||!a||l.length!==a.length)return!1;for(s=0,u=l.length;s<u;++s)if(h=l[s],g=a[s],h.datasetIndex!==g.datasetIndex||h.index!==g.index)return!1;return!0}function ar(l){if($n(l))return l.map(ar);if(Rn(l)){const a=Object.create(null),s=Object.keys(l),u=s.length;let h=0;for(;h<u;++h)a[s[h]]=ar(l[s[h]]);return a}return l}function Mi(l){return-1===["__proto__","prototype","constructor"].indexOf(l)}function Ei(l,a,s,u){if(!Mi(l))return;const h=a[l],g=s[l];Rn(h)&&Rn(g)?Jr(h,g,u):a[l]=ar(g)}function Jr(l,a,s){const u=$n(a)?a:[a],h=u.length;if(!Rn(l))return l;const g=(s=s||{}).merger||Ei;let v;for(let I=0;I<h;++I){if(v=u[I],!Rn(v))continue;const S=Object.keys(v);for(let U=0,Z=S.length;U<Z;++U)g(S[U],l,v,s)}return l}function Wr(l,a){return Jr(l,a,{merger:Oi})}function Oi(l,a,s){if(!Mi(l))return;const u=a[l],h=s[l];Rn(u)&&Rn(h)?Wr(u,h):Object.prototype.hasOwnProperty.call(a,l)||(a[l]=ar(h))}const Pr={"":l=>l,x:l=>l.x,y:l=>l.y};function ls(l,a){return(Pr[a]||(Pr[a]=function Hn(l){const a=function so(l){const a=l.split("."),s=[];let u="";for(const h of a)u+=h,u.endsWith("\\")?u=u.slice(0,-1)+".":(s.push(u),u="");return s}(l);return s=>{for(const u of a){if(""===u)break;s=s&&s[u]}return s}}(a)))(l)}function ns(l){return l.charAt(0).toUpperCase()+l.slice(1)}const oi=l=>typeof l<"u",et=l=>"function"==typeof l,Xr=(l,a)=>{if(l.size!==a.size)return!1;for(const s of l)if(!a.has(s))return!1;return!0},Zr=Math.PI,ei=2*Zr,lr=ei+Zr,Br=Number.POSITIVE_INFINITY,Gi=Zr/180,zr=Zr/2,Ni=Zr/4,ye=2*Zr/3,ce=Math.log10,ae=Math.sign;function Ee(l,a,s){return Math.abs(l-a)<s}function Se(l){const a=Math.round(l);l=Ee(l,a,l/1e3)?a:l;const s=Math.pow(10,Math.floor(ce(l))),u=l/s;return(u<=1?1:u<=2?2:u<=5?5:10)*s}function tn(l){return!isNaN(parseFloat(l))&&isFinite(l)}function pr(l,a,s){let u,h,g;for(u=0,h=l.length;u<h;u++)g=l[u][s],isNaN(g)||(a.min=Math.min(a.min,g),a.max=Math.max(a.max,g))}function sr(l){return l*(Zr/180)}function gr(l){return l*(180/Zr)}function Mr(l){if(!en(l))return;let a=1,s=0;for(;Math.round(l*a)/a!==l;)a*=10,s++;return s}function lt(l,a){const s=a.x-l.x,u=a.y-l.y,h=Math.sqrt(s*s+u*u);let g=Math.atan2(u,s);return g<-.5*Zr&&(g+=ei),{angle:g,distance:h}}function ze(l,a){return Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2))}function Ge(l,a){return(l-a+lr)%ei-Zr}function Bt(l){return(l%ei+ei)%ei}function cn(l,a,s,u){const h=Bt(l),g=Bt(a),v=Bt(s),I=Bt(g-h),S=Bt(v-h),U=Bt(h-g),Z=Bt(h-v);return h===g||h===v||u&&g===v||I>S&&U<Z}function gn(l,a,s){return Math.max(a,Math.min(s,l))}function br(l,a,s,u=1e-6){return l>=Math.min(a,s)-u&&l<=Math.max(a,s)+u}function On(l,a,s){s=s||(v=>l[v]<a);let g,u=l.length-1,h=0;for(;u-h>1;)g=h+u>>1,s(g)?h=g:u=g;return{lo:h,hi:u}}const gt=(l,a,s,u)=>On(l,s,u?h=>{const g=l[h][a];return g<s||g===s&&l[h+1][a]===s}:h=>l[h][a]<s),dt=(l,a,s)=>On(l,s,u=>l[u][a]>=s),_n=["push","pop","shift","splice","unshift"];function dr(l,a){const s=l._chartjs;if(!s)return;const u=s.listeners,h=u.indexOf(a);-1!==h&&u.splice(h,1),!(u.length>0)&&(_n.forEach(g=>{delete l[g]}),delete l._chartjs)}function Vn(l){const a=new Set(l);return a.size===l.length?l:Array.from(a)}const Cr=typeof window>"u"?function(l){return l()}:window.requestAnimationFrame;function _i(l,a){let s=[],u=!1;return function(...h){s=h,u||(u=!0,Cr.call(window,()=>{u=!1,l.apply(a,s)}))}}const si=l=>"start"===l?"left":"end"===l?"right":"center",di=(l,a,s)=>"start"===l?a:"end"===l?s:(a+s)/2;function gs(l,a,s){const u=a.length;let h=0,g=u;if(l._sorted){const{iScale:v,_parsed:I}=l,S=v.axis,{min:U,max:Z,minDefined:le,maxDefined:Te}=v.getUserBounds();le&&(h=gn(Math.min(gt(I,S,U).lo,s?u:gt(a,S,v.getPixelForValue(U)).lo),0,u-1)),g=Te?gn(Math.max(gt(I,v.axis,Z,!0).hi+1,s?0:gt(a,S,v.getPixelForValue(Z),!0).hi+1),h,u)-h:u-h}return{start:h,count:g}}function Ir(l){const{xScale:a,yScale:s,_scaleRanges:u}=l,h={xmin:a.min,xmax:a.max,ymin:s.min,ymax:s.max};if(!u)return l._scaleRanges=h,!0;const g=u.xmin!==a.min||u.xmax!==a.max||u.ymin!==s.min||u.ymax!==s.max;return Object.assign(u,h),g}const Mn=l=>0===l||1===l,rn=(l,a,s)=>-Math.pow(2,10*(l-=1))*Math.sin((l-a)*ei/s),Un=(l,a,s)=>Math.pow(2,-10*l)*Math.sin((l-a)*ei/s)+1,Wn={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>1-Math.cos(l*zr),easeOutSine:l=>Math.sin(l*zr),easeInOutSine:l=>-.5*(Math.cos(Zr*l)-1),easeInExpo:l=>0===l?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>1===l?1:1-Math.pow(2,-10*l),easeInOutExpo:l=>Mn(l)?l:l<.5?.5*Math.pow(2,10*(2*l-1)):.5*(2-Math.pow(2,-10*(2*l-1))),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>Mn(l)?l:rn(l,.075,.3),easeOutElastic:l=>Mn(l)?l:Un(l,.075,.3),easeInOutElastic:l=>Mn(l)?l:l<.5?.5*rn(2*l,.1125,.45):.5+.5*Un(2*l-1,.1125,.45),easeInBack:l=>l*l*(2.70158*l-1.70158),easeOutBack:l=>(l-=1)*l*(2.70158*l+1.70158)+1,easeInOutBack(l){let a=1.70158;return(l/=.5)<1?l*l*((1+(a*=1.525))*l-a)*.5:.5*((l-=2)*l*((1+(a*=1.525))*l+a)+2)},easeInBounce:l=>1-Wn.easeOutBounce(1-l),easeOutBounce:l=>l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375,easeInOutBounce:l=>l<.5?.5*Wn.easeInBounce(2*l):.5*Wn.easeOutBounce(2*l-1)+.5};function Or(l){if(l&&"object"==typeof l){const a=l.toString();return"[object CanvasPattern]"===a||"[object CanvasGradient]"===a}return!1}function ki(l){return Or(l)?l:new Cn(l)}function Vr(l){return Or(l)?l:new Cn(l).saturate(.5).darken(.1).hexString()}const Yr=["x","y","borderWidth","radius","tension"],Ji=["color","borderColor","backgroundColor"],cs=new Map;function $r(l,a,s){return function Go(l,a){a=a||{};const s=l+JSON.stringify(a);let u=cs.get(s);return u||(u=new Intl.NumberFormat(l,a),cs.set(s,u)),u}(a,s).format(l)}const Qs={values:l=>$n(l)?l:""+l,numeric(l,a,s){if(0===l)return"0";const u=this.chart.options.locale;let h,g=l;if(s.length>1){const U=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(U<1e-4||U>1e15)&&(h="scientific"),g=function rs(l,a){let s=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(s)>=1&&l!==Math.floor(l)&&(s=l-Math.floor(l)),s}(l,s)}const v=ce(Math.abs(g)),I=isNaN(v)?1:Math.max(Math.min(-1*Math.floor(v),20),0),S={notation:h,minimumFractionDigits:I,maximumFractionDigits:I};return Object.assign(S,this.options.ticks.format),$r(l,u,S)},logarithmic(l,a,s){if(0===l)return"0";const u=s[a].significand||l/Math.pow(10,Math.floor(ce(l)));return[1,2,3,5,10,15].includes(u)||a>.8*s.length?Qs.numeric.call(this,l,a,s):""}};var ti={formatters:Qs};const Js=Object.create(null),_o=Object.create(null);function zs(l,a){if(!a)return l;const s=a.split(".");for(let u=0,h=s.length;u<h;++u){const g=s[u];l=l[g]||(l[g]=Object.create(null))}return l}function yo(l,a,s){return"string"==typeof a?Jr(zs(l,a),s):Jr(zs(l,""),a)}class Xs{constructor(a,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=u=>u.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(u,h)=>Vr(h.backgroundColor),this.hoverBorderColor=(u,h)=>Vr(h.borderColor),this.hoverColor=(u,h)=>Vr(h.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a),this.apply(s)}set(a,s){return yo(this,a,s)}get(a){return zs(this,a)}describe(a,s){return yo(_o,a,s)}override(a,s){return yo(Js,a,s)}route(a,s,u,h){const g=zs(this,a),v=zs(this,u),I="_"+s;Object.defineProperties(g,{[I]:{value:g[s],writable:!0},[s]:{enumerable:!0,get(){const S=this[I],U=v[h];return Rn(S)?Object.assign({},U,S):on(S,U)},set(S){this[I]=S}}})}apply(a){a.forEach(s=>s(this))}}var xi=new Xs({_scriptable:l=>!l.startsWith("on"),_indexable:l=>"events"!==l,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Ys(l){l.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),l.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}),l.set("animations",{colors:{type:"color",properties:Ji},numbers:{type:"number",properties:Yr}}),l.describe("animations",{_fallback:"animation"}),l.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>0|a}}}})},function Ti(l){l.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ss(l){l.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,s)=>s.lineWidth,tickColor:(a,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ti.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),l.route("scale.ticks","color","","color"),l.route("scale.grid","color","","borderColor"),l.route("scale.border","color","","borderColor"),l.route("scale.title","color","","color"),l.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a,_indexable:a=>"borderDash"!==a&&"tickBorderDash"!==a&&"dash"!==a}),l.describe("scales",{_fallback:"scale"}),l.describe("scale.ticks",{_scriptable:a=>"backdropPadding"!==a&&"callback"!==a,_indexable:a=>"backdropPadding"!==a})}]);function $s(l,a,s,u,h){let g=a[h];return g||(g=a[h]=l.measureText(h).width,s.push(h)),g>u&&(u=g),u}function xs(l,a,s,u){let h=(u=u||{}).data=u.data||{},g=u.garbageCollect=u.garbageCollect||[];u.font!==a&&(h=u.data={},g=u.garbageCollect=[],u.font=a),l.save(),l.font=a;let v=0;const I=s.length;let S,U,Z,le,Te;for(S=0;S<I;S++)if(le=s[S],null==le||$n(le)){if($n(le))for(U=0,Z=le.length;U<Z;U++)Te=le[U],null!=Te&&!$n(Te)&&(v=$s(l,h,g,v,Te))}else v=$s(l,h,g,v,le);l.restore();const we=g.length/2;if(we>s.length){for(S=0;S<we;S++)delete h[g[S]];g.splice(0,we)}return v}function Fs(l,a,s){const u=l.currentDevicePixelRatio,h=0!==s?Math.max(s/2,.5):0;return Math.round((a-h)*u)/u+h}function Li(l,a){!a&&!l||((a=a||l.getContext("2d")).save(),a.resetTransform(),a.clearRect(0,0,l.width,l.height),a.restore())}function vo(l,a,s,u){Ls(l,a,s,u,null)}function Ls(l,a,s,u,h){let g,v,I,S,U,Z,le,Te;const we=a.pointStyle,Qe=a.rotation,Je=a.radius;let nt=(Qe||0)*Gi;if(we&&"object"==typeof we&&(g=we.toString(),"[object HTMLImageElement]"===g||"[object HTMLCanvasElement]"===g))return l.save(),l.translate(s,u),l.rotate(nt),l.drawImage(we,-we.width/2,-we.height/2,we.width,we.height),void l.restore();if(!(isNaN(Je)||Je<=0)){switch(l.beginPath(),we){default:h?l.ellipse(s,u,h/2,Je,0,0,ei):l.arc(s,u,Je,0,ei),l.closePath();break;case"triangle":Z=h?h/2:Je,l.moveTo(s+Math.sin(nt)*Z,u-Math.cos(nt)*Je),nt+=ye,l.lineTo(s+Math.sin(nt)*Z,u-Math.cos(nt)*Je),nt+=ye,l.lineTo(s+Math.sin(nt)*Z,u-Math.cos(nt)*Je),l.closePath();break;case"rectRounded":U=.516*Je,S=Je-U,v=Math.cos(nt+Ni)*S,le=Math.cos(nt+Ni)*(h?h/2-U:S),I=Math.sin(nt+Ni)*S,Te=Math.sin(nt+Ni)*(h?h/2-U:S),l.arc(s-le,u-I,U,nt-Zr,nt-zr),l.arc(s+Te,u-v,U,nt-zr,nt),l.arc(s+le,u+I,U,nt,nt+zr),l.arc(s-Te,u+v,U,nt+zr,nt+Zr),l.closePath();break;case"rect":if(!Qe){S=Math.SQRT1_2*Je,Z=h?h/2:S,l.rect(s-Z,u-S,2*Z,2*S);break}nt+=Ni;case"rectRot":le=Math.cos(nt)*(h?h/2:Je),v=Math.cos(nt)*Je,I=Math.sin(nt)*Je,Te=Math.sin(nt)*(h?h/2:Je),l.moveTo(s-le,u-I),l.lineTo(s+Te,u-v),l.lineTo(s+le,u+I),l.lineTo(s-Te,u+v),l.closePath();break;case"crossRot":nt+=Ni;case"cross":le=Math.cos(nt)*(h?h/2:Je),v=Math.cos(nt)*Je,I=Math.sin(nt)*Je,Te=Math.sin(nt)*(h?h/2:Je),l.moveTo(s-le,u-I),l.lineTo(s+le,u+I),l.moveTo(s+Te,u-v),l.lineTo(s-Te,u+v);break;case"star":le=Math.cos(nt)*(h?h/2:Je),v=Math.cos(nt)*Je,I=Math.sin(nt)*Je,Te=Math.sin(nt)*(h?h/2:Je),l.moveTo(s-le,u-I),l.lineTo(s+le,u+I),l.moveTo(s+Te,u-v),l.lineTo(s-Te,u+v),nt+=Ni,le=Math.cos(nt)*(h?h/2:Je),v=Math.cos(nt)*Je,I=Math.sin(nt)*Je,Te=Math.sin(nt)*(h?h/2:Je),l.moveTo(s-le,u-I),l.lineTo(s+le,u+I),l.moveTo(s+Te,u-v),l.lineTo(s-Te,u+v);break;case"line":v=h?h/2:Math.cos(nt)*Je,I=Math.sin(nt)*Je,l.moveTo(s-v,u-I),l.lineTo(s+v,u+I);break;case"dash":l.moveTo(s,u),l.lineTo(s+Math.cos(nt)*(h?h/2:Je),u+Math.sin(nt)*Je);break;case!1:l.closePath()}l.fill(),a.borderWidth>0&&l.stroke()}}function Ps(l,a,s){return s=s||.5,!a||l&&l.x>a.left-s&&l.x<a.right+s&&l.y>a.top-s&&l.y<a.bottom+s}function eo(l,a){l.save(),l.beginPath(),l.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),l.clip()}function Nr(l){l.restore()}function Pi(l,a,s,u,h){if(!a)return l.lineTo(s.x,s.y);if("middle"===h){const g=(a.x+s.x)/2;l.lineTo(g,a.y),l.lineTo(g,s.y)}else"after"===h!=!!u?l.lineTo(a.x,s.y):l.lineTo(s.x,a.y);l.lineTo(s.x,s.y)}function yi(l,a,s,u){if(!a)return l.lineTo(s.x,s.y);l.bezierCurveTo(u?a.cp1x:a.cp2x,u?a.cp1y:a.cp2y,u?s.cp2x:s.cp1x,u?s.cp2y:s.cp1y,s.x,s.y)}function Ts(l,a,s,u,h){if(h.strikethrough||h.underline){const g=l.measureText(u),v=a-g.actualBoundingBoxLeft,I=a+g.actualBoundingBoxRight,U=s+g.actualBoundingBoxDescent,Z=h.strikethrough?(s-g.actualBoundingBoxAscent+U)/2:U;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=h.decorationWidth||2,l.moveTo(v,Z),l.lineTo(I,Z),l.stroke()}}function qo(l,a){const s=l.fillStyle;l.fillStyle=a.color,l.fillRect(a.left,a.top,a.width,a.height),l.fillStyle=s}function ms(l,a,s,u,h,g={}){const v=$n(a)?a:[a],I=g.strokeWidth>0&&""!==g.strokeColor;let S,U;for(l.save(),l.font=h.string,function Vs(l,a){a.translation&&l.translate(a.translation[0],a.translation[1]),qn(a.rotation)||l.rotate(a.rotation),a.color&&(l.fillStyle=a.color),a.textAlign&&(l.textAlign=a.textAlign),a.textBaseline&&(l.textBaseline=a.textBaseline)}(l,g),S=0;S<v.length;++S)U=v[S],g.backdrop&&qo(l,g.backdrop),I&&(g.strokeColor&&(l.strokeStyle=g.strokeColor),qn(g.strokeWidth)||(l.lineWidth=g.strokeWidth),l.strokeText(U,s,u,g.maxWidth)),l.fillText(U,s,u,g.maxWidth),Ts(l,s,u,U,g),u+=Number(h.lineHeight);l.restore()}function _s(l,a){const{x:s,y:u,w:h,h:g,radius:v}=a;l.arc(s+v.topLeft,u+v.topLeft,v.topLeft,1.5*Zr,Zr,!0),l.lineTo(s,u+g-v.bottomLeft),l.arc(s+v.bottomLeft,u+g-v.bottomLeft,v.bottomLeft,Zr,zr,!0),l.lineTo(s+h-v.bottomRight,u+g),l.arc(s+h-v.bottomRight,u+g-v.bottomRight,v.bottomRight,zr,0,!0),l.lineTo(s+h,u+v.topRight),l.arc(s+h-v.topRight,u+v.topRight,v.topRight,0,-zr,!0),l.lineTo(s+v.topLeft,u)}const da=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Uo=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ui(l,a){const s=(""+l).match(da);if(!s||"normal"===s[1])return 1.2*a;switch(l=+s[2],s[3]){case"px":return l;case"%":l/=100}return a*l}const Ln=l=>+l||0;function nr(l,a){const s={},u=Rn(a),h=u?Object.keys(a):a,g=Rn(l)?u?v=>on(l[v],l[a[v]]):v=>l[v]:()=>l;for(const v of h)s[v]=Ln(g(v));return s}function vi(l){return nr(l,{top:"y",right:"x",bottom:"y",left:"x"})}function jr(l){return nr(l,["topLeft","topRight","bottomLeft","bottomRight"])}function Ii(l){const a=vi(l);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function Kr(l,a){let s=on((l=l||{}).size,(a=a||xi.font).size);"string"==typeof s&&(s=parseInt(s,10));let u=on(l.style,a.style);u&&!(""+u).match(Uo)&&(console.warn('Invalid font style specified: "'+u+'"'),u=void 0);const h={family:on(l.family,a.family),lineHeight:Ui(on(l.lineHeight,a.lineHeight),s),size:s,style:u,weight:on(l.weight,a.weight),string:""};return h.string=function ho(l){return!l||qn(l.size)||qn(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}(h),h}function qi(l,a,s,u){let g,v,I,h=!0;for(g=0,v=l.length;g<v;++g)if(I=l[g],void 0!==I&&(void 0!==a&&"function"==typeof I&&(I=I(a),h=!1),void 0!==s&&$n(I)&&(I=I[s%I.length],h=!1),void 0!==I))return u&&!h&&(u.cacheable=!1),I}function Is(l,a){return Object.assign(Object.create(l),a)}function Wi(l,a=[""],s,u,h=(()=>l[0])){const g=s||l;typeof u>"u"&&(u=Po("_fallback",l));const v={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:g,_fallback:u,_getTarget:h,override:I=>Wi([I,...l],a,g,u)};return new Proxy(v,{deleteProperty:(I,S)=>(delete I[S],delete I._keys,delete l[0][S],!0),get:(I,S)=>Vi(I,S,()=>function Gr(l,a,s,u){let h;for(const g of a)if(h=Po(to(g,l),s),typeof h<"u")return Gs(l,h)?go(s,u,l,h):h}(S,a,l,I)),getOwnPropertyDescriptor:(I,S)=>Reflect.getOwnPropertyDescriptor(I._scopes[0],S),getPrototypeOf:()=>Reflect.getPrototypeOf(l[0]),has:(I,S)=>Ta(I).includes(S),ownKeys:I=>Ta(I),set(I,S,U){const Z=I._storage||(I._storage=h());return I[S]=Z[S]=U,delete I._keys,!0}})}function En(l,a,s,u){const h={_cacheable:!1,_proxy:l,_context:a,_subProxy:s,_stack:new Set,_descriptors:Hr(l,u),setContext:g=>En(l,g,s,u),override:g=>En(l.override(g),a,s,u)};return new Proxy(h,{deleteProperty:(g,v)=>(delete g[v],delete l[v],!0),get:(g,v,I)=>Vi(g,v,()=>function xo(l,a,s){const{_proxy:u,_context:h,_subProxy:g,_descriptors:v}=l;let I=u[a];return et(I)&&v.isScriptable(a)&&(I=function no(l,a,s,u){const{_proxy:h,_context:g,_subProxy:v,_stack:I}=s;if(I.has(l))throw new Error("Recursion detected: "+Array.from(I).join("->")+"->"+l);I.add(l);let S=a(g,v||u);return I.delete(l),Gs(l,S)&&(S=go(h._scopes,h,l,S)),S}(a,I,l,s)),$n(I)&&I.length&&(I=function Us(l,a,s,u){const{_proxy:h,_context:g,_subProxy:v,_descriptors:I}=s;if(typeof g.index<"u"&&u(l))return a[g.index%a.length];if(Rn(a[0])){const S=a,U=h._scopes.filter(Z=>Z!==S);a=[];for(const Z of S){const le=go(U,h,l,Z);a.push(En(le,g,v&&v[l],I))}}return a}(a,I,l,v.isIndexable)),Gs(a,I)&&(I=En(I,h,g&&g[a],v)),I}(g,v,I)),getOwnPropertyDescriptor:(g,v)=>g._descriptors.allKeys?Reflect.has(l,v)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,v),getPrototypeOf:()=>Reflect.getPrototypeOf(l),has:(g,v)=>Reflect.has(l,v),ownKeys:()=>Reflect.ownKeys(l),set:(g,v,I)=>(l[v]=I,delete g[v],!0)})}function Hr(l,a={scriptable:!0,indexable:!0}){const{_scriptable:s=a.scriptable,_indexable:u=a.indexable,_allKeys:h=a.allKeys}=l;return{allKeys:h,scriptable:s,indexable:u,isScriptable:et(s)?s:()=>s,isIndexable:et(u)?u:()=>u}}const to=(l,a)=>l?l+ns(a):a,Gs=(l,a)=>Rn(a)&&"adapters"!==l&&(null===Object.getPrototypeOf(a)||a.constructor===Object);function Vi(l,a,s){if(Object.prototype.hasOwnProperty.call(l,a)||"constructor"===a)return l[a];const u=s();return l[a]=u,u}function fo(l,a,s){return et(l)?l(a,s):l}const Xo=(l,a)=>!0===l?a:"string"==typeof l?ls(a,l):void 0;function po(l,a,s,u,h){for(const g of a){const v=Xo(s,g);if(v){l.add(v);const I=fo(v._fallback,s,h);if(typeof I<"u"&&I!==s&&I!==u)return I}else if(!1===v&&typeof u<"u"&&s!==u)return null}return!1}function go(l,a,s,u){const h=a._rootScopes,g=fo(a._fallback,s,u),v=[...l,...h],I=new Set;I.add(u);let S=oo(I,v,s,g||s,u);return!(null===S||typeof g<"u"&&g!==s&&(S=oo(I,v,g,S,u),null===S))&&Wi(Array.from(I),[""],h,g,()=>function ha(l,a,s){const u=l._getTarget();a in u||(u[a]={});const h=u[a];return $n(h)&&Rn(s)?s:h||{}}(a,s,u))}function oo(l,a,s,u,h){for(;s;)s=po(l,a,s,u,h);return s}function Po(l,a){for(const s of a){if(!s)continue;const u=s[l];if(typeof u<"u")return u}}function Ta(l){let a=l._keys;return a||(a=l._keys=function Wo(l){const a=new Set;for(const s of l)for(const u of Object.keys(s).filter(h=>!h.startsWith("_")))a.add(u);return Array.from(a)}(l._scopes)),a}function ys(l,a,s,u){const{iScale:h}=l,{key:g="r"}=this._parsing,v=new Array(u);let I,S,U,Z;for(I=0,S=u;I<S;++I)U=I+s,Z=a[U],v[I]={r:h.parse(ls(Z,g),U)};return v}const Ia=Number.EPSILON||1e-14,is=(l,a)=>a<l.length&&!l[a].skip&&l[a],bo=l=>"x"===l?"y":"x";function Zi(l,a,s,u){const h=l.skip?a:l,g=a,v=s.skip?a:s,I=ze(g,h),S=ze(v,g);let U=I/(I+S),Z=S/(I+S);U=isNaN(U)?0:U,Z=isNaN(Z)?0:Z;const le=u*U,Te=u*Z;return{previous:{x:g.x-le*(v.x-h.x),y:g.y-le*(v.y-h.y)},next:{x:g.x+Te*(v.x-h.x),y:g.y+Te*(v.y-h.y)}}}function se(l,a,s){return Math.max(Math.min(l,s),a)}function Pe(l,a,s,u,h){let g,v,I,S;if(a.spanGaps&&(l=l.filter(U=>!U.skip)),"monotone"===a.cubicInterpolationMode)!function ie(l,a="x"){const s=bo(a),u=l.length,h=Array(u).fill(0),g=Array(u);let v,I,S,U=is(l,0);for(v=0;v<u;++v)if(I=S,S=U,U=is(l,v+1),S){if(U){const Z=U[a]-S[a];h[v]=0!==Z?(U[s]-S[s])/Z:0}g[v]=I?U?ae(h[v-1])!==ae(h[v])?0:(h[v-1]+h[v])/2:h[v-1]:h[v]}(function ka(l,a,s){const u=l.length;let h,g,v,I,S,U=is(l,0);for(let Z=0;Z<u-1;++Z)if(S=U,U=is(l,Z+1),S&&U){if(Ee(a[Z],0,Ia)){s[Z]=s[Z+1]=0;continue}h=s[Z]/a[Z],g=s[Z+1]/a[Z],I=Math.pow(h,2)+Math.pow(g,2),!(I<=9)&&(v=3/Math.sqrt(I),s[Z]=h*v*a[Z],s[Z+1]=g*v*a[Z])}})(l,h,g),function vs(l,a,s="x"){const u=bo(s),h=l.length;let g,v,I,S=is(l,0);for(let U=0;U<h;++U){if(v=I,I=S,S=is(l,U+1),!I)continue;const Z=I[s],le=I[u];v&&(g=(Z-v[s])/3,I[`cp1${s}`]=Z-g,I[`cp1${u}`]=le-g*a[U]),S&&(g=(S[s]-Z)/3,I[`cp2${s}`]=Z+g,I[`cp2${u}`]=le+g*a[U])}}(l,g,a)}(l,h);else{let U=u?l[l.length-1]:l[0];for(g=0,v=l.length;g<v;++g)I=l[g],S=Zi(U,I,l[Math.min(g+1,v-(u?0:1))%v],a.tension),I.cp1x=S.previous.x,I.cp1y=S.previous.y,I.cp2x=S.next.x,I.cp2y=S.next.y,U=I}a.capBezierPoints&&function Re(l,a){let s,u,h,g,v,I=Ps(l[0],a);for(s=0,u=l.length;s<u;++s)v=g,g=I,I=s<u-1&&Ps(l[s+1],a),g&&(h=l[s],v&&(h.cp1x=se(h.cp1x,a.left,a.right),h.cp1y=se(h.cp1y,a.top,a.bottom)),I&&(h.cp2x=se(h.cp2x,a.left,a.right),h.cp2y=se(h.cp2y,a.top,a.bottom)))}(l,s)}function ct(){return typeof window<"u"&&typeof document<"u"}function Gt(l){let a=l.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a}function q(l,a,s){let u;return"string"==typeof l?(u=parseInt(l,10),-1!==l.indexOf("%")&&(u=u/100*a.parentNode[s])):u=l,u}const Y=l=>l.ownerDocument.defaultView.getComputedStyle(l,null),ue=["top","right","bottom","left"];function Oe(l,a,s){const u={};s=s?"-"+s:"";for(let h=0;h<4;h++){const g=ue[h];u[g]=parseFloat(l[a+"-"+g+s])||0}return u.width=u.left+u.right,u.height=u.top+u.bottom,u}const yn=(l,a,s)=>(l>0||a>0)&&(!s||!s.shadowRoot);function Qr(l,a){if("native"in l)return l;const{canvas:s,currentDevicePixelRatio:u}=a,h=Y(s),g="border-box"===h.boxSizing,v=Oe(h,"padding"),I=Oe(h,"border","width"),{x:S,y:U,box:Z}=function Zn(l,a){const s=l.touches,u=s&&s.length?s[0]:l,{offsetX:h,offsetY:g}=u;let I,S,v=!1;if(yn(h,g,l.target))I=h,S=g;else{const U=a.getBoundingClientRect();I=u.clientX-U.left,S=u.clientY-U.top,v=!0}return{x:I,y:S,box:v}}(l,s),le=v.left+(Z&&I.left),Te=v.top+(Z&&I.top);let{width:we,height:Qe}=a;return g&&(we-=v.width+I.width,Qe-=v.height+I.height),{x:Math.round((S-le)/we*s.width/u),y:Math.round((U-Te)/Qe*s.height/u)}}const Bi=l=>Math.round(10*l)/10;function Rs(l,a,s){const u=a||1,h=Math.floor(l.height*u),g=Math.floor(l.width*u);l.height=Math.floor(l.height),l.width=Math.floor(l.width);const v=l.canvas;return v.style&&(s||!v.style.height&&!v.style.width)&&(v.style.height=`${l.height}px`,v.style.width=`${l.width}px`),(l.currentDevicePixelRatio!==u||v.height!==h||v.width!==g)&&(l.currentDevicePixelRatio=u,v.height=h,v.width=g,l.ctx.setTransform(u,0,0,u,0,0),!0)}const Ki=function(){let l=!1;try{const a={get passive(){return l=!0,!1}};ct()&&(window.addEventListener("test",null,a),window.removeEventListener("test",null,a))}catch{}return l}();function ni(l,a){const s=function z(l,a){return Y(l).getPropertyValue(a)}(l,a),u=s&&s.match(/^(\d+)(\.\d+)?px$/);return u?+u[1]:void 0}function Hi(l,a,s,u){return{x:l.x+s*(a.x-l.x),y:l.y+s*(a.y-l.y)}}function us(l,a,s,u){return{x:l.x+s*(a.x-l.x),y:"middle"===u?s<.5?l.y:a.y:"after"===u?s<1?l.y:a.y:s>0?a.y:l.y}}function ea(l,a,s,u){const h={x:l.cp2x,y:l.cp2y},g={x:a.cp1x,y:a.cp1y},v=Hi(l,h,s),I=Hi(h,g,s),S=Hi(g,a,s),U=Hi(v,I,s),Z=Hi(I,S,s);return Hi(U,Z,s)}function Ms(l,a,s){return l?function(l,a){return{x:s=>l+l+a-s,setWidth(s){a=s},textAlign:s=>"center"===s?s:"right"===s?"left":"right",xPlus:(s,u)=>s-u,leftForLtr:(s,u)=>s-u}}(a,s):{x:l=>l,setWidth(l){},textAlign:l=>l,xPlus:(l,a)=>l+a,leftForLtr:(l,a)=>l}}function Pl(l,a){let s,u;("ltr"===a||"rtl"===a)&&(s=l.canvas.style,u=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",a,"important"),l.prevTextDirection=u)}function Bo(l,a){void 0!==a&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",a[0],a[1]))}function Fa(l){return"angle"===l?{between:cn,compare:Ge,normalize:Bt}:{between:br,compare:(a,s)=>a-s,normalize:a=>a}}function Ro({start:l,end:a,count:s,loop:u,style:h}){return{start:l%s,end:a%s,loop:u&&(a-l+1)%s==0,style:h}}function La(l,a,s){if(!s)return[l];const{property:u,start:h,end:g}=s,v=a.length,{compare:I,between:S,normalize:U}=Fa(u),{start:Z,end:le,loop:Te,style:we}=function qr(l,a,s){const{property:u,start:h,end:g}=s,{between:v,normalize:I}=Fa(u),S=a.length;let Te,we,{start:U,end:Z,loop:le}=l;if(le){for(U+=S,Z+=S,Te=0,we=S;Te<we&&v(I(a[U%S][u]),h,g);++Te)U--,Z--;U%=S,Z%=S}return Z<U&&(Z+=S),{start:U,end:Z,loop:le,style:l.style}}(l,a,s),Qe=[];let Wt,Ht,vn,Je=!1,nt=null;for(let zn=Z,Dr=Z;zn<=le;++zn)Ht=a[zn%v],!Ht.skip&&(Wt=U(Ht[u]),Wt!==vn&&(Je=S(Wt,h,g),null===nt&&(Je||S(h,vn,Wt)&&0!==I(h,vn))&&(nt=0===I(Wt,h)?zn:Dr),null!==nt&&(!Je||0===I(g,Wt)||S(g,vn,Wt))&&(Qe.push(Ro({start:nt,end:zn,loop:Te,count:v,style:we})),nt=null),Dr=zn,vn=Wt));return null!==nt&&Qe.push(Ro({start:nt,end:le,loop:Te,count:v,style:we})),Qe}function wi(l,a){const s=[],u=l.segments;for(let h=0;h<u.length;h++){const g=La(u[h],l.points,a);g.length&&s.push(...g)}return s}function Wa(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function ta(l,a){if(!a)return!1;const s=[],u=function(h,g){return Or(g)?(s.includes(g)||s.push(g),s.indexOf(g)):g};return JSON.stringify(l,u)!==JSON.stringify(a,u)}class wa{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,s,u,h){const v=s.duration;s.listeners[h].forEach(I=>I({chart:a,initial:s.initial,numSteps:v,currentStep:Math.min(u-s.start,v)}))}_refresh(){this._request||(this._running=!0,this._request=Cr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let s=0;this._charts.forEach((u,h)=>{if(!u.running||!u.items.length)return;const g=u.items;let S,v=g.length-1,I=!1;for(;v>=0;--v)S=g[v],S._active?(S._total>u.duration&&(u.duration=S._total),S.tick(a),I=!0):(g[v]=g[g.length-1],g.pop());I&&(h.draw(),this._notify(h,u,a,"progress")),g.length||(u.running=!1,this._notify(h,u,a,"complete"),u.initial=!1),s+=g.length}),this._lastDate=a,0===s&&(this._running=!1)}_getAnims(a){const s=this._charts;let u=s.get(a);return u||(u={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(a,u)),u}listen(a,s,u){this._getAnims(a).listeners[s].push(u)}add(a,s){!s||!s.length||this._getAnims(a).items.push(...s)}has(a){return this._getAnims(a).items.length>0}start(a){const s=this._charts.get(a);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((u,h)=>Math.max(u,h._duration),0),this._refresh())}running(a){if(!this._running)return!1;const s=this._charts.get(a);return!(!s||!s.running||!s.items.length)}stop(a){const s=this._charts.get(a);if(!s||!s.items.length)return;const u=s.items;let h=u.length-1;for(;h>=0;--h)u[h].cancel();s.items=[],this._notify(a,s,Date.now(),"complete")}remove(a){return this._charts.delete(a)}}var Os=new wa;const Ua="transparent",na={boolean:(l,a,s)=>s>.5?a:l,color(l,a,s){const u=ki(l||Ua),h=u.valid&&ki(a||Ua);return h&&h.valid?h.mix(u,s).hexString():a},number:(l,a,s)=>l+(a-l)*s};class Rl{constructor(a,s,u,h){const g=s[u];h=qi([a.to,h,g,a.from]);const v=qi([a.from,g,h]);this._active=!0,this._fn=a.fn||na[a.type||typeof v],this._easing=Wn[a.easing]||Wn.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=s,this._prop=u,this._from=v,this._to=h,this._promises=void 0}active(){return this._active}update(a,s,u){if(this._active){this._notify(!1);const h=this._target[this._prop],g=u-this._start,v=this._duration-g;this._start=u,this._duration=Math.floor(Math.max(v,a.duration)),this._total+=g,this._loop=!!a.loop,this._to=qi([a.to,s,h,a.from]),this._from=qi([a.from,h,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){const s=a-this._start,u=this._duration,h=this._prop,g=this._from,v=this._loop,I=this._to;let S;if(this._active=g!==I&&(v||s<u),!this._active)return this._target[h]=I,void this._notify(!0);s<0?this._target[h]=g:(S=s/u%2,S=v&&S>1?2-S:S,S=this._easing(Math.min(1,Math.max(0,S))),this._target[h]=this._fn(g,I,S))}wait(){const a=this._promises||(this._promises=[]);return new Promise((s,u)=>{a.push({res:s,rej:u})})}_notify(a){const s=a?"res":"rej",u=this._promises||[];for(let h=0;h<u.length;h++)u[h][s]()}}class ra{constructor(a,s){this._chart=a,this._properties=new Map,this.configure(s)}configure(a){if(!Rn(a))return;const s=Object.keys(xi.animation),u=this._properties;Object.getOwnPropertyNames(a).forEach(h=>{const g=a[h];if(!Rn(g))return;const v={};for(const I of s)v[I]=g[I];($n(g.properties)&&g.properties||[h]).forEach(I=>{(I===h||!u.has(I))&&u.set(I,v)})})}_animateOptions(a,s){const u=s.options,h=function Aa(l,a){if(!a)return;let s=l.options;if(s)return s.$shared&&(l.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s;l.options=a}(a,u);if(!h)return[];const g=this._createAnimations(h,u);return u.$shared&&function Ca(l,a){const s=[],u=Object.keys(a);for(let h=0;h<u.length;h++){const g=l[u[h]];g&&g.active()&&s.push(g.wait())}return Promise.all(s)}(a.options.$animations,u).then(()=>{a.options=u},()=>{}),g}_createAnimations(a,s){const u=this._properties,h=[],g=a.$animations||(a.$animations={}),v=Object.keys(s),I=Date.now();let S;for(S=v.length-1;S>=0;--S){const U=v[S];if("$"===U.charAt(0))continue;if("options"===U){h.push(...this._animateOptions(a,s));continue}const Z=s[U];let le=g[U];const Te=u.get(U);if(le){if(Te&&le.active()){le.update(Te,Z,I);continue}le.cancel()}Te&&Te.duration?(g[U]=le=new Rl(Te,a,U,Z),h.push(le)):a[U]=Z}return h}update(a,s){if(0===this._properties.size)return void Object.assign(a,s);const u=this._createAnimations(a,s);return u.length?(Os.add(this._chart,u),!0):void 0}}function Ko(l,a){const s=l&&l.options||{},u=s.reverse,h=void 0===s.min?a:0,g=void 0===s.max?a:0;return{start:u?g:h,end:u?h:g}}function ds(l,a){const s=[],u=l._getSortedDatasetMetas(a);let h,g;for(h=0,g=u.length;h<g;++h)s.push(u[h].index);return s}function F(l,a,s,u={}){const h=l.keys,g="single"===u.mode;let v,I,S,U;if(null!==a){for(v=0,I=h.length;v<I;++v){if(S=+h[v],S===s){if(u.all)continue;break}U=l.values[S],en(U)&&(g||0===a||ae(a)===ae(U))&&(a+=U)}return a}}function W(l,a){const s=l&&l.options.stacked;return s||void 0===s&&void 0!==a.stack}function Mt(l,a,s){const u=l[a]||(l[a]={});return u[s]||(u[s]={})}function Jt(l,a,s,u){for(const h of a.getMatchingVisibleMetas(u).reverse()){const g=l[h.index];if(s&&g>0||!s&&g<0)return h.index}return null}function Kn(l,a){const{chart:s,_cachedMeta:u}=l,h=s._stacks||(s._stacks={}),{iScale:g,vScale:v,index:I}=u,S=g.axis,U=v.axis,Z=function oe(l,a,s){return`${l.id}.${a.id}.${s.stack||s.type}`}(g,v,u),le=a.length;let Te;for(let we=0;we<le;++we){const Qe=a[we],{[S]:Je,[U]:nt}=Qe;Te=(Qe._stacks||(Qe._stacks={}))[U]=Mt(h,Z,Je),Te[I]=nt,Te._top=Jt(Te,v,!0,u.type),Te._bottom=Jt(Te,v,!1,u.type),(Te._visualValues||(Te._visualValues={}))[I]=nt}}function li(l,a){const s=l.scales;return Object.keys(s).filter(u=>s[u].axis===a).shift()}function Ur(l,a){const s=l.controller.index,u=l.vScale&&l.vScale.axis;if(u){a=a||l._parsed;for(const h of a){const g=h._stacks;if(!g||void 0===g[u]||void 0===g[u][s])return;delete g[u][s],void 0!==g[u]._visualValues&&void 0!==g[u]._visualValues[s]&&delete g[u]._visualValues[s]}}}const zi=l=>"reset"===l||"none"===l,hi=(l,a)=>a?l:Object.assign({},l);let Bs=(()=>class l{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(s,u){this.chart=s,this._ctx=s.ctx,this.index=u,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=W(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Ur(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,u=this._cachedMeta,h=this.getDataset(),g=(Te,we,Qe,Je)=>"x"===Te?we:"r"===Te?Je:Qe,v=u.xAxisID=on(h.xAxisID,li(s,"x")),I=u.yAxisID=on(h.yAxisID,li(s,"y")),S=u.rAxisID=on(h.rAxisID,li(s,"r")),U=u.indexAxis,Z=u.iAxisID=g(U,v,I,S),le=u.vAxisID=g(U,I,v,S);u.xScale=this.getScaleForId(v),u.yScale=this.getScaleForId(I),u.rScale=this.getScaleForId(S),u.iScale=this.getScaleForId(Z),u.vScale=this.getScaleForId(le)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const u=this._cachedMeta;return s===u.iScale?u.vScale:u.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&dr(this._data,this),s._stacked&&Ur(s)}_dataCheck(){const s=this.getDataset(),u=s.data||(s.data=[]),h=this._data;if(Rn(u))this._data=function de(l,a){const{iScale:s,vScale:u}=a,h="x"===s.axis?"x":"y",g="x"===u.axis?"x":"y",v=Object.keys(l),I=new Array(v.length);let S,U,Z;for(S=0,U=v.length;S<U;++S)Z=v[S],I[S]={[h]:Z,[g]:l[Z]};return I}(u,this._cachedMeta);else if(h!==u){if(h){dr(h,this);const g=this._cachedMeta;Ur(g),g._parsed=[]}u&&Object.isExtensible(u)&&function ur(l,a){l._chartjs?l._chartjs.listeners.push(a):(Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),_n.forEach(s=>{const u="_onData"+ns(s),h=l[s];Object.defineProperty(l,s,{configurable:!0,enumerable:!1,value(...g){const v=h.apply(this,g);return l._chartjs.listeners.forEach(I=>{"function"==typeof I[u]&&I[u](...g)}),v}})}))}(u,this),this._syncList=[],this._data=u}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const u=this._cachedMeta,h=this.getDataset();let g=!1;this._dataCheck();const v=u._stacked;u._stacked=W(u.vScale,u),u.stack!==h.stack&&(g=!0,Ur(u),u.stack=h.stack),this._resyncElements(s),(g||v!==u._stacked)&&Kn(this,u._parsed)}configure(){const s=this.chart.config,u=s.datasetScopeKeys(this._type),h=s.getOptionScopes(this.getDataset(),u,!0);this.options=s.createResolver(h,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,u){const{_cachedMeta:h,_data:g}=this,{iScale:v,_stacked:I}=h,S=v.axis;let le,Te,we,U=0===s&&u===g.length||h._sorted,Z=s>0&&h._parsed[s-1];if(!1===this._parsing)h._parsed=g,h._sorted=!0,we=g;else{we=$n(g[s])?this.parseArrayData(h,g,s,u):Rn(g[s])?this.parseObjectData(h,g,s,u):this.parsePrimitiveData(h,g,s,u);const Qe=()=>null===Te[S]||Z&&Te[S]<Z[S];for(le=0;le<u;++le)h._parsed[le+s]=Te=we[le],U&&(Qe()&&(U=!1),Z=Te);h._sorted=U}I&&Kn(this,we)}parsePrimitiveData(s,u,h,g){const{iScale:v,vScale:I}=s,S=v.axis,U=I.axis,Z=v.getLabels(),le=v===I,Te=new Array(g);let we,Qe,Je;for(we=0,Qe=g;we<Qe;++we)Je=we+h,Te[we]={[S]:le||v.parse(Z[Je],Je),[U]:I.parse(u[Je],Je)};return Te}parseArrayData(s,u,h,g){const{xScale:v,yScale:I}=s,S=new Array(g);let U,Z,le,Te;for(U=0,Z=g;U<Z;++U)le=U+h,Te=u[le],S[U]={x:v.parse(Te[0],le),y:I.parse(Te[1],le)};return S}parseObjectData(s,u,h,g){const{xScale:v,yScale:I}=s,{xAxisKey:S="x",yAxisKey:U="y"}=this._parsing,Z=new Array(g);let le,Te,we,Qe;for(le=0,Te=g;le<Te;++le)we=le+h,Qe=u[we],Z[le]={x:v.parse(ls(Qe,S),we),y:I.parse(ls(Qe,U),we)};return Z}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,u,h){const v=this._cachedMeta,I=u[s.axis];return F({keys:ds(this.chart,!0),values:u._stacks[s.axis]._visualValues},I,v.index,{mode:h})}updateRangeFromParsed(s,u,h,g){const v=h[u.axis];let I=null===v?NaN:v;const S=g&&h._stacks[u.axis];g&&S&&(g.values=S,I=F(g,v,this._cachedMeta.index)),s.min=Math.min(s.min,I),s.max=Math.max(s.max,I)}getMinMax(s,u){const h=this._cachedMeta,g=h._parsed,v=h._sorted&&s===h.iScale,I=g.length,S=this._getOtherScale(s),U=((l,a,s)=>l&&!a.hidden&&a._stacked&&{keys:ds(this.chart,!0),values:null})(u,h),Z={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:le,max:Te}=function Ne(l){const{min:a,max:s,minDefined:u,maxDefined:h}=l.getUserBounds();return{min:u?a:Number.NEGATIVE_INFINITY,max:h?s:Number.POSITIVE_INFINITY}}(S);let we,Qe;function Je(){Qe=g[we];const nt=Qe[S.axis];return!en(Qe[s.axis])||le>nt||Te<nt}for(we=0;we<I&&(Je()||(this.updateRangeFromParsed(Z,s,Qe,U),!v));++we);if(v)for(we=I-1;we>=0;--we)if(!Je()){this.updateRangeFromParsed(Z,s,Qe,U);break}return Z}getAllParsedValues(s){const u=this._cachedMeta._parsed,h=[];let g,v,I;for(g=0,v=u.length;g<v;++g)I=u[g][s.axis],en(I)&&h.push(I);return h}getMaxOverflow(){return!1}getLabelAndValue(s){const u=this._cachedMeta,h=u.iScale,g=u.vScale,v=this.getParsed(s);return{label:h?""+h.getLabelForValue(v[h.axis]):"",value:g?""+g.getLabelForValue(v[g.axis]):""}}_update(s){const u=this._cachedMeta;this.update(s||"default"),u._clip=function fa(l){let a,s,u,h;return Rn(l)?(a=l.top,s=l.right,u=l.bottom,h=l.left):a=s=u=h=l,{top:a,right:s,bottom:u,left:h,disabled:!1===l}}(on(this.options.clip,function rc(l,a,s){if(!1===s)return!1;const u=Ko(l,s),h=Ko(a,s);return{top:h.end,right:u.end,bottom:h.start,left:u.start}}(u.xScale,u.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,h=this._cachedMeta,g=h.data||[],v=this.chart.chartArea,I=[],S=this._drawStart||0,U=this._drawCount||g.length-S,Z=this.options.drawActiveElementsOnTop;let le;for(h.dataset&&h.dataset.draw(s,v,S,U),le=S;le<S+U;++le){const Te=g[le];Te.hidden||(Te.active&&Z?I.push(Te):Te.draw(s,v))}for(le=0;le<I.length;++le)I[le].draw(s,v)}getStyle(s,u){const h=u?"active":"default";return void 0===s&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(h):this.resolveDataElementOptions(s||0,h)}getContext(s,u,h){const g=this.getDataset();let v;if(s>=0&&s<this._cachedMeta.data.length){const I=this._cachedMeta.data[s];v=I.$context||(I.$context=function Ri(l,a,s){return Is(l,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:s,index:a,mode:"default",type:"data"})}(this.getContext(),s,I)),v.parsed=this.getParsed(s),v.raw=g.data[s],v.index=v.dataIndex=s}else v=this.$context||(this.$context=function Fi(l,a){return Is(l,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),v.dataset=g,v.index=v.datasetIndex=this.index;return v.active=!!u,v.mode=h,v}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,u){return this._resolveElementOptions(this.dataElementType.id,u,s)}_resolveElementOptions(s,u="default",h){const g="active"===u,v=this._cachedDataOpts,I=s+"-"+u,S=v[I],U=this.enableOptionSharing&&oi(h);if(S)return hi(S,U);const Z=this.chart.config,le=Z.datasetElementScopeKeys(this._type,s),Te=g?[`${s}Hover`,"hover",s,""]:[s,""],we=Z.getOptionScopes(this.getDataset(),le),Qe=Object.keys(xi.elements[s]),nt=Z.resolveNamedOptions(we,Qe,()=>this.getContext(h,g,u),Te);return nt.$shared&&(nt.$shared=U,v[I]=Object.freeze(hi(nt,U))),nt}_resolveAnimations(s,u,h){const g=this.chart,v=this._cachedDataOpts,I=`animation-${u}`,S=v[I];if(S)return S;let U;if(!1!==g.options.animation){const le=this.chart.config,Te=le.datasetAnimationScopeKeys(this._type,u),we=le.getOptionScopes(this.getDataset(),Te);U=le.createResolver(we,this.getContext(s,h,u))}const Z=new ra(g,U&&U.animations);return U&&U._cacheable&&(v[I]=Object.freeze(Z)),Z}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,u){return!u||zi(s)||this.chart._animationsDisabled}_getSharedOptions(s,u){const h=this.resolveDataElementOptions(s,u),g=this._sharedOptions,v=this.getSharedOptions(h),I=this.includeOptions(u,v)||v!==g;return this.updateSharedOptions(v,u,h),{sharedOptions:v,includeOptions:I}}updateElement(s,u,h,g){zi(g)?Object.assign(s,h):this._resolveAnimations(u,g).update(s,h)}updateSharedOptions(s,u,h){s&&!zi(u)&&this._resolveAnimations(void 0,u).update(s,h)}_setStyle(s,u,h,g){s.active=g;const v=this.getStyle(u,g);this._resolveAnimations(u,h,g).update(s,{options:!g&&this.getSharedOptions(v)||v})}removeHoverStyle(s,u,h){this._setStyle(s,h,"active",!1)}setHoverStyle(s,u,h){this._setStyle(s,h,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const u=this._data,h=this._cachedMeta.data;for(const[S,U,Z]of this._syncList)this[S](U,Z);this._syncList=[];const g=h.length,v=u.length,I=Math.min(v,g);I&&this.parse(0,I),v>g?this._insertElements(g,v-g,s):v<g&&this._removeElements(v,g-v)}_insertElements(s,u,h=!0){const g=this._cachedMeta,v=g.data,I=s+u;let S;const U=Z=>{for(Z.length+=u,S=Z.length-1;S>=I;S--)Z[S]=Z[S-u]};for(U(v),S=s;S<I;++S)v[S]=new this.dataElementType;this._parsing&&U(g._parsed),this.parse(s,u),h&&this.updateElements(v,s,u,"reset")}updateElements(s,u,h,g){}_removeElements(s,u){const h=this._cachedMeta;if(this._parsing){const g=h._parsed.splice(s,u);h._stacked&&Ur(h,g)}h.data.splice(s,u)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[u,h,g]=s;this[u](h,g)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,u){u&&this._sync(["_removeElements",s,u]);const h=arguments.length-2;h&&this._sync(["_insertElements",s,h])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function Yo(l){const a=l.iScale,s=function Mo(l,a){if(!l._cache.$bar){const s=l.getMatchingVisibleMetas(a);let u=[];for(let h=0,g=s.length;h<g;h++)u=u.concat(s[h].controller.getAllParsedValues(l));l._cache.$bar=Vn(u.sort((h,g)=>h-g))}return l._cache.$bar}(a,l.type);let h,g,v,I,u=a._length;const S=()=>{32767===v||-32768===v||(oi(I)&&(u=Math.min(u,Math.abs(v-I)||u)),I=v)};for(h=0,g=s.length;h<g;++h)v=a.getPixelForValue(s[h]),S();for(I=void 0,h=0,g=a.ticks.length;h<g;++h)v=a.getPixelForTick(h),S();return u}function pa(l,a,s,u){return $n(l)?function ri(l,a,s,u){const h=s.parse(l[0],u),g=s.parse(l[1],u),v=Math.min(h,g),I=Math.max(h,g);let S=v,U=I;Math.abs(v)>Math.abs(I)&&(S=I,U=v),a[s.axis]=U,a._custom={barStart:S,barEnd:U,start:h,end:g,min:v,max:I}}(l,a,s,u):a[s.axis]=s.parse(l,u),a}function gl(l,a,s,u){const h=l.iScale,g=l.vScale,v=h.getLabels(),I=h===g,S=[];let U,Z,le,Te;for(U=s,Z=s+u;U<Z;++U)Te=a[U],le={},le[h.axis]=I||h.parse(v[U],U),S.push(pa(Te,le,g,U));return S}function rl(l){return l&&void 0!==l.barStart&&void 0!==l.barEnd}function su(l,a,s,u){let h=a.borderSkipped;const g={};if(!h)return void(l.borderSkipped=g);if(!0===h)return void(l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:v,end:I,reverse:S,top:U,bottom:Z}=function Ic(l){let a,s,u,h,g;return l.horizontal?(a=l.base>l.x,s="left",u="right"):(a=l.base<l.y,s="bottom",u="top"),a?(h="end",g="start"):(h="start",g="end"),{start:s,end:u,reverse:a,top:h,bottom:g}}(l);"middle"===h&&s&&(l.enableBorderRadius=!0,(s._top||0)===u?h=U:(s._bottom||0)===u?h=Z:(g[wc(Z,v,I,S)]=!0,h=U)),g[wc(h,v,I,S)]=!0,l.borderSkipped=g}function wc(l,a,s,u){return u?(l=function il(l,a,s){return l===a?s:l===s?a:l}(l,a,s),l=ia(l,s,a)):l=ia(l,a,s),l}function ia(l,a,s){return"start"===l?a:"end"===l?s:l}function Ml(l,{inflateAmount:a},s){l.inflateAmount="auto"===a?1===s?.33:0:a}let jo=(()=>class l extends Bs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(s,u,h,g){return gl(s,u,h,g)}parseArrayData(s,u,h,g){return gl(s,u,h,g)}parseObjectData(s,u,h,g){const{iScale:v,vScale:I}=s,{xAxisKey:S="x",yAxisKey:U="y"}=this._parsing,Z="x"===v.axis?S:U,le="x"===I.axis?S:U,Te=[];let we,Qe,Je,nt;for(we=h,Qe=h+g;we<Qe;++we)nt=u[we],Je={},Je[v.axis]=v.parse(ls(nt,Z),we),Te.push(pa(ls(nt,le),Je,I,we));return Te}updateRangeFromParsed(s,u,h,g){super.updateRangeFromParsed(s,u,h,g);const v=h._custom;v&&u===this._cachedMeta.vScale&&(s.min=Math.min(s.min,v.min),s.max=Math.max(s.max,v.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const u=this._cachedMeta,{iScale:h,vScale:g}=u,v=this.getParsed(s),I=v._custom,S=rl(I)?"["+I.start+", "+I.end+"]":""+g.getLabelForValue(v[g.axis]);return{label:""+h.getLabelForValue(v[h.axis]),value:S}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(s){const u=this._cachedMeta;this.updateElements(u.data,0,u.data.length,s)}updateElements(s,u,h,g){const v="reset"===g,{index:I,_cachedMeta:{vScale:S}}=this,U=S.getBasePixel(),Z=S.isHorizontal(),le=this._getRuler(),{sharedOptions:Te,includeOptions:we}=this._getSharedOptions(u,g);for(let Qe=u;Qe<u+h;Qe++){const Je=this.getParsed(Qe),nt=v||qn(Je[S.axis])?{base:U,head:U}:this._calculateBarValuePixels(Qe),Wt=this._calculateBarIndexPixels(Qe,le),Ht=(Je._stacks||{})[S.axis],vn={horizontal:Z,base:nt.base,enableBorderRadius:!Ht||rl(Je._custom)||I===Ht._top||I===Ht._bottom,x:Z?nt.head:Wt.center,y:Z?Wt.center:nt.head,height:Z?Wt.size:Math.abs(nt.size),width:Z?Math.abs(nt.size):Wt.size};we&&(vn.options=Te||this.resolveDataElementOptions(Qe,s[Qe].active?"active":g));const Sn=vn.options||s[Qe].options;su(vn,Sn,Ht,I),Ml(vn,Sn,le.ratio),this.updateElement(s[Qe],Qe,vn,g)}}_getStacks(s,u){const{iScale:h}=this._cachedMeta,g=h.getMatchingVisibleMetas(this._type).filter(U=>U.controller.options.grouped),v=h.options.stacked,I=[],S=U=>{const Z=U.controller.getParsed(u),le=Z&&Z[U.vScale.axis];if(qn(le)||isNaN(le))return!0};for(const U of g)if((void 0===u||!S(U))&&((!1===v||-1===I.indexOf(U.stack)||void 0===v&&void 0===U.stack)&&I.push(U.stack),U.index===s))break;return I.length||I.push(void 0),I}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,u,h){const g=this._getStacks(s,h),v=void 0!==u?g.indexOf(u):-1;return-1===v?g.length-1:v}_getRuler(){const s=this.options,u=this._cachedMeta,h=u.iScale,g=[];let v,I;for(v=0,I=u.data.length;v<I;++v)g.push(h.getPixelForValue(this.getParsed(v)[h.axis],v));const S=s.barThickness;return{min:S||Yo(u),pixels:g,start:h._startPixel,end:h._endPixel,stackCount:this._getStackCount(),scale:h,grouped:s.grouped,ratio:S?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:u,_stacked:h,index:g},options:{base:v,minBarLength:I}}=this,S=v||0,U=this.getParsed(s),Z=U._custom,le=rl(Z);let Je,nt,Te=U[u.axis],we=0,Qe=h?this.applyStack(u,U,h):Te;Qe!==Te&&(we=Qe-Te,Qe=Te),le&&(Te=Z.barStart,Qe=Z.barEnd-Z.barStart,0!==Te&&ae(Te)!==ae(Z.barEnd)&&(we=0),we+=Te);const Wt=qn(v)||le?we:v;let Ht=u.getPixelForValue(Wt);if(Je=this.chart.getDataVisibility(s)?u.getPixelForValue(we+Qe):Ht,nt=Je-Ht,Math.abs(nt)<I){nt=function iu(l,a,s){return 0!==l?ae(l):(a.isHorizontal()?1:-1)*(a.min>=s?1:-1)}(nt,u,S)*I,Te===S&&(Ht-=nt/2);const vn=u.getPixelForDecimal(0),Sn=u.getPixelForDecimal(1),an=Math.min(vn,Sn),xn=Math.max(vn,Sn);Ht=Math.max(Math.min(Ht,xn),an),Je=Ht+nt,h&&!le&&(U._stacks[u.axis]._visualValues[g]=u.getValueForPixel(Je)-u.getValueForPixel(Ht))}if(Ht===u.getPixelForValue(S)){const vn=ae(nt)*u.getLineWidthForValue(S)/2;Ht+=vn,nt-=vn}return{size:nt,base:Ht,head:Je,center:Je+nt/2}}_calculateBarIndexPixels(s,u){const h=u.scale,g=this.options,v=g.skipNull,I=on(g.maxBarThickness,1/0);let S,U;if(u.grouped){const Z=v?this._getStackCount(s):u.stackCount,le="flex"===g.barThickness?function Yi(l,a,s,u){const h=a.pixels,g=h[l];let v=l>0?h[l-1]:null,I=l<h.length-1?h[l+1]:null;const S=s.categoryPercentage;null===v&&(v=g-(null===I?a.end-a.start:I-g)),null===I&&(I=g+g-v);const U=g-(g-Math.min(v,I))/2*S;return{chunk:Math.abs(I-v)/2*S/u,ratio:s.barPercentage,start:U}}(s,u,g,Z):function lo(l,a,s,u){const h=s.barThickness;let g,v;return qn(h)?(g=a.min*s.categoryPercentage,v=s.barPercentage):(g=h*u,v=1),{chunk:g/u,ratio:v,start:a.pixels[l]-g/2}}(s,u,g,Z),Te=this._getStackIndex(this.index,this._cachedMeta.stack,v?s:void 0);S=le.start+le.chunk*Te+le.chunk/2,U=Math.min(I,le.chunk*le.ratio)}else S=h.getPixelForValue(this.getParsed(s)[h.axis],s),U=Math.min(I,u.min*u.ratio);return{base:S-U/2,head:S+U/2,center:S,size:U}}draw(){const s=this._cachedMeta,u=s.vScale,h=s.data,g=h.length;let v=0;for(;v<g;++v)null!==this.getParsed(v)[u.axis]&&!h[v].hidden&&h[v].draw(this._ctx)}})(),ml=(()=>class l extends Bs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,u,h,g){const v=super.parsePrimitiveData(s,u,h,g);for(let I=0;I<v.length;I++)v[I]._custom=this.resolveDataElementOptions(I+h).radius;return v}parseArrayData(s,u,h,g){const v=super.parseArrayData(s,u,h,g);for(let I=0;I<v.length;I++)v[I]._custom=on(u[h+I][2],this.resolveDataElementOptions(I+h).radius);return v}parseObjectData(s,u,h,g){const v=super.parseObjectData(s,u,h,g);for(let I=0;I<v.length;I++){const S=u[h+I];v[I]._custom=on(S&&S.r&&+S.r,this.resolveDataElementOptions(I+h).radius)}return v}getMaxOverflow(){const s=this._cachedMeta.data;let u=0;for(let h=s.length-1;h>=0;--h)u=Math.max(u,s[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}getLabelAndValue(s){const u=this._cachedMeta,h=this.chart.data.labels||[],{xScale:g,yScale:v}=u,I=this.getParsed(s),S=g.getLabelForValue(I.x),U=v.getLabelForValue(I.y),Z=I._custom;return{label:h[s]||"",value:"("+S+", "+U+(Z?", "+Z:"")+")"}}update(s){const u=this._cachedMeta.data;this.updateElements(u,0,u.length,s)}updateElements(s,u,h,g){const v="reset"===g,{iScale:I,vScale:S}=this._cachedMeta,{sharedOptions:U,includeOptions:Z}=this._getSharedOptions(u,g),le=I.axis,Te=S.axis;for(let we=u;we<u+h;we++){const Qe=s[we],Je=!v&&this.getParsed(we),nt={},Wt=nt[le]=v?I.getPixelForDecimal(.5):I.getPixelForValue(Je[le]),Ht=nt[Te]=v?S.getBasePixel():S.getPixelForValue(Je[Te]);nt.skip=isNaN(Wt)||isNaN(Ht),Z&&(nt.options=U||this.resolveDataElementOptions(we,Qe.active?"active":g),v&&(nt.options.radius=0)),this.updateElement(Qe,we,nt,g)}}resolveDataElementOptions(s,u){const h=this.getParsed(s);let g=super.resolveDataElementOptions(s,u);g.$shared&&(g=Object.assign({},g,{$shared:!1}));const v=g.radius;return"active"!==u&&(g.radius=0),g.radius+=on(h&&h._custom,v),g}})(),K=(()=>class l extends Bs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:s=>"spacing"!==s,_indexable:s=>"spacing"!==s&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const u=s.data;if(u.labels.length&&u.datasets.length){const{labels:{pointStyle:h,color:g}}=s.legend.options;return u.labels.map((v,I)=>{const U=s.getDatasetMeta(0).controller.getStyle(I);return{text:v,fillStyle:U.backgroundColor,strokeStyle:U.borderColor,fontColor:g,lineWidth:U.borderWidth,pointStyle:h,hidden:!s.getDataVisibility(I),index:I}})}return[]}},onClick(s,u,h){h.chart.toggleDataVisibility(u.index),h.chart.update()}}}};constructor(s,u){super(s,u),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,u){const h=this.getDataset().data,g=this._cachedMeta;if(!1===this._parsing)g._parsed=h;else{let I,S,v=U=>+h[U];if(Rn(h[s])){const{key:U="value"}=this._parsing;v=Z=>+ls(h[Z],U)}for(I=s,S=s+u;I<S;++I)g._parsed[I]=v(I)}}_getRotation(){return sr(this.options.rotation-90)}_getCircumference(){return sr(this.options.circumference)}_getRotationExtents(){let s=ei,u=-ei;for(let h=0;h<this.chart.data.datasets.length;++h)if(this.chart.isDatasetVisible(h)&&this.chart.getDatasetMeta(h).type===this._type){const g=this.chart.getDatasetMeta(h).controller,v=g._getRotation(),I=g._getCircumference();s=Math.min(s,v),u=Math.max(u,v+I)}return{rotation:s,circumference:u-s}}update(s){const u=this.chart,{chartArea:h}=u,g=this._cachedMeta,v=g.data,I=this.getMaxBorderWidth()+this.getMaxOffset(v)+this.options.spacing,S=Math.max((Math.min(h.width,h.height)-I)/2,0),U=Math.min(((l,a)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/a)(this.options.cutout,S),1),Z=this._getRingWeight(this.index),{circumference:le,rotation:Te}=this._getRotationExtents(),{ratioX:we,ratioY:Qe,offsetX:Je,offsetY:nt}=function Cc(l,a,s){let u=1,h=1,g=0,v=0;if(a<ei){const I=l,S=I+a,U=Math.cos(I),Z=Math.sin(I),le=Math.cos(S),Te=Math.sin(S),we=(vn,Sn,an)=>cn(vn,I,S,!0)?1:Math.max(Sn,Sn*s,an,an*s),Qe=(vn,Sn,an)=>cn(vn,I,S,!0)?-1:Math.min(Sn,Sn*s,an,an*s),Je=we(0,U,le),nt=we(zr,Z,Te),Wt=Qe(Zr,U,le),Ht=Qe(Zr+zr,Z,Te);u=(Je-Wt)/2,h=(nt-Ht)/2,g=-(Je+Wt)/2,v=-(nt+Ht)/2}return{ratioX:u,ratioY:h,offsetX:g,offsetY:v}}(Te,le,U),vn=Math.max(Math.min((h.width-I)/we,(h.height-I)/Qe)/2,0),Sn=Fr(this.options.radius,vn),xn=(Sn-Math.max(Sn*U,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Je*Sn,this.offsetY=nt*Sn,g.total=this.calculateTotal(),this.outerRadius=Sn-xn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-xn*Z,0),this.updateElements(v,0,v.length,s)}_circumference(s,u){const h=this.options,g=this._cachedMeta,v=this._getCircumference();return u&&h.animation.animateRotate||!this.chart.getDataVisibility(s)||null===g._parsed[s]||g.data[s].hidden?0:this.calculateCircumference(g._parsed[s]*v/ei)}updateElements(s,u,h,g){const v="reset"===g,I=this.chart,S=I.chartArea,le=(S.left+S.right)/2,Te=(S.top+S.bottom)/2,we=v&&I.options.animation.animateScale,Qe=we?0:this.innerRadius,Je=we?0:this.outerRadius,{sharedOptions:nt,includeOptions:Wt}=this._getSharedOptions(u,g);let vn,Ht=this._getRotation();for(vn=0;vn<u;++vn)Ht+=this._circumference(vn,v);for(vn=u;vn<u+h;++vn){const Sn=this._circumference(vn,v),an=s[vn],xn={x:le+this.offsetX,y:Te+this.offsetY,startAngle:Ht,endAngle:Ht+Sn,circumference:Sn,outerRadius:Je,innerRadius:Qe};Wt&&(xn.options=nt||this.resolveDataElementOptions(vn,an.active?"active":g)),Ht+=Sn,this.updateElement(an,vn,xn,g)}}calculateTotal(){const s=this._cachedMeta,u=s.data;let g,h=0;for(g=0;g<u.length;g++){const v=s._parsed[g];null!==v&&!isNaN(v)&&this.chart.getDataVisibility(g)&&!u[g].hidden&&(h+=Math.abs(v))}return h}calculateCircumference(s){const u=this._cachedMeta.total;return u>0&&!isNaN(s)?ei*(Math.abs(s)/u):0}getLabelAndValue(s){const h=this.chart,g=h.data.labels||[],v=$r(this._cachedMeta._parsed[s],h.options.locale);return{label:g[s]||"",value:v}}getMaxBorderWidth(s){let u=0;const h=this.chart;let g,v,I,S,U;if(!s)for(g=0,v=h.data.datasets.length;g<v;++g)if(h.isDatasetVisible(g)){I=h.getDatasetMeta(g),s=I.data,S=I.controller;break}if(!s)return 0;for(g=0,v=s.length;g<v;++g)U=S.resolveDataElementOptions(g),"inner"!==U.borderAlign&&(u=Math.max(u,U.borderWidth||0,U.hoverBorderWidth||0));return u}getMaxOffset(s){let u=0;for(let h=0,g=s.length;h<g;++h){const v=this.resolveDataElementOptions(h);u=Math.max(u,v.offset||0,v.hoverOffset||0)}return u}_getRingWeightOffset(s){let u=0;for(let h=0;h<s;++h)this.chart.isDatasetVisible(h)&&(u+=this._getRingWeight(h));return u}_getRingWeight(s){return Math.max(on(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),x=(()=>class l extends Bs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const u=this._cachedMeta,{dataset:h,data:g=[],_dataset:v}=u,I=this.chart._animationsDisabled;let{start:S,count:U}=gs(u,g,I);this._drawStart=S,this._drawCount=U,Ir(u)&&(S=0,U=g.length),h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!v._decimated,h.points=g;const Z=this.resolveDatasetElementOptions(s);this.options.showLine||(Z.borderWidth=0),Z.segment=this.options.segment,this.updateElement(h,void 0,{animated:!I,options:Z},s),this.updateElements(g,S,U,s)}updateElements(s,u,h,g){const v="reset"===g,{iScale:I,vScale:S,_stacked:U,_dataset:Z}=this._cachedMeta,{sharedOptions:le,includeOptions:Te}=this._getSharedOptions(u,g),we=I.axis,Qe=S.axis,{spanGaps:Je,segment:nt}=this.options,Wt=tn(Je)?Je:Number.POSITIVE_INFINITY,Ht=this.chart._animationsDisabled||v||"none"===g,vn=u+h,Sn=s.length;let an=u>0&&this.getParsed(u-1);for(let xn=0;xn<Sn;++xn){const hr=s[xn],zn=Ht?hr:{};if(xn<u||xn>=vn){zn.skip=!0;continue}const Dr=this.getParsed(xn),ci=qn(Dr[Qe]),ui=zn[we]=I.getPixelForValue(Dr[we],xn),fi=zn[Qe]=v||ci?S.getBasePixel():S.getPixelForValue(U?this.applyStack(S,Dr,U):Dr[Qe],xn);zn.skip=isNaN(ui)||isNaN(fi)||ci,zn.stop=xn>0&&Math.abs(Dr[we]-an[we])>Wt,nt&&(zn.parsed=Dr,zn.raw=Z.data[xn]),Te&&(zn.options=le||this.resolveDataElementOptions(xn,hr.active?"active":g)),Ht||this.updateElement(hr,xn,zn,g),an=Dr}}getMaxOverflow(){const s=this._cachedMeta,u=s.dataset,h=u.options&&u.options.borderWidth||0,g=s.data||[];if(!g.length)return h;const v=g[0].size(this.resolveDataElementOptions(0)),I=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(h,v,I)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}})(),D=(()=>class l extends Bs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const u=s.data;if(u.labels.length&&u.datasets.length){const{labels:{pointStyle:h,color:g}}=s.legend.options;return u.labels.map((v,I)=>{const U=s.getDatasetMeta(0).controller.getStyle(I);return{text:v,fillStyle:U.backgroundColor,strokeStyle:U.borderColor,fontColor:g,lineWidth:U.borderWidth,pointStyle:h,hidden:!s.getDataVisibility(I),index:I}})}return[]}},onClick(s,u,h){h.chart.toggleDataVisibility(u.index),h.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(s,u){super(s,u),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const h=this.chart,g=h.data.labels||[],v=$r(this._cachedMeta._parsed[s].r,h.options.locale);return{label:g[s]||"",value:v}}parseObjectData(s,u,h,g){return ys.bind(this)(s,u,h,g)}update(s){const u=this._cachedMeta.data;this._updateRadius(),this.updateElements(u,0,u.length,s)}getMinMax(){const u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((h,g)=>{const v=this.getParsed(g).r;!isNaN(v)&&this.chart.getDataVisibility(g)&&(v<u.min&&(u.min=v),v>u.max&&(u.max=v))}),u}_updateRadius(){const s=this.chart,u=s.chartArea,h=s.options,g=Math.min(u.right-u.left,u.bottom-u.top),v=Math.max(g/2,0),S=(v-Math.max(h.cutoutPercentage?v/100*h.cutoutPercentage:1,0))/s.getVisibleDatasetCount();this.outerRadius=v-S*this.index,this.innerRadius=this.outerRadius-S}updateElements(s,u,h,g){const v="reset"===g,I=this.chart,U=I.options.animation,Z=this._cachedMeta.rScale,le=Z.xCenter,Te=Z.yCenter,we=Z.getIndexAngle(0)-.5*Zr;let Je,Qe=we;const nt=360/this.countVisibleElements();for(Je=0;Je<u;++Je)Qe+=this._computeAngle(Je,g,nt);for(Je=u;Je<u+h;Je++){const Wt=s[Je];let Ht=Qe,vn=Qe+this._computeAngle(Je,g,nt),Sn=I.getDataVisibility(Je)?Z.getDistanceFromCenterForValue(this.getParsed(Je).r):0;Qe=vn,v&&(U.animateScale&&(Sn=0),U.animateRotate&&(Ht=vn=we));const an={x:le,y:Te,innerRadius:0,outerRadius:Sn,startAngle:Ht,endAngle:vn,options:this.resolveDataElementOptions(Je,Wt.active?"active":g)};this.updateElement(Wt,Je,an,g)}}countVisibleElements(){let u=0;return this._cachedMeta.data.forEach((h,g)=>{!isNaN(this.getParsed(g).r)&&this.chart.getDataVisibility(g)&&u++}),u}_computeAngle(s,u,h){return this.chart.getDataVisibility(s)?sr(this.resolveDataElementOptions(s,u).angle||h):0}})();var Ue=Object.freeze({__proto__:null,BarController:jo,BubbleController:ml,DoughnutController:K,LineController:x,PieController:(()=>class l extends K{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:D,RadarController:(()=>class l extends Bs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(s){const u=this._cachedMeta.vScale,h=this.getParsed(s);return{label:u.getLabels()[s],value:""+u.getLabelForValue(h[u.axis])}}parseObjectData(s,u,h,g){return ys.bind(this)(s,u,h,g)}update(s){const u=this._cachedMeta,h=u.dataset,g=u.data||[],v=u.iScale.getLabels();if(h.points=g,"resize"!==s){const I=this.resolveDatasetElementOptions(s);this.options.showLine||(I.borderWidth=0),this.updateElement(h,void 0,{_loop:!0,_fullLoop:v.length===g.length,options:I},s)}this.updateElements(g,0,g.length,s)}updateElements(s,u,h,g){const v=this._cachedMeta.rScale,I="reset"===g;for(let S=u;S<u+h;S++){const U=s[S],Z=this.resolveDataElementOptions(S,U.active?"active":g),le=v.getPointPositionForValue(S,this.getParsed(S).r),Te=I?v.xCenter:le.x,we=I?v.yCenter:le.y,Qe={x:Te,y:we,angle:le.angle,skip:isNaN(Te)||isNaN(we),options:Z};this.updateElement(U,S,Qe,g)}}})(),ScatterController:(()=>class l extends Bs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(s){const u=this._cachedMeta,h=this.chart.data.labels||[],{xScale:g,yScale:v}=u,I=this.getParsed(s),S=g.getLabelForValue(I.x),U=v.getLabelForValue(I.y);return{label:h[s]||"",value:"("+S+", "+U+")"}}update(s){const u=this._cachedMeta,{data:h=[]}=u,g=this.chart._animationsDisabled;let{start:v,count:I}=gs(u,h,g);if(this._drawStart=v,this._drawCount=I,Ir(u)&&(v=0,I=h.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:S,_dataset:U}=u;S._chart=this.chart,S._datasetIndex=this.index,S._decimated=!!U._decimated,S.points=h;const Z=this.resolveDatasetElementOptions(s);Z.segment=this.options.segment,this.updateElement(S,void 0,{animated:!g,options:Z},s)}else this.datasetElementType&&(delete u.dataset,this.datasetElementType=!1);this.updateElements(h,v,I,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,u,h,g){const v="reset"===g,{iScale:I,vScale:S,_stacked:U,_dataset:Z}=this._cachedMeta,le=this.resolveDataElementOptions(u,g),Te=this.getSharedOptions(le),we=this.includeOptions(g,Te),Qe=I.axis,Je=S.axis,{spanGaps:nt,segment:Wt}=this.options,Ht=tn(nt)?nt:Number.POSITIVE_INFINITY,vn=this.chart._animationsDisabled||v||"none"===g;let Sn=u>0&&this.getParsed(u-1);for(let an=u;an<u+h;++an){const xn=s[an],hr=this.getParsed(an),zn=vn?xn:{},Dr=qn(hr[Je]),ci=zn[Qe]=I.getPixelForValue(hr[Qe],an),ui=zn[Je]=v||Dr?S.getBasePixel():S.getPixelForValue(U?this.applyStack(S,hr,U):hr[Je],an);zn.skip=isNaN(ci)||isNaN(ui)||Dr,zn.stop=an>0&&Math.abs(hr[Qe]-Sn[Qe])>Ht,Wt&&(zn.parsed=hr,zn.raw=Z.data[an]),we&&(zn.options=Te||this.resolveDataElementOptions(an,xn.active?"active":g)),vn||this.updateElement(xn,an,zn,g),Sn=hr}this.updateSharedOptions(Te,g,le)}getMaxOverflow(){const s=this._cachedMeta,u=s.data||[];if(!this.options.showLine){let S=0;for(let U=u.length-1;U>=0;--U)S=Math.max(S,u[U].size(this.resolveDataElementOptions(U))/2);return S>0&&S}const h=s.dataset,g=h.options&&h.options.borderWidth||0;if(!u.length)return g;const v=u[0].size(this.resolveDataElementOptions(0)),I=u[u.length-1].size(this.resolveDataElementOptions(u.length-1));return Math.max(g,v,I)/2}})()});function Be(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Tt{static override(a){Object.assign(Tt.prototype,a)}options;constructor(a){this.options=a||{}}init(){}formats(){return Be()}parse(){return Be()}format(){return Be()}add(){return Be()}diff(){return Be()}startOf(){return Be()}endOf(){return Be()}}var $t__date=Tt;function Nn(l,a,s,u){const{controller:h,data:g,_sorted:v}=l,I=h._cachedMeta.iScale;if(I&&a===I.axis&&"r"!==a&&v&&g.length){const S=I._reversePixels?dt:gt;if(!u)return S(g,a,s);if(h._sharedOptions){const U=g[0],Z="function"==typeof U.getRange&&U.getRange(a);if(Z){const le=S(g,a,s-Z),Te=S(g,a,s+Z);return{lo:le.lo,hi:Te.hi}}}}return{lo:0,hi:g.length-1}}function Fn(l,a,s,u,h){const g=l.getSortedVisibleDatasetMetas(),v=s[a];for(let I=0,S=g.length;I<S;++I){const{index:U,data:Z}=g[I],{lo:le,hi:Te}=Nn(g[I],a,v,h);for(let we=le;we<=Te;++we){const Qe=Z[we];Qe.skip||u(Qe,U,we)}}}function Jn(l,a,s,u,h){const g=[];return!h&&!l.isPointInArea(a)||Fn(l,s,a,function(I,S,U){!h&&!Ps(I,l.chartArea,0)||I.inRange(a.x,a.y,u)&&g.push({element:I,datasetIndex:S,index:U})},!0),g}function Ci(l,a,s,u,h,g){return g||l.isPointInArea(a)?"r"!==s||u?function kr(l,a,s,u,h,g){let v=[];const I=function ii(l){const a=-1!==l.indexOf("x"),s=-1!==l.indexOf("y");return function(u,h){const g=a?Math.abs(u.x-h.x):0,v=s?Math.abs(u.y-h.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(v,2))}}(s);let S=Number.POSITIVE_INFINITY;return Fn(l,s,a,function U(Z,le,Te){const we=Z.inRange(a.x,a.y,h);if(u&&!we)return;const Qe=Z.getCenterPoint(h);if(!g&&!l.isPointInArea(Qe)&&!we)return;const nt=I(a,Qe);nt<S?(v=[{element:Z,datasetIndex:le,index:Te}],S=nt):nt===S&&v.push({element:Z,datasetIndex:le,index:Te})}),v}(l,a,s,u,h,g):function rr(l,a,s,u){let h=[];return Fn(l,s,a,function g(v,I,S){const{startAngle:U,endAngle:Z}=v.getProps(["startAngle","endAngle"],u),{angle:le}=lt(v,{x:a.x,y:a.y});cn(le,U,Z)&&h.push({element:v,datasetIndex:I,index:S})}),h}(l,a,s,h):[]}function fs(l,a,s,u,h){const g=[],v="x"===s?"inXRange":"inYRange";let I=!1;return Fn(l,s,a,(S,U,Z)=>{S[v](a[s],h)&&(g.push({element:S,datasetIndex:U,index:Z}),I=I||S.inRange(a.x,a.y,h))}),u&&!I?[]:g}var Yn={evaluateInteractionItems:Fn,modes:{index(l,a,s,u){const h=Qr(a,l),g=s.axis||"x",v=s.includeInvisible||!1,I=s.intersect?Jn(l,h,g,u,v):Ci(l,h,g,!1,u,v),S=[];return I.length?(l.getSortedVisibleDatasetMetas().forEach(U=>{const Z=I[0].index,le=U.data[Z];le&&!le.skip&&S.push({element:le,datasetIndex:U.index,index:Z})}),S):[]},dataset(l,a,s,u){const h=Qr(a,l),g=s.axis||"xy",v=s.includeInvisible||!1;let I=s.intersect?Jn(l,h,g,u,v):Ci(l,h,g,!1,u,v);if(I.length>0){const S=I[0].datasetIndex,U=l.getDatasetMeta(S).data;I=[];for(let Z=0;Z<U.length;++Z)I.push({element:U[Z],datasetIndex:S,index:Z})}return I},point:(l,a,s,u)=>Jn(l,Qr(a,l),s.axis||"xy",u,s.includeInvisible||!1),nearest:(l,a,s,u)=>Ci(l,Qr(a,l),s.axis||"xy",s.intersect,u,s.includeInvisible||!1),x:(l,a,s,u)=>fs(l,Qr(a,l),"x",s.intersect,u),y:(l,a,s,u)=>fs(l,Qr(a,l),"y",s.intersect,u)}};const Ws=["left","top","right","bottom"];function Cs(l,a){return l.filter(s=>s.pos===a)}function ga(l,a){return l.filter(s=>-1===Ws.indexOf(s.pos)&&s.box.axis===a)}function To(l,a){return l.sort((s,u)=>{const h=a?u:s,g=a?s:u;return h.weight===g.weight?h.index-g.index:h.weight-g.weight})}function Ba(l,a,s,u){return Math.max(l[s],a[s])+Math.max(l[u],a[u])}function Za(l,a){l.top=Math.max(l.top,a.top),l.left=Math.max(l.left,a.left),l.bottom=Math.max(l.bottom,a.bottom),l.right=Math.max(l.right,a.right)}function hs(l,a,s,u){const{pos:h,box:g}=s,v=l.maxPadding;if(!Rn(h)){s.size&&(l[h]-=s.size);const le=u[s.stack]||{size:0,count:1};le.size=Math.max(le.size,s.horizontal?g.height:g.width),s.size=le.size/le.count,l[h]+=s.size}g.getPadding&&Za(v,g.getPadding());const I=Math.max(0,a.outerWidth-Ba(v,l,"left","right")),S=Math.max(0,a.outerHeight-Ba(v,l,"top","bottom")),U=I!==l.w,Z=S!==l.h;return l.w=I,l.h=S,s.horizontal?{same:U,other:Z}:{same:Z,other:U}}function sn(l,a){const s=a.maxPadding;return function u(h){const g={left:0,top:0,right:0,bottom:0};return h.forEach(v=>{g[v]=Math.max(a[v],s[v])}),g}(l?["left","right"]:["top","bottom"])}function mn(l,a,s,u){const h=[];let g,v,I,S,U,Z;for(g=0,v=l.length,U=0;g<v;++g){I=l[g],S=I.box,S.update(I.width||a.w,I.height||a.h,sn(I.horizontal,a));const{same:le,other:Te}=hs(a,s,I,u);U|=le&&h.length,Z=Z||Te,S.fullSize||h.push(I)}return U&&mn(h,a,s,u)||Z}function yr(l,a,s,u,h){l.top=s,l.left=a,l.right=a+u,l.bottom=s+h,l.width=u,l.height=h}function Lr(l,a,s,u){const h=s.padding;let{x:g,y:v}=a;for(const I of l){const S=I.box,U=u[I.stack]||{count:1,placed:0,weight:1},Z=I.stackWeight/U.weight||1;if(I.horizontal){const le=a.w*Z,Te=U.size||S.height;oi(U.start)&&(v=U.start),S.fullSize?yr(S,h.left,v,s.outerWidth-h.right-h.left,Te):yr(S,a.left+U.placed,v,le,Te),U.start=v,U.placed+=le,v=S.bottom}else{const le=a.h*Z,Te=U.size||S.width;oi(U.start)&&(g=U.start),S.fullSize?yr(S,g,h.top,Te,s.outerHeight-h.bottom-h.top):yr(S,g,a.top+U.placed,Te,le),U.start=g,U.placed+=le,g=S.right}}a.x=g,a.y=v}var cr={addBox(l,a){l.boxes||(l.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(s){a.draw(s)}}]},l.boxes.push(a)},removeBox(l,a){const s=l.boxes?l.boxes.indexOf(a):-1;-1!==s&&l.boxes.splice(s,1)},configure(l,a,s){a.fullSize=s.fullSize,a.position=s.position,a.weight=s.weight},update(l,a,s,u){if(!l)return;const h=Ii(l.options.layout.padding),g=Math.max(a-h.width,0),v=Math.max(s-h.height,0),I=function Da(l){const a=function Io(l){const a=[];let s,u,h,g,v,I;for(s=0,u=(l||[]).length;s<u;++s)h=l[s],({position:g,options:{stack:v,stackWeight:I=1}}=h),a.push({index:s,box:h,pos:g,horizontal:h.isHorizontal(),weight:h.weight,stack:v&&g+v,stackWeight:I});return a}(l),s=To(a.filter(U=>U.box.fullSize),!0),u=To(Cs(a,"left"),!0),h=To(Cs(a,"right")),g=To(Cs(a,"top"),!0),v=To(Cs(a,"bottom")),I=ga(a,"x"),S=ga(a,"y");return{fullSize:s,leftAndTop:u.concat(g),rightAndBottom:h.concat(S).concat(v).concat(I),chartArea:Cs(a,"chartArea"),vertical:u.concat(h).concat(S),horizontal:g.concat(v).concat(I)}}(l.boxes),S=I.vertical,U=I.horizontal;fr(l.boxes,Je=>{"function"==typeof Je.beforeLayout&&Je.beforeLayout()});const Z=S.reduce((Je,nt)=>nt.box.options&&!1===nt.box.options.display?Je:Je+1,0)||1,le=Object.freeze({outerWidth:a,outerHeight:s,padding:h,availableWidth:g,availableHeight:v,vBoxMaxWidth:g/2/Z,hBoxMaxHeight:v/2}),Te=Object.assign({},h);Za(Te,Ii(u));const we=Object.assign({maxPadding:Te,w:g,h:v,x:h.left,y:h.top},h),Qe=function wo(l,a){const s=function sa(l){const a={};for(const s of l){const{stack:u,pos:h,stackWeight:g}=s;if(!u||!Ws.includes(h))continue;const v=a[u]||(a[u]={count:0,placed:0,weight:0,size:0});v.count++,v.weight+=g}return a}(l),{vBoxMaxWidth:u,hBoxMaxHeight:h}=a;let g,v,I;for(g=0,v=l.length;g<v;++g){I=l[g];const{fullSize:S}=I.box,U=s[I.stack],Z=U&&I.stackWeight/U.weight;I.horizontal?(I.width=Z?Z*u:S&&a.availableWidth,I.height=h):(I.width=u,I.height=Z?Z*h:S&&a.availableHeight)}return s}(S.concat(U),le);mn(I.fullSize,we,le,Qe),mn(S,we,le,Qe),mn(U,we,le,Qe)&&mn(S,we,le,Qe),function ic(l){const a=l.maxPadding;function s(u){const h=Math.max(a[u]-l[u],0);return l[u]+=h,h}l.y+=s("top"),l.x+=s("left"),s("right"),s("bottom")}(we),Lr(I.leftAndTop,we,le,Qe),we.x+=we.w,we.y+=we.h,Lr(I.rightAndBottom,we,le,Qe),l.chartArea={left:we.left,top:we.top,right:we.left+we.w,bottom:we.top+we.h,height:we.h,width:we.w},fr(I.chartArea,Je=>{const nt=Je.box;Object.assign(nt,l.chartArea),nt.update(we.w,we.h,{left:0,top:0,right:0,bottom:0})})}};class Ns{acquireContext(a,s){}releaseContext(a){return!1}addEventListener(a,s,u){}removeEventListener(a,s,u){}getDevicePixelRatio(){return 1}getMaximumSize(a,s,u,h){return s=Math.max(0,s||a.width),u=u||a.height,{width:s,height:Math.max(0,h?Math.floor(s/h):u)}}isAttached(a){return!0}updateConfig(a){}}class Oo extends Ns{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}const es="$chartjs",ro={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ai=l=>null===l||""===l,ou=!!Ki&&{passive:!0};function Xi(l,a,s){l&&l.canvas&&l.canvas.removeEventListener(a,s,ou)}function Ya(l,a){for(const s of l)if(s===a||s.contains(a))return!0}function ma(l,a,s){const u=l.canvas,h=new MutationObserver(g=>{let v=!1;for(const I of g)v=v||Ya(I.addedNodes,u),v=v&&!Ya(I.removedNodes,u);v&&s()});return h.observe(document,{childList:!0,subtree:!0}),h}function _a(l,a,s){const u=l.canvas,h=new MutationObserver(g=>{let v=!1;for(const I of g)v=v||Ya(I.removedNodes,u),v=v&&!Ya(I.addedNodes,u);v&&s()});return h.observe(document,{childList:!0,subtree:!0}),h}const M=new Map;let V=0;function P(){const l=window.devicePixelRatio;l!==V&&(V=l,M.forEach((a,s)=>{s.currentDevicePixelRatio!==l&&a()}))}function ge(l,a,s){const u=l.canvas,h=u&&Gt(u);if(!h)return;const g=_i((I,S)=>{const U=h.clientWidth;s(I,S),U<h.clientWidth&&s()},window),v=new ResizeObserver(I=>{const S=I[0],U=S.contentRect.width,Z=S.contentRect.height;0===U&&0===Z||g(U,Z)});return v.observe(h),function H(l,a){M.size||window.addEventListener("resize",P),M.set(l,a)}(l,g),v}function Me(l,a,s){s&&s.disconnect(),"resize"===a&&function Q(l){M.delete(l),M.size||window.removeEventListener("resize",P)}(l)}function Rt(l,a,s){const u=l.canvas,h=_i(g=>{null!==l.ctx&&s(function As(l,a){const s=ro[l.type]||l.type,{x:u,y:h}=Qr(l,a);return{type:s,chart:a,native:l,x:void 0!==u?u:null,y:void 0!==h?h:null}}(g,l))},l);return function Zs(l,a,s){l&&l.addEventListener(a,s,ou)}(u,a,h),h}class St extends Ns{acquireContext(a,s){const u=a&&a.getContext&&a.getContext("2d");return u&&u.canvas===a?(function Ka(l,a){const s=l.style,u=l.getAttribute("height"),h=l.getAttribute("width");if(l[es]={initial:{height:u,width:h,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Ai(h)){const g=ni(l,"width");void 0!==g&&(l.width=g)}if(Ai(u))if(""===l.style.height)l.height=l.width/(a||2);else{const g=ni(l,"height");void 0!==g&&(l.height=g)}}(a,s),u):null}releaseContext(a){const s=a.canvas;if(!s[es])return!1;const u=s[es].initial;["height","width"].forEach(g=>{const v=u[g];qn(v)?s.removeAttribute(g):s.setAttribute(g,v)});const h=u.style||{};return Object.keys(h).forEach(g=>{s.style[g]=h[g]}),s.width=s.width,delete s[es],!0}addEventListener(a,s,u){this.removeEventListener(a,s),(a.$proxies||(a.$proxies={}))[s]=({attach:ma,detach:_a,resize:ge}[s]||Rt)(a,s,u)}removeEventListener(a,s){const u=a.$proxies||(a.$proxies={}),h=u[s];h&&(({attach:Me,detach:Me,resize:Me}[s]||Xi)(a,s,h),u[s]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,s,u,h){return function ji(l,a,s,u){const h=Y(l),g=Oe(h,"margin"),v=q(h.maxWidth,l,"clientWidth")||Br,I=q(h.maxHeight,l,"clientHeight")||Br,S=function bi(l,a,s){let u,h;if(void 0===a||void 0===s){const g=l&&Gt(l);if(g){const v=g.getBoundingClientRect(),I=Y(g),S=Oe(I,"border","width"),U=Oe(I,"padding");a=v.width-U.width-S.width,s=v.height-U.height-S.height,u=q(I.maxWidth,g,"clientWidth"),h=q(I.maxHeight,g,"clientHeight")}else a=l.clientWidth,s=l.clientHeight}return{width:a,height:s,maxWidth:u||Br,maxHeight:h||Br}}(l,a,s);let{width:U,height:Z}=S;if("content-box"===h.boxSizing){const Te=Oe(h,"border","width"),we=Oe(h,"padding");U-=we.width+Te.width,Z-=we.height+Te.height}return U=Math.max(0,U-g.width),Z=Math.max(0,u?U/u:Z-g.height),U=Bi(Math.min(U,v,S.maxWidth)),Z=Bi(Math.min(Z,I,S.maxHeight)),U&&!Z&&(Z=Bi(U/2)),(void 0!==a||void 0!==s)&&u&&S.height&&Z>S.height&&(Z=S.height,U=Bi(Math.floor(Z*u))),{width:U,height:Z}}(a,s,u,h)}isAttached(a){const s=a&&Gt(a);return!(!s||!s.isConnected)}}class Ar{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(a){const{x:s,y:u}=this.getProps(["x","y"],a);return{x:s,y:u}}hasValue(){return tn(this.x)&&tn(this.y)}getProps(a,s){const u=this.$animations;if(!s||!u)return this;const h={};return a.forEach(g=>{h[g]=u[g]&&u[g].active()?u[g]._to:this[g]}),h}}function yl(l,a,s,u,h){const g=on(u,0),v=Math.min(on(h,l.length),l.length);let S,U,Z,I=0;for(s=Math.ceil(s),h&&(S=h-u,s=S/Math.floor(S/s)),Z=g;Z<0;)I++,Z=Math.round(g+I*s);for(U=Math.max(g,0);U<v;U++)U===Z&&(a.push(l[U]),I++,Z=Math.round(g+I*s))}const Nl=(l,a,s)=>"top"===a||"left"===a?l[a]+s:l[a]-s,bs=(l,a)=>Math.min(a||l,l);function vl(l,a){const s=[],u=l.length/a,h=l.length;let g=0;for(;g<h;g+=u)s.push(l[Math.floor(g)]);return s}function sl(l,a,s){const u=l.ticks.length,h=Math.min(a,u-1),g=l._startPixel,v=l._endPixel,I=1e-6;let U,S=l.getPixelForTick(h);if(!(s&&(U=1===u?Math.max(S-g,v-S):0===a?(l.getPixelForTick(1)-S)/2:(S-l.getPixelForTick(h-1))/2,S+=h<a?U:-U,S<g-I||S>v+I)))return S}function kl(l){return l.drawTicks?l.tickLength:0}function Id(l,a){if(!l.display)return 0;const s=Kr(l.font,a),u=Ii(l.padding);return($n(l.text)?l.text.length:1)*s.lineHeight+u.height}function ja(l,a,s){let u=si(l);return(s&&"right"!==a||!s&&"right"===a)&&(u=(l=>"left"===l?"right":"right"===l?"left":l)(u)),u}class va extends Ar{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,s){return a}getUserBounds(){let{_userMin:a,_userMax:s,_suggestedMin:u,_suggestedMax:h}=this;return a=An(a,Number.POSITIVE_INFINITY),s=An(s,Number.NEGATIVE_INFINITY),u=An(u,Number.POSITIVE_INFINITY),h=An(h,Number.NEGATIVE_INFINITY),{min:An(a,u),max:An(s,h),minDefined:en(a),maxDefined:en(s)}}getMinMax(a){let v,{min:s,max:u,minDefined:h,maxDefined:g}=this.getUserBounds();if(h&&g)return{min:s,max:u};const I=this.getMatchingVisibleMetas();for(let S=0,U=I.length;S<U;++S)v=I[S].controller.getMinMax(this,a),h||(s=Math.min(s,v.min)),g||(u=Math.max(u,v.max));return s=g&&s>u?u:s,u=h&&s>u?s:u,{min:An(s,An(u,s)),max:An(u,An(s,u))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}getLabelItems(a=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(a))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(a,s,u){const{beginAtZero:h,grace:g,ticks:v}=this.options,I=v.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=s,this._margins=u=Object.assign({left:0,right:0,top:0,bottom:0},u),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+u.left+u.right:this.height+u.top+u.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function ai(l,a,s){const{min:u,max:h}=l,g=Fr(a,(h-u)/2),v=(I,S)=>s&&0===I?0:I+S;return{min:v(u,-Math.abs(g)),max:v(h,g)}}(this,g,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const S=I<this.ticks.length;this._convertTicksToLabels(S?vl(this.ticks,I):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),v.display&&(v.autoSkip||"auto"===v.source)&&(this.ticks=function ts(l,a){const s=l.options.ticks,u=function Di(l){const a=l.options.offset,s=l._tickSize();return Math.floor(Math.min(l._length/s+(a?0:1),l._maxLength/s))}(l),h=Math.min(s.maxTicksLimit||u,u),g=s.major.enabled?function ya(l){const a=[];let s,u;for(s=0,u=l.length;s<u;s++)l[s].major&&a.push(s);return a}(a):[],v=g.length,I=g[0],S=g[v-1],U=[];if(v>h)return function _l(l,a,s,u){let v,h=0,g=s[0];for(u=Math.ceil(u),v=0;v<l.length;v++)v===g&&(a.push(l[v]),h++,g=s[h*u])}(a,U,g,v/h),U;const Z=function No(l,a,s){const u=function Ol(l){const a=l.length;let s,u;if(a<2)return!1;for(u=l[0],s=1;s<a;++s)if(l[s]-l[s-1]!==u)return!1;return u}(l),h=a.length/s;if(!u)return Math.max(h,1);const g=function Nt(l){const a=[],s=Math.sqrt(l);let u;for(u=1;u<s;u++)l%u==0&&(a.push(u),a.push(l/u));return s===(0|s)&&a.push(s),a.sort((h,g)=>h-g).pop(),a}(u);for(let v=0,I=g.length-1;v<I;v++){const S=g[v];if(S>h)return S}return Math.max(h,1)}(g,a,h);if(v>0){let le,Te;const we=v>1?Math.round((S-I)/(v-1)):null;for(yl(a,U,Z,qn(we)?0:I-we,I),le=0,Te=v-1;le<Te;le++)yl(a,U,Z,g[le],g[le+1]);return yl(a,U,Z,S,qn(we)?a.length:S+we),U}return yl(a,U,Z),U}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),S&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s,u,a=this.options.reverse;this.isHorizontal()?(s=this.left,u=this.right):(s=this.top,u=this.bottom,a=!a),this._startPixel=s,this._endPixel=u,this._reversePixels=a,this._length=u-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),jt(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){const s=this.options.ticks;let u,h,g;for(u=0,h=a.length;u<h;u++)g=a[u],g.label=jt(s.callback,[g.value,u,a],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,s=a.ticks,u=bs(this.ticks.length,a.ticks.maxTicksLimit),h=s.minRotation||0,g=s.maxRotation;let I,S,U,v=h;if(!this._isVisible()||!s.display||h>=g||u<=1||!this.isHorizontal())return void(this.labelRotation=h);const Z=this._getLabelSizes(),le=Z.widest.width,Te=Z.highest.height,we=gn(this.chart.width-le,0,this.maxWidth);I=a.offset?this.maxWidth/u:we/(u-1),le+6>I&&(I=we/(u-(a.offset?.5:1)),S=this.maxHeight-kl(a.grid)-s.padding-Id(a.title,this.chart.options.font),U=Math.sqrt(le*le+Te*Te),v=gr(Math.min(Math.asin(gn((Z.highest.height+6)/I,-1,1)),Math.asin(gn(S/U,-1,1))-Math.asin(gn(Te/U,-1,1)))),v=Math.max(h,Math.min(g,v))),this.labelRotation=v}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:s,options:{ticks:u,title:h,grid:g}}=this,v=this._isVisible(),I=this.isHorizontal();if(v){const S=Id(h,s.options.font);if(I?(a.width=this.maxWidth,a.height=kl(g)+S):(a.height=this.maxHeight,a.width=kl(g)+S),u.display&&this.ticks.length){const{first:U,last:Z,widest:le,highest:Te}=this._getLabelSizes(),we=2*u.padding,Qe=sr(this.labelRotation),Je=Math.cos(Qe),nt=Math.sin(Qe);I?a.height=Math.min(this.maxHeight,a.height+(u.mirror?0:nt*le.width+Je*Te.height)+we):a.width=Math.min(this.maxWidth,a.width+(u.mirror?0:Je*le.width+nt*Te.height)+we),this._calculatePadding(U,Z,nt,Je)}}this._handleMargins(),I?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,s,u,h){const{ticks:{align:g,padding:v},position:I}=this.options,S=0!==this.labelRotation,U="top"!==I&&"x"===this.axis;if(this.isHorizontal()){const Z=this.getPixelForTick(0)-this.left,le=this.right-this.getPixelForTick(this.ticks.length-1);let Te=0,we=0;S?U?(Te=h*a.width,we=u*s.height):(Te=u*a.height,we=h*s.width):"start"===g?we=s.width:"end"===g?Te=a.width:"inner"!==g&&(Te=a.width/2,we=s.width/2),this.paddingLeft=Math.max((Te-Z+v)*this.width/(this.width-Z),0),this.paddingRight=Math.max((we-le+v)*this.width/(this.width-le),0)}else{let Z=s.height/2,le=a.height/2;"start"===g?(Z=0,le=a.height):"end"===g&&(Z=s.height,le=0),this.paddingTop=Z+v,this.paddingBottom=le+v}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:a,position:s}=this.options;return"top"===s||"bottom"===s||"x"===a}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){let s,u;for(this.beforeTickToLabelConversion(),this.generateTickLabels(a),s=0,u=a.length;s<u;s++)qn(a[s].label)&&(a.splice(s,1),u--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const s=this.options.ticks.sampleSize;let u=this.ticks;s<u.length&&(u=vl(u,s)),this._labelSizes=a=this._computeLabelSizes(u,u.length,this.options.ticks.maxTicksLimit)}return a}_computeLabelSizes(a,s,u){const{ctx:h,_longestTextCache:g}=this,v=[],I=[],S=Math.floor(s/bs(s,u));let le,Te,we,Qe,Je,nt,Wt,Ht,vn,Sn,an,U=0,Z=0;for(le=0;le<s;le+=S){if(Qe=a[le].label,Je=this._resolveTickFontOptions(le),h.font=nt=Je.string,Wt=g[nt]=g[nt]||{data:{},gc:[]},Ht=Je.lineHeight,vn=Sn=0,qn(Qe)||$n(Qe)){if($n(Qe))for(Te=0,we=Qe.length;Te<we;++Te)an=Qe[Te],!qn(an)&&!$n(an)&&(vn=$s(h,Wt.data,Wt.gc,vn,an),Sn+=Ht)}else vn=$s(h,Wt.data,Wt.gc,vn,Qe),Sn=Ht;v.push(vn),I.push(Sn),U=Math.max(vn,U),Z=Math.max(Sn,Z)}!function Cf(l,a){fr(l,s=>{const u=s.gc,h=u.length/2;let g;if(h>a){for(g=0;g<h;++g)delete s.data[u[g]];u.splice(0,h)}})}(g,s);const xn=v.indexOf(U),hr=I.indexOf(Z),zn=Dr=>({width:v[Dr]||0,height:I[Dr]||0});return{first:zn(0),last:zn(s-1),widest:zn(xn),highest:zn(hr),widths:v,heights:I}}getLabelForValue(a){return a}getPixelForValue(a,s){return NaN}getValueForPixel(a){}getPixelForTick(a){const s=this.ticks;return a<0||a>s.length-1?null:this.getPixelForValue(s[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const s=this._startPixel+a*this._length;return function fn(l){return gn(l,-32768,32767)}(this._alignToPixels?Fs(this.chart,s,0):s)}getDecimalForPixel(a){const s=(a-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:s}=this;return a<0&&s<0?s:a>0&&s>0?a:0}getContext(a){const s=this.ticks||[];if(a>=0&&a<s.length){const u=s[a];return u.$context||(u.$context=function au(l,a,s){return Is(l,{tick:s,index:a,type:"tick"})}(this.getContext(),a,u))}return this.$context||(this.$context=function Vu(l,a){return Is(l,{scale:a,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const a=this.options.ticks,s=sr(this.labelRotation),u=Math.abs(Math.cos(s)),h=Math.abs(Math.sin(s)),g=this._getLabelSizes(),v=a.autoSkipPadding||0,I=g?g.widest.width+v:0,S=g?g.highest.height+v:0;return this.isHorizontal()?S*u>I*h?I/u:S/h:S*h<I*u?S/u:I/h}_isVisible(){const a=this.options.display;return"auto"!==a?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){const s=this.axis,u=this.chart,h=this.options,{grid:g,position:v,border:I}=h,S=g.offset,U=this.isHorizontal(),le=this.ticks.length+(S?1:0),Te=kl(g),we=[],Qe=I.setContext(this.getContext()),Je=Qe.display?Qe.width:0,nt=Je/2,Wt=function(js){return Fs(u,js,Je)};let Ht,vn,Sn,an,xn,hr,zn,Dr,ci,ui,fi,Vo;if("top"===v)Ht=Wt(this.bottom),hr=this.bottom-Te,Dr=Ht-nt,ui=Wt(a.top)+nt,Vo=a.bottom;else if("bottom"===v)Ht=Wt(this.top),ui=a.top,Vo=Wt(a.bottom)-nt,hr=Ht+nt,Dr=this.top+Te;else if("left"===v)Ht=Wt(this.right),xn=this.right-Te,zn=Ht-nt,ci=Wt(a.left)+nt,fi=a.right;else if("right"===v)Ht=Wt(this.left),ci=a.left,fi=Wt(a.right)-nt,xn=Ht+nt,zn=this.left+Te;else if("x"===s){if("center"===v)Ht=Wt((a.top+a.bottom)/2+.5);else if(Rn(v)){const js=Object.keys(v)[0];Ht=Wt(this.chart.scales[js].getPixelForValue(v[js]))}ui=a.top,Vo=a.bottom,hr=Ht+nt,Dr=hr+Te}else if("y"===s){if("center"===v)Ht=Wt((a.left+a.right)/2);else if(Rn(v)){const js=Object.keys(v)[0];Ht=Wt(this.chart.scales[js].getPixelForValue(v[js]))}xn=Ht-nt,zn=xn-Te,ci=a.left,fi=a.right}const Qo=on(h.ticks.maxTicksLimit,le),Es=Math.max(1,Math.ceil(le/Qo));for(vn=0;vn<le;vn+=Es){const js=this.getContext(vn),co=g.setContext(js),mo=I.setContext(js),ua=co.lineWidth,yc=co.color,qh=mo.dash||[],cd=mo.dashOffset,Wd=co.tickWidth,xa=co.tickColor,tl=co.tickBorderDash||[],vc=co.tickBorderDashOffset;Sn=sl(this,vn,S),void 0!==Sn&&(an=Fs(u,Sn,ua),U?xn=zn=ci=fi=an:hr=Dr=ui=Vo=an,we.push({tx1:xn,ty1:hr,tx2:zn,ty2:Dr,x1:ci,y1:ui,x2:fi,y2:Vo,width:ua,color:yc,borderDash:qh,borderDashOffset:cd,tickWidth:Wd,tickColor:xa,tickBorderDash:tl,tickBorderDashOffset:vc}))}return this._ticksLength=le,this._borderValue=Ht,we}_computeLabelItems(a){const s=this.axis,u=this.options,{position:h,ticks:g}=u,v=this.isHorizontal(),I=this.ticks,{align:S,crossAlign:U,padding:Z,mirror:le}=g,Te=kl(u.grid),we=Te+Z,Qe=le?-Z:we,Je=-sr(this.labelRotation),nt=[];let Wt,Ht,vn,Sn,an,xn,hr,zn,Dr,ci,ui,fi,Vo="middle";if("top"===h)xn=this.bottom-Qe,hr=this._getXAxisLabelAlignment();else if("bottom"===h)xn=this.top+Qe,hr=this._getXAxisLabelAlignment();else if("left"===h){const Es=this._getYAxisLabelAlignment(Te);hr=Es.textAlign,an=Es.x}else if("right"===h){const Es=this._getYAxisLabelAlignment(Te);hr=Es.textAlign,an=Es.x}else if("x"===s){if("center"===h)xn=(a.top+a.bottom)/2+we;else if(Rn(h)){const Es=Object.keys(h)[0];xn=this.chart.scales[Es].getPixelForValue(h[Es])+we}hr=this._getXAxisLabelAlignment()}else if("y"===s){if("center"===h)an=(a.left+a.right)/2-we;else if(Rn(h)){const Es=Object.keys(h)[0];an=this.chart.scales[Es].getPixelForValue(h[Es])}hr=this._getYAxisLabelAlignment(Te).textAlign}"y"===s&&("start"===S?Vo="top":"end"===S&&(Vo="bottom"));const Qo=this._getLabelSizes();for(Wt=0,Ht=I.length;Wt<Ht;++Wt){vn=I[Wt],Sn=vn.label;const Es=g.setContext(this.getContext(Wt));zn=this.getPixelForTick(Wt)+g.labelOffset,Dr=this._resolveTickFontOptions(Wt),ci=Dr.lineHeight,ui=$n(Sn)?Sn.length:1;const js=ui/2,co=Es.color,mo=Es.textStrokeColor,ua=Es.textStrokeWidth;let qh,yc=hr;if(v?(an=zn,"inner"===hr&&(yc=Wt===Ht-1?this.options.reverse?"left":"right":0===Wt?this.options.reverse?"right":"left":"center"),fi="top"===h?"near"===U||0!==Je?-ui*ci+ci/2:"center"===U?-Qo.highest.height/2-js*ci+ci:ci/2-Qo.highest.height:"near"===U||0!==Je?ci/2:"center"===U?Qo.highest.height/2-js*ci:Qo.highest.height-ui*ci,le&&(fi*=-1),0!==Je&&!Es.showLabelBackdrop&&(an+=ci/2*Math.sin(Je))):(xn=zn,fi=(1-ui)*ci/2),Es.showLabelBackdrop){const cd=Ii(Es.backdropPadding),Wd=Qo.heights[Wt],xa=Qo.widths[Wt];let tl=fi-cd.top,vc=0-cd.left;switch(Vo){case"middle":tl-=Wd/2;break;case"bottom":tl-=Wd}switch(hr){case"center":vc-=xa/2;break;case"right":vc-=xa;break;case"inner":Wt===Ht-1?vc-=xa:Wt>0&&(vc-=xa/2)}qh={left:vc,top:tl,width:xa+cd.width,height:Wd+cd.height,color:Es.backdropColor}}nt.push({label:Sn,font:Dr,textOffset:fi,options:{rotation:Je,color:co,strokeColor:mo,strokeWidth:ua,textAlign:yc,textBaseline:Vo,translation:[an,xn],backdrop:qh}})}return nt}_getXAxisLabelAlignment(){const{position:a,ticks:s}=this.options;if(-sr(this.labelRotation))return"top"===a?"left":"right";let h="center";return"start"===s.align?h="left":"end"===s.align?h="right":"inner"===s.align&&(h="inner"),h}_getYAxisLabelAlignment(a){const{position:s,ticks:{crossAlign:u,mirror:h,padding:g}}=this.options,I=a+g,S=this._getLabelSizes().widest.width;let U,Z;return"left"===s?h?(Z=this.right+g,"near"===u?U="left":"center"===u?(U="center",Z+=S/2):(U="right",Z+=S)):(Z=this.right-I,"near"===u?U="right":"center"===u?(U="center",Z-=S/2):(U="left",Z=this.left)):"right"===s?h?(Z=this.left+g,"near"===u?U="right":"center"===u?(U="center",Z-=S/2):(U="left",Z-=S)):(Z=this.left+I,"near"===u?U="left":"center"===u?(U="center",Z+=S/2):(U="right",Z=this.right)):U="right",{textAlign:U,x:Z}}_computeLabelArea(){if(this.options.ticks.mirror)return;const a=this.chart,s=this.options.position;return"left"===s||"right"===s?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===s||"bottom"===s?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}drawBackground(){const{ctx:a,options:{backgroundColor:s},left:u,top:h,width:g,height:v}=this;s&&(a.save(),a.fillStyle=s,a.fillRect(u,h,g,v),a.restore())}getLineWidthForValue(a){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const h=this.ticks.findIndex(g=>g.value===a);return h>=0?s.setContext(this.getContext(h)).lineWidth:0}drawGrid(a){const s=this.options.grid,u=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a));let g,v;const I=(S,U,Z)=>{!Z.width||!Z.color||(u.save(),u.lineWidth=Z.width,u.strokeStyle=Z.color,u.setLineDash(Z.borderDash||[]),u.lineDashOffset=Z.borderDashOffset,u.beginPath(),u.moveTo(S.x,S.y),u.lineTo(U.x,U.y),u.stroke(),u.restore())};if(s.display)for(g=0,v=h.length;g<v;++g){const S=h[g];s.drawOnChartArea&&I({x:S.x1,y:S.y1},{x:S.x2,y:S.y2},S),s.drawTicks&&I({x:S.tx1,y:S.ty1},{x:S.tx2,y:S.ty2},{color:S.tickColor,width:S.tickWidth,borderDash:S.tickBorderDash,borderDashOffset:S.tickBorderDashOffset})}}drawBorder(){const{chart:a,ctx:s,options:{border:u,grid:h}}=this,g=u.setContext(this.getContext()),v=u.display?g.width:0;if(!v)return;const I=h.setContext(this.getContext(0)).lineWidth,S=this._borderValue;let U,Z,le,Te;this.isHorizontal()?(U=Fs(a,this.left,v)-v/2,Z=Fs(a,this.right,I)+I/2,le=Te=S):(le=Fs(a,this.top,v)-v/2,Te=Fs(a,this.bottom,I)+I/2,U=Z=S),s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.beginPath(),s.moveTo(U,le),s.lineTo(Z,Te),s.stroke(),s.restore()}drawLabels(a){if(!this.options.ticks.display)return;const u=this.ctx,h=this._computeLabelArea();h&&eo(u,h);const g=this.getLabelItems(a);for(const v of g)ms(u,v.label,0,v.textOffset,v.font,v.options);h&&Nr(u)}drawTitle(){const{ctx:a,options:{position:s,title:u,reverse:h}}=this;if(!u.display)return;const g=Kr(u.font),v=Ii(u.padding),I=u.align;let S=g.lineHeight/2;"bottom"===s||"center"===s||Rn(s)?(S+=v.bottom,$n(u.text)&&(S+=g.lineHeight*(u.text.length-1))):S+=v.top;const{titleX:U,titleY:Z,maxWidth:le,rotation:Te}=function Uu(l,a,s,u){const{top:h,left:g,bottom:v,right:I,chart:S}=l,{chartArea:U,scales:Z}=S;let Te,we,Qe,le=0;const Je=v-h,nt=I-g;if(l.isHorizontal()){if(we=di(u,g,I),Rn(s)){const Wt=Object.keys(s)[0];Qe=Z[Wt].getPixelForValue(s[Wt])+Je-a}else Qe="center"===s?(U.bottom+U.top)/2+Je-a:Nl(l,s,a);Te=I-g}else{if(Rn(s)){const Wt=Object.keys(s)[0];we=Z[Wt].getPixelForValue(s[Wt])-nt+a}else we="center"===s?(U.left+U.right)/2-nt+a:Nl(l,s,a);Qe=di(u,v,h),le="left"===s?-zr:zr}return{titleX:we,titleY:Qe,maxWidth:Te,rotation:le}}(this,S,s,I);ms(a,u.text,0,0,g,{color:u.color,maxWidth:le,rotation:Te,textAlign:ja(I,s,h),textBaseline:"middle",translation:[U,Z]})}draw(a){this._isVisible()&&(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){const a=this.options,s=a.ticks&&a.ticks.z||0,u=on(a.grid&&a.grid.z,-1),h=on(a.border&&a.border.z,0);return this._isVisible()&&this.draw===va.prototype.draw?[{z:u,draw:g=>{this.drawBackground(),this.drawGrid(g),this.drawTitle()}},{z:h,draw:()=>{this.drawBorder()}},{z:s,draw:g=>{this.drawLabels(g)}}]:[{z:s,draw:g=>{this.draw(g)}}]}getMatchingVisibleMetas(a){const s=this.chart.getSortedVisibleDatasetMetas(),u=this.axis+"AxisID",h=[];let g,v;for(g=0,v=s.length;g<v;++g){const I=s[g];I[u]===this.id&&(!a||I.type===a)&&h.push(I)}return h}_resolveTickFontOptions(a){return Kr(this.options.ticks.setContext(this.getContext(a)).font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class Fl{constructor(a,s,u){this.type=a,this.scope=s,this.override=u,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const s=Object.getPrototypeOf(a);let u;(function Ll(l){return"id"in l&&"defaults"in l})(s)&&(u=this.register(s));const h=this.items,g=a.id,v=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+a);return g in h||(h[g]=a,function sc(l,a,s){const u=Jr(Object.create(null),[s?xi.get(s):{},xi.get(a),l.defaults]);xi.set(a,u),l.defaultRoutes&&function lu(l,a){Object.keys(a).forEach(s=>{const u=s.split("."),h=u.pop(),g=[l].concat(u).join("."),v=a[s].split("."),I=v.pop(),S=v.join(".");xi.route(g,h,S,I)})}(a,l.defaultRoutes),l.descriptors&&xi.describe(a,l.descriptors)}(a,v,u),this.override&&xi.override(a.id,a.overrides)),v}get(a){return this.items[a]}unregister(a){const s=this.items,u=a.id,h=this.scope;u in s&&delete s[u],h&&u in xi[h]&&(delete xi[h][u],this.override&&delete Js[u])}}class Ac{constructor(){this.controllers=new Fl(Bs,"datasets",!0),this.elements=new Fl(Ar,"elements"),this.plugins=new Fl(Object,"plugins"),this.scales=new Fl(va,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,s,u){[...s].forEach(h=>{const g=u||this._getRegistryForType(h);u||g.isForType(h)||g===this.plugins&&h.id?this._exec(a,g,h):fr(h,v=>{const I=u||this._getRegistryForType(v);this._exec(a,I,v)})})}_exec(a,s,u){const h=ns(a);jt(u["before"+h],[],u),s[a](u),jt(u["after"+h],[],u)}_getRegistryForType(a){for(let s=0;s<this._typedRegistries.length;s++){const u=this._typedRegistries[s];if(u.isForType(a))return u}return this.plugins}_get(a,s,u){const h=s.get(a);if(void 0===h)throw new Error('"'+a+'" is not a registered '+u+".");return h}}var Sa=new Ac;class Dc{constructor(){this._init=[]}notify(a,s,u,h){"beforeInit"===s&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const g=h?this._descriptors(a).filter(h):this._descriptors(a),v=this._notify(g,a,s,u);return"afterDestroy"===s&&(this._notify(g,a,"stop"),this._notify(this._init,a,"uninstall")),v}_notify(a,s,u,h){h=h||{};for(const g of a){const v=g.plugin;if(!1===jt(v[u],[s,h,g.options],v)&&h.cancelable)return!1}return!0}invalidate(){qn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),s}_createDescriptors(a,s){const u=a&&a.config,h=on(u.options&&u.options.plugins,{}),g=function Sc(l){const a={},s=[],u=Object.keys(Sa.plugins.items);for(let g=0;g<u.length;g++)s.push(Sa.getPlugin(u[g]));const h=l.plugins||[];for(let g=0;g<h.length;g++){const v=h[g];-1===s.indexOf(v)&&(s.push(v),a[v.id]=!0)}return{plugins:s,localIds:a}}(u);return!1!==h||s?function Bu(l,{plugins:a,localIds:s},u,h){const g=[],v=l.getContext();for(const I of a){const S=I.id,U=Vl(u[S],h);null!==U&&g.push({plugin:I,options:oc(l.config,{plugin:I,local:s[S]},U,v)})}return g}(a,g,h,s):[]}_notifyStateChanges(a){const s=this._oldCache||[],u=this._cache,h=(g,v)=>g.filter(I=>!v.some(S=>I.plugin.id===S.plugin.id));this._notify(h(s,u),a,"stop"),this._notify(h(u,s),a,"start")}}function Vl(l,a){return a||!1!==l?!0===l?{}:l:null}function oc(l,{plugin:a,local:s},u,h){const g=l.pluginScopeKeys(a),v=l.getOptionScopes(u,g);return s&&a.defaults&&v.push(a.defaults),l.createResolver(v,h,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gh(l,a){return((a.datasets||{})[l]||{}).indexAxis||a.indexAxis||(xi.datasets[l]||{}).indexAxis||"x"}function Hu(l){if("x"===l||"y"===l||"r"===l)return l}function mh(l){return"top"===l||"bottom"===l?"x":"left"===l||"right"===l?"y":void 0}function ol(l,...a){if(Hu(l))return l;for(const s of a){const u=s.axis||mh(s.position)||l.length>1&&Hu(l[0].toLowerCase());if(u)return u}throw new Error(`Cannot determine type of '${l}' axis. Please provide 'axis' or 'position' option.`)}function bl(l,a,s){if(s[a+"AxisID"]===l)return{axis:a}}function cu(l){const a=l.options||(l.options={});a.plugins=on(a.plugins,{}),a.scales=function ba(l,a){const s=Js[l.type]||{scales:{}},u=a.scales||{},h=gh(l.type,a),g=Object.create(null);return Object.keys(u).forEach(v=>{const I=u[v];if(!Rn(I))return console.error(`Invalid scale configuration for scale: ${v}`);if(I._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${v}`);const S=ol(v,I,function Ul(l,a){if(a.data&&a.data.datasets){const s=a.data.datasets.filter(u=>u.xAxisID===l||u.yAxisID===l);if(s.length)return bl(l,"x",s[0])||bl(l,"y",s[0])}return{}}(v,l),xi.scales[I.type]),U=function oa(l,a){return l===a?"_index_":"_value_"}(S,h),Z=s.scales||{};g[v]=Wr(Object.create(null),[{axis:S},I,Z[S],Z[U]])}),l.data.datasets.forEach(v=>{const I=v.type||l.type,S=v.indexAxis||gh(I,a),Z=(Js[I]||{}).scales||{};Object.keys(Z).forEach(le=>{const Te=function ju(l,a){let s=l;return"_index_"===l?s=a:"_value_"===l&&(s="x"===a?"y":"x"),s}(le,S),we=v[Te+"AxisID"]||Te;g[we]=g[we]||Object.create(null),Wr(g[we],[{axis:Te},u[we],Z[le]])})}),Object.keys(g).forEach(v=>{const I=g[v];Wr(I,[xi.scales[I.type],xi.scale])}),g}(l,a)}function Qa(l){return(l=l||{}).datasets=l.datasets||[],l.labels=l.labels||[],l}const al=new Map,xc=new Set;function ll(l,a){let s=al.get(l);return s||(s=a(),al.set(l,s),xc.add(s)),s}const aa=(l,a,s)=>{const u=ls(a,s);void 0!==u&&l.add(u)};class yh{constructor(a){this._config=function _h(l){return(l=l||{}).data=Qa(l.data),cu(l),l}(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=Qa(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),cu(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return ll(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,s){return ll(`${a}.transition.${s}`,()=>[[`datasets.${a}.transitions.${s}`,`transitions.${s}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,s){return ll(`${a}-${s}`,()=>[[`datasets.${a}.elements.${s}`,`datasets.${a}`,`elements.${s}`,""]])}pluginScopeKeys(a){const s=a.id;return ll(`${this.type}-plugin-${s}`,()=>[[`plugins.${s}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,s){const u=this._scopeCache;let h=u.get(a);return(!h||s)&&(h=new Map,u.set(a,h)),h}getOptionScopes(a,s,u){const{options:h,type:g}=this,v=this._cachedScopes(a,u),I=v.get(s);if(I)return I;const S=new Set;s.forEach(Z=>{a&&(S.add(a),Z.forEach(le=>aa(S,a,le))),Z.forEach(le=>aa(S,h,le)),Z.forEach(le=>aa(S,Js[g]||{},le)),Z.forEach(le=>aa(S,xi,le)),Z.forEach(le=>aa(S,_o,le))});const U=Array.from(S);return 0===U.length&&U.push(Object.create(null)),xc.has(s)&&v.set(s,U),U}chartOptionScopes(){const{options:a,type:s}=this;return[a,Js[s]||{},xi.datasets[s]||{},{type:s},xi,_o]}resolveNamedOptions(a,s,u,h=[""]){const g={$shared:!0},{resolver:v,subPrefixes:I}=ac(this._resolverCache,a,h);let S=v;(function wd(l,a){const{isScriptable:s,isIndexable:u}=Hr(l);for(const h of a){const g=s(h),v=u(h),I=(v||g)&&l[h];if(g&&(et(I)||vh(I))||v&&$n(I))return!0}return!1})(v,s)&&(g.$shared=!1,S=En(v,u=et(u)?u():u,this.createResolver(a,u,I)));for(const U of s)g[U]=S[U];return g}createResolver(a,s,u=[""],h){const{resolver:g}=ac(this._resolverCache,a,u);return Rn(s)?En(g,s,void 0,h):g}}function ac(l,a,s){let u=l.get(a);u||(u=new Map,l.set(a,u));const h=s.join();let g=u.get(h);return g||(g={resolver:Wi(a,s),subPrefixes:s.filter(I=>!I.toLowerCase().includes("hover"))},u.set(h,g)),g}const vh=l=>Rn(l)&&Object.getOwnPropertyNames(l).some(a=>et(l[a])),uu=["top","bottom","left","right","chartArea"];function bh(l,a){return"top"===l||"bottom"===l||-1===uu.indexOf(l)&&"x"===a}function du(l,a){return function(s,u){return s[l]===u[l]?s[a]-u[a]:s[l]-u[l]}}function Cd(l){const a=l.chart,s=a.options.animation;a.notifyPlugins("afterRender"),jt(s&&s.onComplete,[l],a)}function Eh(l){const a=l.chart,s=a.options.animation;jt(s&&s.onProgress,[l],a)}function Rc(l){return ct()&&"string"==typeof l?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const El={},Ja=l=>{const a=Rc(l);return Object.values(El).filter(s=>s.canvas===a).pop()};function Tl(l,a,s){const u=Object.keys(l);for(const h of u){const g=+h;if(g>=a){const v=l[h];delete l[h],(s>0||g>a)&&(l[g+s]=v)}}}function Mc(l,a,s){return l.options.clip?l[s]:a[s]}let Oc=(()=>class l{static defaults=xi;static instances=El;static overrides=Js;static registry=Sa;static version="4.4.3";static getChart=Ja;static register(...s){Sa.add(...s),Th()}static unregister(...s){Sa.remove(...s),Th()}constructor(s,u){const h=this.config=new yh(u),g=Rc(s),v=Ja(g);if(v)throw new Error("Canvas is already in use. Chart with ID '"+v.id+"' must be destroyed before the canvas with ID '"+v.canvas.id+"' can be reused.");const I=h.createResolver(h.chartOptionScopes(),this.getContext());this.platform=new(h.platform||function jn(l){return!ct()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?Oo:St}(g)),this.platform.updateConfig(h);const S=this.platform.acquireContext(g,I.aspectRatio),U=S&&S.canvas,Z=U&&U.height,le=U&&U.width;this.id=pn(),this.ctx=S,this.canvas=U,this.width=le,this.height=Z,this._options=I,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function _r(l,a){let s;return function(...u){return a?(clearTimeout(s),s=setTimeout(l,a,u)):l.apply(this,u),a}}(Te=>this.update(Te),I.resizeDelay||0),this._dataChanges=[],El[this.id]=this,S&&U?(Os.listen(this,"complete",Cd),Os.listen(this,"progress",Eh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:u},width:h,height:g,_aspectRatio:v}=this;return qn(s)?u&&v?v:g?h/g:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return Sa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rs(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Li(this.canvas,this.ctx),this}stop(){return Os.stop(this),this}resize(s,u){Os.running(this)?this._resizeBeforeDraw={width:s,height:u}:this._resize(s,u)}_resize(s,u){const h=this.options,I=this.platform.getMaximumSize(this.canvas,s,u,h.maintainAspectRatio&&this.aspectRatio),S=h.devicePixelRatio||this.platform.getDevicePixelRatio(),U=this.width?"resize":"attach";this.width=I.width,this.height=I.height,this._aspectRatio=this.aspectRatio,Rs(this,S,!0)&&(this.notifyPlugins("resize",{size:I}),jt(h.onResize,[this,I],this),this.attached&&this._doResize(U)&&this.render())}ensureScalesHaveIDs(){fr(this.options.scales||{},(h,g)=>{h.id=g})}buildOrUpdateScales(){const s=this.options,u=s.scales,h=this.scales,g=Object.keys(h).reduce((I,S)=>(I[S]=!1,I),{});let v=[];u&&(v=v.concat(Object.keys(u).map(I=>{const S=u[I],U=ol(I,S),Z="r"===U,le="x"===U;return{options:S,dposition:Z?"chartArea":le?"bottom":"left",dtype:Z?"radialLinear":le?"category":"linear"}}))),fr(v,I=>{const S=I.options,U=S.id,Z=ol(U,S),le=on(S.type,I.dtype);(void 0===S.position||bh(S.position,Z)!==bh(I.dposition))&&(S.position=I.dposition),g[U]=!0;let Te=null;U in h&&h[U].type===le?Te=h[U]:(Te=new(Sa.getScale(le))({id:U,type:le,ctx:this.ctx,chart:this}),h[Te.id]=Te),Te.init(S,s)}),fr(g,(I,S)=>{I||delete h[S]}),fr(h,I=>{cr.configure(this,I,I.options),cr.addBox(this,I)})}_updateMetasets(){const s=this._metasets,u=this.data.datasets.length,h=s.length;if(s.sort((g,v)=>g.index-v.index),h>u){for(let g=u;g<h;++g)this._destroyDatasetMeta(g);s.splice(u,h-u)}this._sortedMetasets=s.slice(0).sort(du("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:u}}=this;s.length>u.length&&delete this._stacks,s.forEach((h,g)=>{0===u.filter(v=>v===h._dataset).length&&this._destroyDatasetMeta(g)})}buildOrUpdateControllers(){const s=[],u=this.data.datasets;let h,g;for(this._removeUnreferencedMetasets(),h=0,g=u.length;h<g;h++){const v=u[h];let I=this.getDatasetMeta(h);const S=v.type||this.config.type;if(I.type&&I.type!==S&&(this._destroyDatasetMeta(h),I=this.getDatasetMeta(h)),I.type=S,I.indexAxis=v.indexAxis||gh(S,this.options),I.order=v.order||0,I.index=h,I.label=""+v.label,I.visible=this.isDatasetVisible(h),I.controller)I.controller.updateIndex(h),I.controller.linkScales();else{const U=Sa.getController(S),{datasetElementType:Z,dataElementType:le}=xi.datasets[S];Object.assign(U,{dataElementType:Sa.getElement(le),datasetElementType:Z&&Sa.getElement(Z)}),I.controller=new U(this,h),s.push(I.controller)}}return this._updateMetasets(),s}_resetElements(){fr(this.data.datasets,(s,u)=>{this.getDatasetMeta(u).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const u=this.config;u.update();const h=this._options=u.createResolver(u.chartOptionScopes(),this.getContext()),g=this._animationsDisabled=!h.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0}))return;const v=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let I=0;for(let Z=0,le=this.data.datasets.length;Z<le;Z++){const{controller:Te}=this.getDatasetMeta(Z),we=!g&&-1===v.indexOf(Te);Te.buildOrUpdateElements(we),I=Math.max(+Te.getMaxOverflow(),I)}I=this._minPadding=h.layout.autoPadding?I:0,this._updateLayout(I),g||fr(v,Z=>{Z.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(du("z","_idx"));const{_active:S,_lastEvent:U}=this;U?this._eventHandler(U,!0):S.length&&this._updateHoverStyles(S,S,!0),this.render()}_updateScales(){fr(this.scales,s=>{cr.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,u=new Set(Object.keys(this._listeners)),h=new Set(s.events);(!Xr(u,h)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,u=this._getUniformDataChanges()||[];for(const{method:h,start:g,count:v}of u)Tl(s,g,"_removeElements"===h?-v:v)}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const u=this.data.datasets.length,h=v=>new Set(s.filter(I=>I[0]===v).map((I,S)=>S+","+I.splice(1).join(","))),g=h(0);for(let v=1;v<u;v++)if(!Xr(g,h(v)))return;return Array.from(g).map(v=>v.split(",")).map(v=>({method:v[1],start:+v[2],count:+v[3]}))}_updateLayout(s){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;cr.update(this,this.width,this.height,s);const u=this.chartArea,h=u.width<=0||u.height<=0;this._layers=[],fr(this.boxes,g=>{h&&"chartArea"===g.position||(g.configure&&g.configure(),this._layers.push(...g._layers()))},this),this._layers.forEach((g,v)=>{g._idx=v}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})){for(let u=0,h=this.data.datasets.length;u<h;++u)this.getDatasetMeta(u).controller.configure();for(let u=0,h=this.data.datasets.length;u<h;++u)this._updateDataset(u,et(s)?s({datasetIndex:u}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,u){const h=this.getDatasetMeta(s),g={meta:h,index:s,mode:u,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",g)&&(h.controller._update(u),g.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",g))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Os.has(this)?this.attached&&!Os.running(this)&&Os.start(this):(this.draw(),Cd({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:h,height:g}=this._resizeBeforeDraw;this._resize(h,g),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const u=this._layers;for(s=0;s<u.length&&u[s].z<=0;++s)u[s].draw(this.chartArea);for(this._drawDatasets();s<u.length;++s)u[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const u=this._sortedMetasets,h=[];let g,v;for(g=0,v=u.length;g<v;++g){const I=u[g];(!s||I.visible)&&h.push(I)}return h}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const s=this.getSortedVisibleDatasetMetas();for(let u=s.length-1;u>=0;--u)this._drawDataset(s[u]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const u=this.ctx,h=s._clip,g=!h.disabled,v=function hu(l,a){const{xScale:s,yScale:u}=l;return s&&u?{left:Mc(s,a,"left"),right:Mc(s,a,"right"),top:Mc(u,a,"top"),bottom:Mc(u,a,"bottom")}:a}(s,this.chartArea),I={meta:s,index:s.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",I)&&(g&&eo(u,{left:!1===h.left?0:v.left-h.left,right:!1===h.right?this.width:v.right+h.right,top:!1===h.top?0:v.top-h.top,bottom:!1===h.bottom?this.height:v.bottom+h.bottom}),s.controller.draw(),g&&Nr(u),I.cancelable=!1,this.notifyPlugins("afterDatasetDraw",I))}isPointInArea(s){return Ps(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,u,h,g){const v=Yn.modes[u];return"function"==typeof v?v(this,s,h,g):[]}getDatasetMeta(s){const u=this.data.datasets[s],h=this._metasets;let g=h.filter(v=>v&&v._dataset===u).pop();return g||(g={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:u&&u.order||0,index:s,_dataset:u,_parsed:[],_sorted:!1},h.push(g)),g}getContext(){return this.$context||(this.$context=Is(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const u=this.data.datasets[s];if(!u)return!1;const h=this.getDatasetMeta(s);return"boolean"==typeof h.hidden?!h.hidden:!u.hidden}setDatasetVisibility(s,u){this.getDatasetMeta(s).hidden=!u}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,u,h){const g=h?"show":"hide",v=this.getDatasetMeta(s),I=v.controller._resolveAnimations(void 0,g);oi(u)?(v.data[u].hidden=!h,this.update()):(this.setDatasetVisibility(s,h),I.update(v,{visible:h}),this.update(S=>S.datasetIndex===s?g:void 0))}hide(s,u){this._updateVisibility(s,u,!1)}show(s,u){this._updateVisibility(s,u,!0)}_destroyDatasetMeta(s){const u=this._metasets[s];u&&u.controller&&u.controller._destroy(),delete this._metasets[s]}_stop(){let s,u;for(this.stop(),Os.remove(this),s=0,u=this.data.datasets.length;s<u;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:u}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),Li(s,u),this.platform.releaseContext(u),this.canvas=null,this.ctx=null),delete El[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,u=this.platform,h=(v,I)=>{u.addEventListener(this,v,I),s[v]=I},g=(v,I,S)=>{v.offsetX=I,v.offsetY=S,this._eventHandler(v)};fr(this.options.events,v=>h(v,g))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,u=this.platform,h=(U,Z)=>{u.addEventListener(this,U,Z),s[U]=Z},g=(U,Z)=>{s[U]&&(u.removeEventListener(this,U,Z),delete s[U])},v=(U,Z)=>{this.canvas&&this.resize(U,Z)};let I;const S=()=>{g("attach",S),this.attached=!0,this.resize(),h("resize",v),h("detach",I)};I=()=>{this.attached=!1,g("resize",v),this._stop(),this._resize(0,0),h("attach",S)},u.isAttached(this.canvas)?S():I()}unbindEvents(){fr(this._listeners,(s,u)=>{this.platform.removeEventListener(this,u,s)}),this._listeners={},fr(this._responsiveListeners,(s,u)=>{this.platform.removeEventListener(this,u,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,u,h){const g=h?"set":"remove";let v,I,S,U;for("dataset"===u&&(v=this.getDatasetMeta(s[0].datasetIndex),v.controller["_"+g+"DatasetHoverStyle"]()),S=0,U=s.length;S<U;++S){I=s[S];const Z=I&&this.getDatasetMeta(I.datasetIndex).controller;Z&&Z[g+"HoverStyle"](I.element,I.datasetIndex,I.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const u=this._active||[],h=s.map(({datasetIndex:v,index:I})=>{const S=this.getDatasetMeta(v);if(!S)throw new Error("No dataset found at index "+v);return{datasetIndex:v,element:S.data[I],index:I}});!vr(h,u)&&(this._active=h,this._lastEvent=null,this._updateHoverStyles(h,u))}notifyPlugins(s,u,h){return this._plugins.notify(this,s,u,h)}isPluginEnabled(s){return 1===this._plugins._cache.filter(u=>u.plugin.id===s).length}_updateHoverStyles(s,u,h){const g=this.options.hover,v=(U,Z)=>U.filter(le=>!Z.some(Te=>le.datasetIndex===Te.datasetIndex&&le.index===Te.index)),I=v(u,s),S=h?s:v(s,u);I.length&&this.updateHoverStyle(I,g.mode,!1),S.length&&g.mode&&this.updateHoverStyle(S,g.mode,!0)}_eventHandler(s,u){const h={event:s,replay:u,cancelable:!0,inChartArea:this.isPointInArea(s)},g=I=>(I.options.events||this.options.events).includes(s.native.type);if(!1===this.notifyPlugins("beforeEvent",h,g))return;const v=this._handleEvent(s,u,h.inChartArea);return h.cancelable=!1,this.notifyPlugins("afterEvent",h,g),(v||h.changed)&&this.render(),this}_handleEvent(s,u,h){const{_active:g=[],options:v}=this,S=this._getActiveElements(s,g,h,u),U=function Bn(l){return"mouseup"===l.type||"click"===l.type||"contextmenu"===l.type}(s),Z=function zu(l,a,s,u){return s&&"mouseout"!==l.type?u?a:l:null}(s,this._lastEvent,h,U);h&&(this._lastEvent=null,jt(v.onHover,[s,S,this],this),U&&jt(v.onClick,[s,S,this],this));const le=!vr(S,g);return(le||u)&&(this._active=S,this._updateHoverStyles(S,g,u)),this._lastEvent=Z,le}_getActiveElements(s,u,h,g){if("mouseout"===s.type)return[];if(!h)return u;const v=this.options.hover;return this.getElementsAtEventForMode(s,v.mode,v,g)}})();function Th(){return fr(Oc.instances,l=>l._plugins.invalidate())}function Bl(l,a,s,u){return{x:s+l*Math.cos(a),y:u+l*Math.sin(a)}}function Nc(l,a,s,u,h,g){const{x:v,y:I,startAngle:S,pixelMargin:U,innerRadius:Z}=a,le=Math.max(a.outerRadius+u+s-U,0),Te=Z>0?Z+u+s+U:0;let we=0;const Qe=h-S;if(u){const co=((Z>0?Z-u:0)+(le>0?le-u:0))/2;we=(Qe-(0!==co?Qe*co/(co+u):Qe))/2}const nt=(Qe-Math.max(.001,Qe*le-s/Zr)/le)/2,Wt=S+nt+we,Ht=h-nt-we,{outerStart:vn,outerEnd:Sn,innerStart:an,innerEnd:xn}=function Ih(l,a,s,u){const h=function Co(l){return nr(l,["outerStart","outerEnd","innerStart","innerEnd"])}(l.options.borderRadius),g=(s-a)/2,v=Math.min(g,u*a/2),I=S=>{const U=(s-Math.min(g,S))*u/2;return gn(S,0,Math.min(g,U))};return{outerStart:I(h.outerStart),outerEnd:I(h.outerEnd),innerStart:gn(h.innerStart,0,v),innerEnd:gn(h.innerEnd,0,v)}}(a,Te,le,Ht-Wt),hr=le-vn,zn=le-Sn,Dr=Wt+vn/hr,ci=Ht-Sn/zn,ui=Te+an,fi=Te+xn,Vo=Wt+an/ui,Qo=Ht-xn/fi;if(l.beginPath(),g){const Es=(Dr+ci)/2;if(l.arc(v,I,le,Dr,Es),l.arc(v,I,le,Es,ci),Sn>0){const ua=Bl(zn,ci,v,I);l.arc(ua.x,ua.y,Sn,ci,Ht+zr)}const js=Bl(fi,Ht,v,I);if(l.lineTo(js.x,js.y),xn>0){const ua=Bl(fi,Qo,v,I);l.arc(ua.x,ua.y,xn,Ht+zr,Qo+Math.PI)}const co=(Ht-xn/Te+(Wt+an/Te))/2;if(l.arc(v,I,Te,Ht-xn/Te,co,!0),l.arc(v,I,Te,co,Wt+an/Te,!0),an>0){const ua=Bl(ui,Vo,v,I);l.arc(ua.x,ua.y,an,Vo+Math.PI,Wt-zr)}const mo=Bl(hr,Wt,v,I);if(l.lineTo(mo.x,mo.y),vn>0){const ua=Bl(hr,Dr,v,I);l.arc(ua.x,ua.y,vn,Wt-zr,Dr)}}else{l.moveTo(v,I);const Es=Math.cos(Dr)*le+v,js=Math.sin(Dr)*le+I;l.lineTo(Es,js);const co=Math.cos(ci)*le+v,mo=Math.sin(ci)*le+I;l.lineTo(co,mo)}l.closePath()}function Ha(l,a,s=a){l.lineCap=on(s.borderCapStyle,a.borderCapStyle),l.setLineDash(on(s.borderDash,a.borderDash)),l.lineDashOffset=on(s.borderDashOffset,a.borderDashOffset),l.lineJoin=on(s.borderJoinStyle,a.borderJoinStyle),l.lineWidth=on(s.borderWidth,a.borderWidth),l.strokeStyle=on(s.borderColor,a.borderColor)}function Il(l,a,s){l.lineTo(s.x,s.y)}function Fc(l,a,s={}){const u=l.length,{start:h=0,end:g=u-1}=s,{start:v,end:I}=a,S=Math.max(h,v),U=Math.min(g,I);return{count:u,start:S,loop:a.loop,ilen:U<S&&!(h<v&&g<v||h>I&&g>I)?u+U-S:U-S}}function jl(l,a,s,u){const{points:h,options:g}=a,{count:v,start:I,loop:S,ilen:U}=Fc(h,s,u),Z=function Ch(l){return l.stepped?Pi:l.tension||"monotone"===l.cubicInterpolationMode?yi:Il}(g);let we,Qe,Je,{move:le=!0,reverse:Te}=u||{};for(we=0;we<=U;++we)Qe=h[(I+(Te?U-we:we))%v],!Qe.skip&&(le?(l.moveTo(Qe.x,Qe.y),le=!1):Z(l,Je,Qe,Te,g.stepped),Je=Qe);return S&&(Qe=h[(I+(Te?U:0))%v],Z(l,Je,Qe,Te,g.stepped)),!!S}function pu(l,a,s,u){const h=a.points,{count:g,start:v,ilen:I}=Fc(h,s,u),{move:S=!0,reverse:U}=u||{};let Te,we,Qe,Je,nt,Wt,Z=0,le=0;const Ht=Sn=>(v+(U?I-Sn:Sn))%g,vn=()=>{Je!==nt&&(l.lineTo(Z,nt),l.lineTo(Z,Je),l.lineTo(Z,Wt))};for(S&&(we=h[Ht(0)],l.moveTo(we.x,we.y)),Te=0;Te<=I;++Te){if(we=h[Ht(Te)],we.skip)continue;const Sn=we.x,an=we.y,xn=0|Sn;xn===Qe?(an<Je?Je=an:an>nt&&(nt=an),Z=(le*Z+Sn)/++le):(vn(),l.lineTo(Sn,an),Qe=xn,le=0,Je=nt=an),Wt=an}vn()}function lc(l){const a=l.options;return l._decimated||l._loop||a.tension||"monotone"===a.cubicInterpolationMode||a.stepped||a.borderDash&&a.borderDash.length?jl:pu}const gp="function"==typeof Path2D;let Dd=(()=>class l extends Ar{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:s=>"borderDash"!==s&&"fill"!==s};constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,u){const h=this.options;!h.tension&&"monotone"!==h.cubicInterpolationMode||h.stepped||this._pointsUpdated||(Pe(this._points,h,s,h.spanGaps?this._loop:this._fullLoop,u),this._pointsUpdated=!0)}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function nl(l,a){const s=l.points,u=l.options.spanGaps,h=s.length;if(!h)return[];const g=!!l._loop,{start:v,end:I}=function qs(l,a,s,u){let h=0,g=a-1;if(s&&!u)for(;h<a&&!l[h].skip;)h++;for(;h<a&&l[h].skip;)h++;for(h%=a,s&&(g+=h);g>h&&l[g%a].skip;)g--;return g%=a,{start:h,end:g}}(s,h,g,u);return function Va(l,a,s,u){return u&&u.setContext&&s?function pl(l,a,s,u){const h=l._chart.getContext(),g=Wa(l.options),{_datasetIndex:v,options:{spanGaps:I}}=l,S=s.length,U=[];let Z=g,le=a[0].start,Te=le;function we(Qe,Je,nt,Wt){const Ht=I?-1:1;if(Qe!==Je){for(Qe+=S;s[Qe%S].skip;)Qe-=Ht;for(;s[Je%S].skip;)Je+=Ht;Qe%S!=Je%S&&(U.push({start:Qe%S,end:Je%S,loop:nt,style:Wt}),Z=Wt,le=Je%S)}}for(const Qe of a){le=I?le:Qe.start;let nt,Je=s[le%S];for(Te=le+1;Te<=Qe.end;Te++){const Wt=s[Te%S];nt=Wa(u.setContext(Is(h,{type:"segment",p0:Je,p1:Wt,p0DataIndex:(Te-1)%S,p1DataIndex:Te%S,datasetIndex:v}))),ta(nt,Z)&&we(le,Te-1,Qe.loop,Z),Je=Wt,Z=nt}le<Te-1&&we(le,Te-1,Qe.loop,Z)}return U}(l,a,s,u):a}(l,!0===u?[{start:v,end:I,loop:g}]:function ao(l,a,s,u){const h=l.length,g=[];let S,v=a,I=l[a];for(S=a+1;S<=s;++S){const U=l[S%h];U.skip||U.stop?I.skip||(g.push({start:a%h,end:(S-1)%h,loop:u=!1}),a=v=U.stop?S:null):(v=S,I.skip&&(a=S)),I=U}return null!==v&&g.push({start:a%h,end:v%h,loop:u}),g}(s,v,I<v?I+h:I,!!l._fullLoop&&0===v&&I===h-1),s,a)}(this,this.options.segment))}first(){const s=this.segments;return s.length&&this.points[s[0].start]}last(){const s=this.segments,h=s.length;return h&&this.points[s[h-1].end]}interpolate(s,u){const h=this.options,g=s[u],v=this.points,I=wi(this,{property:u,start:g,end:g});if(!I.length)return;const S=[],U=function Ad(l){return l.stepped?us:l.tension||"monotone"===l.cubicInterpolationMode?ea:Hi}(h);let Z,le;for(Z=0,le=I.length;Z<le;++Z){const{start:Te,end:we}=I[Z],Qe=v[Te],Je=v[we];if(Qe===Je){S.push(Qe);continue}const Wt=U(Qe,Je,Math.abs((g-Qe[u])/(Je[u]-Qe[u])),h.stepped);Wt[u]=s[u],S.push(Wt)}return 1===S.length?S[0]:S}pathSegment(s,u,h){return lc(this)(s,this,u,h)}path(s,u,h){const g=this.segments,v=lc(this);let I=this._loop;u=u||0,h=h||this.points.length-u;for(const S of g)I&=v(s,this,S,{start:u,end:u+h-1});return!!I}draw(s,u,h,g){(this.points||[]).length&&(this.options||{}).borderWidth&&(s.save(),function Af(l,a,s,u){gp&&!a.options.segment?function Ah(l,a,s,u){let h=a._path;h||(h=a._path=new Path2D,a.path(h,s,u)&&h.closePath()),Ha(l,a.options),l.stroke(h)}(l,a,s,u):function Dh(l,a,s,u){const{segments:h,options:g}=a,v=lc(a);for(const I of h)Ha(l,g,I.style),l.beginPath(),v(l,a,I,{start:s,end:s+u-1})&&l.closePath(),l.stroke()}(l,a,s,u)}(s,this,h,g),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Hl(l,a,s,u){const h=l.options,{[s]:g}=l.getProps([s],u);return Math.abs(a-g)<h.radius+h.hitRadius}let $u=(()=>class l extends Ar{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,u,h){const g=this.options,{x:v,y:I}=this.getProps(["x","y"],h);return Math.pow(s-v,2)+Math.pow(u-I,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(s,u){return Hl(this,s,"x",u)}inYRange(s,u){return Hl(this,s,"y",u)}getCenterPoint(s){const{x:u,y:h}=this.getProps(["x","y"],s);return{x:u,y:h}}size(s){let u=(s=s||this.options||{}).radius||0;return u=Math.max(u,u&&s.hoverRadius||0),2*(u+(u&&s.borderWidth||0))}draw(s,u){const h=this.options;this.skip||h.radius<.1||!Ps(this,u,this.size(h)/2)||(s.strokeStyle=h.borderColor,s.lineWidth=h.borderWidth,s.fillStyle=h.backgroundColor,vo(s,h,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}})();function Gu(l,a){const{x:s,y:u,base:h,width:g,height:v}=l.getProps(["x","y","base","width","height"],a);let I,S,U,Z,le;return l.horizontal?(le=v/2,I=Math.min(s,h),S=Math.max(s,h),U=u-le,Z=u+le):(le=g/2,I=s-le,S=s+le,U=Math.min(u,h),Z=Math.max(u,h)),{left:I,top:U,right:S,bottom:Z}}function Ds(l,a,s,u){return l?0:gn(a,s,u)}function la(l,a,s,u){const h=null===a,g=null===s,I=l&&!(h&&g)&&Gu(l,u);return I&&(h||br(a,I.left,I.right))&&(g||br(s,I.top,I.bottom))}function cc(l,a){l.rect(a.x,a.y,a.w,a.h)}function zl(l,a,s={}){const u=l.x!==s.x?-a:0,h=l.y!==s.y?-a:0;return{x:l.x+u,y:l.y+h,w:l.w+((l.x+l.w!==s.x+s.w?a:0)-u),h:l.h+((l.y+l.h!==s.y+s.h?a:0)-h),radius:l.radius}}var Ph=Object.freeze({__proto__:null,ArcElement:class kc extends Ar{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,s,u){const h=this.getProps(["x","y"],u),{angle:g,distance:v}=lt(h,{x:a,y:s}),{startAngle:I,endAngle:S,innerRadius:U,outerRadius:Z,circumference:le}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],u),Te=(this.options.spacing+this.options.borderWidth)/2,Qe=on(le,S-I)>=ei||cn(g,I,S),Je=br(v,U+Te,Z+Te);return Qe&&Je}getCenterPoint(a){const{x:s,y:u,startAngle:h,endAngle:g,innerRadius:v,outerRadius:I}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:S,spacing:U}=this.options,Z=(h+g)/2,le=(v+I+U+S)/2;return{x:s+Math.cos(Z)*le,y:u+Math.sin(Z)*le}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:s,circumference:u}=this,h=(s.offset||0)/4,g=(s.spacing||0)/2,v=s.circular;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=u>ei?Math.floor(u/ei):0,0===u||this.innerRadius<0||this.outerRadius<0)return;a.save();const I=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(I)*h,Math.sin(I)*h);const U=h*(1-Math.sin(Math.min(Zr,u||0)));a.fillStyle=s.backgroundColor,a.strokeStyle=s.borderColor,function wh(l,a,s,u,h){const{fullCircles:g,startAngle:v,circumference:I}=a;let S=a.endAngle;if(g){Nc(l,a,s,u,S,h);for(let U=0;U<g;++U)l.fill();isNaN(I)||(S=v+(I%ei||ei))}Nc(l,a,s,u,S,h),l.fill()}(a,this,U,g,v),function fu(l,a,s,u,h){const{fullCircles:g,startAngle:v,circumference:I,options:S}=a,{borderWidth:U,borderJoinStyle:Z,borderDash:le,borderDashOffset:Te}=S,we="inner"===S.borderAlign;if(!U)return;l.setLineDash(le||[]),l.lineDashOffset=Te,we?(l.lineWidth=2*U,l.lineJoin=Z||"round"):(l.lineWidth=U,l.lineJoin=Z||"bevel");let Qe=a.endAngle;if(g){Nc(l,a,s,u,Qe,h);for(let Je=0;Je<g;++Je)l.stroke();isNaN(I)||(Qe=v+(I%ei||ei))}we&&function Fo(l,a,s){const{startAngle:u,pixelMargin:h,x:g,y:v,outerRadius:I,innerRadius:S}=a;let U=h/I;l.beginPath(),l.arc(g,v,I,u-U,s+U),S>h?(U=h/S,l.arc(g,v,S,s+U,u-U,!0)):l.arc(g,v,h,s+zr,u-zr),l.closePath(),l.clip()}(l,a,Qe),g||(Nc(l,a,s,u,Qe,h),l.stroke())}(a,this,U,g,v),a.restore()}},BarElement:class $l extends Ar{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:s,options:{borderColor:u,backgroundColor:h}}=this,{inner:g,outer:v}=function xh(l){const a=Gu(l),s=a.right-a.left,u=a.bottom-a.top,h=function Sh(l,a,s){const h=l.borderSkipped,g=vi(l.options.borderWidth);return{t:Ds(h.top,g.top,0,s),r:Ds(h.right,g.right,0,a),b:Ds(h.bottom,g.bottom,0,s),l:Ds(h.left,g.left,0,a)}}(l,s/2,u/2),g=function gu(l,a,s){const{enableBorderRadius:u}=l.getProps(["enableBorderRadius"]),h=l.options.borderRadius,g=jr(h),v=Math.min(a,s),I=l.borderSkipped,S=u||Rn(h);return{topLeft:Ds(!S||I.top||I.left,g.topLeft,0,v),topRight:Ds(!S||I.top||I.right,g.topRight,0,v),bottomLeft:Ds(!S||I.bottom||I.left,g.bottomLeft,0,v),bottomRight:Ds(!S||I.bottom||I.right,g.bottomRight,0,v)}}(l,s/2,u/2);return{outer:{x:a.left,y:a.top,w:s,h:u,radius:g},inner:{x:a.left+h.l,y:a.top+h.t,w:s-h.l-h.r,h:u-h.t-h.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,g.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(h.b,h.r))}}}}(this),I=function Xa(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}(v.radius)?_s:cc;a.save(),(v.w!==g.w||v.h!==g.h)&&(a.beginPath(),I(a,zl(v,s,g)),a.clip(),I(a,zl(g,-s,v)),a.fillStyle=u,a.fill("evenodd")),a.beginPath(),I(a,zl(g,s)),a.fillStyle=h,a.fill(),a.restore()}inRange(a,s,u){return la(this,a,s,u)}inXRange(a,s){return la(this,a,null,s)}inYRange(a,s){return la(this,null,a,s)}getCenterPoint(a){const{x:s,y:u,base:h,horizontal:g}=this.getProps(["x","y","base","horizontal"],a);return{x:g?(s+h)/2:s,y:g?u:(u+h)/2}}getRange(a){return"x"===a?this.width/2:this.height/2}},LineElement:Dd,PointElement:$u});const qu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],mu=qu.map(l=>l.replace("rgb(","rgba(").replace(")",", 0.5)"));function Df(l){return qu[l%qu.length]}function Lo(l){return mu[l%mu.length]}function xd(l){let a;for(a in l)if(l[a].borderColor||l[a].backgroundColor)return!0;return!1}var uc={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(l,a,s){if(!s.enabled)return;const{data:{datasets:u},options:h}=l.config,{elements:g}=h;if(!s.forceOverride&&(xd(u)||function Pd(l){return l&&(l.borderColor||l.backgroundColor)}(h)||g&&xd(g)))return;const v=function Wu(l){let a=0;return(s,u)=>{const h=l.getDatasetMeta(u).controller;h instanceof K?a=function Gl(l,a){return l.backgroundColor=l.data.map(()=>Df(a++)),a}(s,a):h instanceof D?a=function mp(l,a){return l.backgroundColor=l.data.map(()=>Lo(a++)),a}(s,a):h&&(a=function Sd(l,a){return l.borderColor=Df(a),l.backgroundColor=Lo(a),++a}(s,a))}}(l);u.forEach(v)}};function yu(l){if(l._decimated){const a=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,writable:!0,value:a})}}function dc(l){l.data.datasets.forEach(a=>{yu(a)})}var Sf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,a,s)=>{if(!s.enabled)return void dc(l);const u=l.width;l.data.datasets.forEach((h,g)=>{const{_data:v,indexAxis:I}=h,S=l.getDatasetMeta(g),U=v||h.data;if("y"===qi([I,l.options.indexAxis])||!S.controller.supportsDecimation)return;const Z=l.scales[S.xAxisID];if("linear"!==Z.type&&"time"!==Z.type||l.options.parsing)return;let Qe,{start:le,count:Te}=function vu(l,a){const s=a.length;let h,u=0;const{iScale:g}=l,{min:v,max:I,minDefined:S,maxDefined:U}=g.getUserBounds();return S&&(u=gn(gt(a,g.axis,v).lo,0,s-1)),h=U?gn(gt(a,g.axis,I).hi+1,u,s)-u:s-u,{start:u,count:h}}(S,U);if(Te<=(s.threshold||4*u))yu(h);else{switch(qn(v)&&(h._data=U,delete h.data,Object.defineProperty(h,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Je){this._data=Je}})),s.algorithm){case"lttb":Qe=function _u(l,a,s,u,h){const g=h.samples||u;if(g>=s)return l.slice(a,a+s);const v=[],I=(s-2)/(g-2);let S=0;const U=a+s-1;let le,Te,we,Qe,Je,Z=a;for(v[S++]=l[Z],le=0;le<g-2;le++){let Ht,nt=0,Wt=0;const vn=Math.floor((le+1)*I)+1+a,Sn=Math.min(Math.floor((le+2)*I)+1,s)+a,an=Sn-vn;for(Ht=vn;Ht<Sn;Ht++)nt+=l[Ht].x,Wt+=l[Ht].y;nt/=an,Wt/=an;const xn=Math.floor(le*I)+1+a,hr=Math.min(Math.floor((le+1)*I)+1,s)+a,{x:zn,y:Dr}=l[Z];for(we=Qe=-1,Ht=xn;Ht<hr;Ht++)Qe=.5*Math.abs((zn-nt)*(l[Ht].y-Dr)-(zn-l[Ht].x)*(Wt-Dr)),Qe>we&&(we=Qe,Te=l[Ht],Je=Ht);v[S++]=Te,Z=Je}return v[S++]=l[U],v}(U,le,Te,u,s);break;case"min-max":Qe=function Lc(l,a,s,u){let v,I,S,U,Z,le,Te,we,Qe,Je,h=0,g=0;const nt=[],Ht=l[a].x,Sn=l[a+s-1].x-Ht;for(v=a;v<a+s;++v){I=l[v],S=(I.x-Ht)/Sn*u,U=I.y;const an=0|S;if(an===Z)U<Qe?(Qe=U,le=v):U>Je&&(Je=U,Te=v),h=(g*h+I.x)/++g;else{const xn=v-1;if(!qn(le)&&!qn(Te)){const hr=Math.min(le,Te),zn=Math.max(le,Te);hr!==we&&hr!==xn&&nt.push({...l[hr],x:h}),zn!==we&&zn!==xn&&nt.push({...l[zn],x:h})}v>0&&xn!==we&&nt.push(l[xn]),nt.push(I),Z=an,g=0,Qe=Je=U,le=Te=we=v}}return nt}(U,le,Te,u);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}h._decimated=Qe}})},destroy(l){dc(l)}};function Vc(l,a,s,u){if(u)return;let h=a[l],g=s[l];return"angle"===l&&(h=Bt(h),g=Bt(g)),{property:l,start:h,end:g}}function Zu(l,a,s){for(;a>l;a--){const u=s[a];if(!isNaN(u.x)&&!isNaN(u.y))break}return a}function Rd(l,a,s,u){return l&&a?u(l[s],a[s]):l?l[s]:a?a[s]:0}function Ao(l,a){let s=[],u=!1;return $n(l)?(u=!0,s=l):s=function Uc(l,a){const{x:s=null,y:u=null}=l||{},h=a.points,g=[];return a.segments.forEach(({start:v,end:I})=>{I=Zu(v,I,h);const S=h[v],U=h[I];null!==u?(g.push({x:S.x,y:u}),g.push({x:U.x,y:u})):null!==s&&(g.push({x:s,y:S.y}),g.push({x:s,y:U.y}))}),g}(l,a),s.length?new Dd({points:s,options:{tension:0},_loop:u,_fullLoop:u}):null}function Eu(l){return l&&!1!==l.fill}function Md(l,a,s){let h=l[a].fill;const g=[a];let v;if(!s)return h;for(;!1!==h&&-1===g.indexOf(h);){if(!en(h))return h;if(v=l[h],!v)return!1;if(v.visible)return h;g.push(h),h=v.fill}return!1}function Ku(l,a,s){const u=function Yu(l){const a=l.options,s=a.fill;let u=on(s&&s.target,s);return void 0===u&&(u=!!a.backgroundColor),!1!==u&&null!==u&&(!0===u?"origin":u)}(l);if(Rn(u))return!isNaN(u.value)&&u;let h=parseFloat(u);return en(h)&&Math.floor(h)===h?function Tu(l,a,s,u){return("-"===l||"+"===l)&&(s=a+s),!(s===a||s<0||s>=u)&&s}(u[0],a,h,s):["origin","start","end","stack","shape"].indexOf(u)>=0&&u}function Od(l,a,s){const u=[];for(let h=0;h<s.length;h++){const g=s[h],{first:v,last:I,point:S}=_p(g,a,"x");if(!(!S||v&&I))if(v)u.unshift(S);else if(l.push(S),!I)break}l.push(...u)}function _p(l,a,s){const u=l.interpolate(a,s);if(!u)return{};const h=u[s],g=l.segments,v=l.points;let I=!1,S=!1;for(let U=0;U<g.length;U++){const Z=g[U],le=v[Z.start][s],Te=v[Z.end][s];if(br(h,le,Te)){I=h===le,S=h===Te;break}}return{first:I,last:S,point:u}}class Bc{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,s,u){const{x:h,y:g,radius:v}=this;return a.arc(h,g,v,(s=s||{start:0,end:ei}).end,s.start,!0),!u.bounds}interpolate(a){const{x:s,y:u,radius:h}=this,g=a.angle;return{x:s+Math.cos(g)*h,y:u+Math.sin(g)*h,angle:g}}}function wu(l,a,s){const u=function Nd(l){const{chart:a,fill:s,line:u}=l;if(en(s))return function jc(l,a){const s=l.getDatasetMeta(a);return s&&l.isDatasetVisible(a)?s.dataset:null}(a,s);if("stack"===s)return function xf(l){const{scale:a,index:s,line:u}=l,h=[],g=u.segments,v=u.points,I=function Pf(l,a){const s=[],u=l.getMatchingVisibleMetas("line");for(let h=0;h<u.length;h++){const g=u[h];if(g.index===a)break;g.hidden||s.unshift(g.dataset)}return s}(a,s);I.push(Ao({x:null,y:a.bottom},u));for(let S=0;S<g.length;S++){const U=g[S];for(let Z=U.start;Z<=U.end;Z++)Od(h,v[Z],I)}return new Dd({points:h,options:{}})}(l);if("shape"===s)return!0;const h=function Hc(l){return(l.scale||{}).getPointPositionForValue?function zc(l){const{scale:a,fill:s}=l,u=a.options,h=a.getLabels().length,g=u.reverse?a.max:a.min,v=function fc(l,a,s){let u;return u="start"===l?s:"end"===l?a.options.reverse?a.min:a.max:Rn(l)?l.value:a.getBaseValue(),u}(s,a,g),I=[];if(u.grid.circular){const S=a.getPointPositionForValue(0,g);return new Bc({x:S.x,y:S.y,radius:a.getDistanceFromCenterForValue(v)})}for(let S=0;S<h;++S)I.push(a.getPointPositionForValue(S,v));return I}(l):function Iu(l){const{scale:a={},fill:s}=l,u=function hc(l,a){let s=null;return"start"===l?s=a.bottom:"end"===l?s=a.top:Rn(l)?s=a.getPixelForValue(l.value):a.getBasePixel&&(s=a.getBasePixel()),s}(s,a);if(en(u)){const h=a.isHorizontal();return{x:h?u:null,y:h?null:u}}return null}(l)}(l);return h instanceof Bc?h:Ao(h,u)}(a),{line:h,scale:g,axis:v}=a,I=h.options,S=I.fill,U=I.backgroundColor,{above:Z=U,below:le=U}=S||{};u&&h.points.length&&(eo(l,s),function yp(l,a){const{line:s,target:u,above:h,below:g,area:v,scale:I}=a,S=s._loop?"angle":a.axis;l.save(),"x"===S&&g!==h&&(Qu(l,u,v.top),Rh(l,{line:s,target:u,color:h,scale:I,property:S}),l.restore(),l.save(),Qu(l,u,v.bottom)),Rh(l,{line:s,target:u,color:g,scale:I,property:S}),l.restore()}(l,{line:h,target:u,above:Z,below:le,area:s,scale:g,axis:v}),Nr(l))}function Qu(l,a,s){const{segments:u,points:h}=a;let g=!0,v=!1;l.beginPath();for(const I of u){const{start:S,end:U}=I,Z=h[S],le=h[Zu(S,U,h)];g?(l.moveTo(Z.x,Z.y),g=!1):(l.lineTo(Z.x,s),l.lineTo(Z.x,Z.y)),v=!!a.pathSegment(l,I,{move:v}),v?l.closePath():l.lineTo(le.x,s)}l.lineTo(a.first().x,s),l.closePath(),l.clip()}function Rh(l,a){const{line:s,target:u,property:h,color:g,scale:v}=a,I=function bu(l,a,s){const u=l.segments,h=l.points,g=a.points,v=[];for(const I of u){let{start:S,end:U}=I;U=Zu(S,U,h);const Z=Vc(s,h[S],h[U],I.loop);if(!a.segments){v.push({source:I,target:Z,start:h[S],end:h[U]});continue}const le=wi(a,Z);for(const Te of le){const we=Vc(s,g[Te.start],g[Te.end],Te.loop),Qe=La(I,h,we);for(const Je of Qe)v.push({source:Je,target:Te,start:{[s]:Rd(Z,we,"start",Math.max)},end:{[s]:Rd(Z,we,"end",Math.min)}})}}return v}(s,u,h);for(const{source:S,target:U,start:Z,end:le}of I){const{style:{backgroundColor:Te=g}={}}=S,we=!0!==u;l.save(),l.fillStyle=Te,pc(l,v,we&&Vc(h,Z,le)),l.beginPath();const Qe=!!s.pathSegment(l,S);let Je;if(we){Qe?l.closePath():Mh(l,u,le,h);const nt=!!u.pathSegment(l,U,{move:Qe,reverse:!0});Je=Qe&&nt,Je||Mh(l,u,Z,h)}l.closePath(),l.fill(Je?"evenodd":"nonzero"),l.restore()}}function pc(l,a,s){const{top:u,bottom:h}=a.chart.chartArea,{property:g,start:v,end:I}=s||{};"x"===g&&(l.beginPath(),l.rect(v,u,I-v,h-u),l.clip())}function Mh(l,a,s,u){const h=a.interpolate(s,u);h&&l.lineTo(h.x,h.y)}var Oh={id:"filler",afterDatasetsUpdate(l,a,s){const u=(l.data.datasets||[]).length,h=[];let g,v,I,S;for(v=0;v<u;++v)g=l.getDatasetMeta(v),I=g.dataset,S=null,I&&I.options&&I instanceof Dd&&(S={visible:l.isDatasetVisible(v),index:v,fill:Ku(I,v,u),chart:l,axis:g.controller.options.indexAxis,scale:g.vScale,line:I}),g.$filler=S,h.push(S);for(v=0;v<u;++v)S=h[v],S&&!1!==S.fill&&(S.fill=Md(h,v,s.propagate))},beforeDraw(l,a,s){const u="beforeDraw"===s.drawTime,h=l.getSortedVisibleDatasetMetas(),g=l.chartArea;for(let v=h.length-1;v>=0;--v){const I=h[v].$filler;I&&(I.line.updateControlPoints(g,I.axis),u&&I.fill&&wu(l.ctx,I,g))}},beforeDatasetsDraw(l,a,s){if("beforeDatasetsDraw"!==s.drawTime)return;const u=l.getSortedVisibleDatasetMetas();for(let h=u.length-1;h>=0;--h){const g=u[h].$filler;Eu(g)&&wu(l.ctx,g,l.chartArea)}},beforeDatasetDraw(l,a,s){const u=a.meta.$filler;!Eu(u)||"beforeDatasetDraw"!==s.drawTime||wu(l.ctx,u,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kd=(l,a)=>{let{boxHeight:s=a,boxWidth:u=a}=l;return l.usePointStyle&&(s=Math.min(s,a),u=l.pointStyleWidth||Math.min(u,a)),{boxWidth:u,boxHeight:s,itemHeight:Math.max(a,s)}};class Cu extends Ar{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,s,u){this.maxWidth=a,this.maxHeight=s,this._margins=u,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const a=this.options.labels||{};let s=jt(a.generateLabels,[this.chart],this)||[];a.filter&&(s=s.filter(u=>a.filter(u,this.chart.data))),a.sort&&(s=s.sort((u,h)=>a.sort(u,h,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:a,ctx:s}=this;if(!a.display)return void(this.width=this.height=0);const u=a.labels,h=Kr(u.font),g=h.size,v=this._computeTitleHeight(),{boxWidth:I,itemHeight:S}=kd(u,g);let U,Z;s.font=h.string,this.isHorizontal()?(U=this.maxWidth,Z=this._fitRows(v,g,I,S)+10):(Z=this.maxHeight,U=this._fitCols(v,h,I,S)+10),this.width=Math.min(U,a.maxWidth||this.maxWidth),this.height=Math.min(Z,a.maxHeight||this.maxHeight)}_fitRows(a,s,u,h){const{ctx:g,maxWidth:v,options:{labels:{padding:I}}}=this,S=this.legendHitBoxes=[],U=this.lineWidths=[0],Z=h+I;let le=a;g.textAlign="left",g.textBaseline="middle";let Te=-1,we=-Z;return this.legendItems.forEach((Qe,Je)=>{const nt=u+s/2+g.measureText(Qe.text).width;(0===Je||U[U.length-1]+nt+2*I>v)&&(le+=Z,U[U.length-(Je>0?0:1)]=0,we+=Z,Te++),S[Je]={left:0,top:we,row:Te,width:nt,height:h},U[U.length-1]+=nt+I}),le}_fitCols(a,s,u,h){const{ctx:g,maxHeight:v,options:{labels:{padding:I}}}=this,S=this.legendHitBoxes=[],U=this.columnSizes=[],Z=v-a;let le=I,Te=0,we=0,Qe=0,Je=0;return this.legendItems.forEach((nt,Wt)=>{const{itemWidth:Ht,itemHeight:vn}=function hg(l,a,s,u,h){const g=function Nh(l,a,s,u){let h=l.text;return h&&"string"!=typeof h&&(h=h.reduce((g,v)=>g.length>v.length?g:v)),a+s.size/2+u.measureText(h).width}(u,l,a,s),v=function fg(l,a,s){let u=l;return"string"!=typeof a.text&&(u=kh(a,s)),u}(h,u,a.lineHeight);return{itemWidth:g,itemHeight:v}}(u,s,g,nt,h);Wt>0&&we+vn+2*I>Z&&(le+=Te+I,U.push({width:Te,height:we}),Qe+=Te+I,Je++,Te=we=0),S[Wt]={left:Qe,top:we,col:Je,width:Ht,height:vn},Te=Math.max(Te,Ht),we+=vn+I}),le+=Te,U.push({width:Te,height:we}),le}adjustHitBoxes(){if(!this.options.display)return;const a=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:u,labels:{padding:h},rtl:g}}=this,v=Ms(g,this.left,this.width);if(this.isHorizontal()){let I=0,S=di(u,this.left+h,this.right-this.lineWidths[I]);for(const U of s)I!==U.row&&(I=U.row,S=di(u,this.left+h,this.right-this.lineWidths[I])),U.top+=this.top+a+h,U.left=v.leftForLtr(v.x(S),U.width),S+=U.width+h}else{let I=0,S=di(u,this.top+a+h,this.bottom-this.columnSizes[I].height);for(const U of s)U.col!==I&&(I=U.col,S=di(u,this.top+a+h,this.bottom-this.columnSizes[I].height)),U.top=S,U.left+=this.left+h,U.left=v.leftForLtr(v.x(U.left),U.width),S+=U.height+h}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const a=this.ctx;eo(a,this),this._draw(),Nr(a)}}_draw(){const{options:a,columnSizes:s,lineWidths:u,ctx:h}=this,{align:g,labels:v}=a,I=xi.color,S=Ms(a.rtl,this.left,this.width),U=Kr(v.font),{padding:Z}=v,le=U.size,Te=le/2;let we;this.drawTitle(),h.textAlign=S.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=U.string;const{boxWidth:Qe,boxHeight:Je,itemHeight:nt}=kd(v,le),vn=this.isHorizontal(),Sn=this._computeTitleHeight();we=vn?{x:di(g,this.left+Z,this.right-u[0]),y:this.top+Z+Sn,line:0}:{x:this.left+Z,y:di(g,this.top+Sn+Z,this.bottom-s[0].height),line:0},Pl(this.ctx,a.textDirection);const an=nt+Z;this.legendItems.forEach((xn,hr)=>{h.strokeStyle=xn.fontColor,h.fillStyle=xn.fontColor;const zn=h.measureText(xn.text).width,Dr=S.textAlign(xn.textAlign||(xn.textAlign=v.textAlign)),ci=Qe+Te+zn;let ui=we.x,fi=we.y;S.setWidth(this.width),vn?hr>0&&ui+ci+Z>this.right&&(fi=we.y+=an,we.line++,ui=we.x=di(g,this.left+Z,this.right-u[we.line])):hr>0&&fi+an>this.bottom&&(ui=we.x=ui+s[we.line].width+Z,we.line++,fi=we.y=di(g,this.top+Sn+Z,this.bottom-s[we.line].height)),function(xn,hr,zn){if(isNaN(Qe)||Qe<=0||isNaN(Je)||Je<0)return;h.save();const Dr=on(zn.lineWidth,1);if(h.fillStyle=on(zn.fillStyle,I),h.lineCap=on(zn.lineCap,"butt"),h.lineDashOffset=on(zn.lineDashOffset,0),h.lineJoin=on(zn.lineJoin,"miter"),h.lineWidth=Dr,h.strokeStyle=on(zn.strokeStyle,I),h.setLineDash(on(zn.lineDash,[])),v.usePointStyle){const ci={radius:Je*Math.SQRT2/2,pointStyle:zn.pointStyle,rotation:zn.rotation,borderWidth:Dr},ui=S.xPlus(xn,Qe/2);Ls(h,ci,ui,hr+Te,v.pointStyleWidth&&Qe)}else{const ci=hr+Math.max((le-Je)/2,0),ui=S.leftForLtr(xn,Qe),fi=jr(zn.borderRadius);h.beginPath(),Object.values(fi).some(Vo=>0!==Vo)?_s(h,{x:ui,y:ci,w:Qe,h:Je,radius:fi}):h.rect(ui,ci,Qe,Je),h.fill(),0!==Dr&&h.stroke()}h.restore()}(S.x(ui),fi,xn),ui=((l,a,s,u)=>l===(u?"left":"right")?s:"center"===l?(a+s)/2:a)(Dr,ui+Qe+Te,vn?ui+ci:this.right,a.rtl),function(xn,hr,zn){ms(h,zn.text,xn,hr+nt/2,U,{strikethrough:zn.hidden,textAlign:S.textAlign(zn.textAlign)})}(S.x(ui),fi,xn),vn?we.x+=ci+Z:we.y+="string"!=typeof xn.text?kh(xn,U.lineHeight)+Z:an}),Bo(this.ctx,a.textDirection)}drawTitle(){const a=this.options,s=a.title,u=Kr(s.font),h=Ii(s.padding);if(!s.display)return;const g=Ms(a.rtl,this.left,this.width),v=this.ctx,I=s.position,U=h.top+u.size/2;let Z,le=this.left,Te=this.width;if(this.isHorizontal())Te=Math.max(...this.lineWidths),Z=this.top+U,le=di(a.align,le,this.right-Te);else{const Qe=this.columnSizes.reduce((Je,nt)=>Math.max(Je,nt.height),0);Z=U+di(a.align,this.top,this.bottom-Qe-a.labels.padding-this._computeTitleHeight())}const we=di(I,le,le+Te);v.textAlign=g.textAlign(si(I)),v.textBaseline="middle",v.strokeStyle=s.color,v.fillStyle=s.color,v.font=u.string,ms(v,s.text,we,Z,u)}_computeTitleHeight(){const a=this.options.title,s=Kr(a.font),u=Ii(a.padding);return a.display?s.lineHeight+u.height:0}_getLegendItemAt(a,s){let u,h,g;if(br(a,this.left,this.right)&&br(s,this.top,this.bottom))for(g=this.legendHitBoxes,u=0;u<g.length;++u)if(h=g[u],br(a,h.left,h.left+h.width)&&br(s,h.top,h.top+h.height))return this.legendItems[u];return null}handleEvent(a){const s=this.options;if(!function Fh(l,a){return!(("mousemove"!==l&&"mouseout"!==l||!a.onHover&&!a.onLeave)&&(!a.onClick||"click"!==l&&"mouseup"!==l))}(a.type,s))return;const u=this._getLegendItemAt(a.x,a.y);if("mousemove"===a.type||"mouseout"===a.type){const h=this._hoveredItem,g=((l,a)=>null!==l&&null!==a&&l.datasetIndex===a.datasetIndex&&l.index===a.index)(h,u);h&&!g&&jt(s.onLeave,[a,h,this],this),this._hoveredItem=u,u&&!g&&jt(s.onHover,[a,u,this],this)}else u&&jt(s.onClick,[a,u,this],this)}}function kh(l,a){return a*(l.text?l.text.length:0)}var Lh={id:"legend",_element:Cu,start(l,a,s){const u=l.legend=new Cu({ctx:l.ctx,options:s,chart:l});cr.configure(l,u,s),cr.addBox(l,u)},stop(l){cr.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,a,s){const u=l.legend;cr.configure(l,u,s),u.options=s},afterUpdate(l){const a=l.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(l,a){a.replay||l.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,a,s){const u=a.datasetIndex,h=s.chart;h.isDatasetVisible(u)?(h.hide(u),a.hidden=!0):(h.show(u),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const a=l.data.datasets,{labels:{usePointStyle:s,pointStyle:u,textAlign:h,color:g,useBorderRadius:v,borderRadius:I}}=l.legend.options;return l._getSortedDatasetMetas().map(S=>{const U=S.controller.getStyle(s?0:void 0),Z=Ii(U.borderWidth);return{text:a[S.index].label,fillStyle:U.backgroundColor,fontColor:g,hidden:!S.visible,lineCap:U.borderCapStyle,lineDash:U.borderDash,lineDashOffset:U.borderDashOffset,lineJoin:U.borderJoinStyle,lineWidth:(Z.width+Z.height)/4,strokeStyle:U.borderColor,pointStyle:u||U.pointStyle,rotation:U.rotation,textAlign:h||U.textAlign,borderRadius:v&&(I||U.borderRadius),datasetIndex:S.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class $c extends Ar{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,s){const u=this.options;if(this.left=0,this.top=0,!u.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=a,this.height=this.bottom=s;const h=$n(u.text)?u.text.length:1;this._padding=Ii(u.padding);const g=h*Kr(u.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const a=this.options.position;return"top"===a||"bottom"===a}_drawArgs(a){const{top:s,left:u,bottom:h,right:g,options:v}=this,I=v.align;let U,Z,le,S=0;return this.isHorizontal()?(Z=di(I,u,g),le=s+a,U=g-u):("left"===v.position?(Z=u+a,le=di(I,h,s),S=-.5*Zr):(Z=g-a,le=di(I,s,h),S=.5*Zr),U=h-s),{titleX:Z,titleY:le,maxWidth:U,rotation:S}}draw(){const a=this.ctx,s=this.options;if(!s.display)return;const u=Kr(s.font),g=u.lineHeight/2+this._padding.top,{titleX:v,titleY:I,maxWidth:S,rotation:U}=this._drawArgs(g);ms(a,s.text,0,0,u,{color:s.color,maxWidth:S,rotation:U,textAlign:si(s.align),textBaseline:"middle",translation:[v,I]})}}var Fd={id:"title",_element:$c,start(l,a,s){!function ql(l,a){const s=new $c({ctx:l.ctx,options:a,chart:l});cr.configure(l,s,a),cr.addBox(l,s),l.titleBlock=s}(l,s)},stop(l){cr.removeBox(l,l.titleBlock),delete l.titleBlock},beforeUpdate(l,a,s){const u=l.titleBlock;cr.configure(l,u,s),u.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ju=new WeakMap;var Rf={id:"subtitle",start(l,a,s){const u=new $c({ctx:l.ctx,options:s,chart:l});cr.configure(l,u,s),cr.addBox(l,u),Ju.set(l,u)},stop(l){cr.removeBox(l,Ju.get(l)),Ju.delete(l)},beforeUpdate(l,a,s){const u=Ju.get(l);cr.configure(l,u,s),u.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cl={average(l){if(!l.length)return!1;let a,s,u=new Set,h=0,g=0;for(a=0,s=l.length;a<s;++a){const I=l[a].element;if(I&&I.hasValue()){const S=I.tooltipPosition();u.add(S.x),h+=S.y,++g}}return{x:[...u].reduce((I,S)=>I+S)/u.size,y:h/g}},nearest(l,a){if(!l.length)return!1;let g,v,I,s=a.x,u=a.y,h=Number.POSITIVE_INFINITY;for(g=0,v=l.length;g<v;++g){const S=l[g].element;if(S&&S.hasValue()){const Z=ze(a,S.getCenterPoint());Z<h&&(h=Z,I=S)}}if(I){const S=I.tooltipPosition();s=S.x,u=S.y}return{x:s,y:u}}};function el(l,a){return a&&($n(a)?Array.prototype.push.apply(l,a):l.push(a)),l}function wl(l){return("string"==typeof l||l instanceof String)&&l.indexOf("\n")>-1?l.split("\n"):l}function Au(l,a){const{element:s,datasetIndex:u,index:h}=a,g=l.getDatasetMeta(u).controller,{label:v,value:I}=g.getLabelAndValue(h);return{chart:l,label:v,parsed:g.getParsed(h),raw:l.data.datasets[u].data[h],formattedValue:I,dataset:g.getDataset(),dataIndex:h,datasetIndex:u,element:s}}function Xu(l,a){const s=l.chart.ctx,{body:u,footer:h,title:g}=l,{boxWidth:v,boxHeight:I}=a,S=Kr(a.bodyFont),U=Kr(a.titleFont),Z=Kr(a.footerFont),le=g.length,Te=h.length,we=u.length,Qe=Ii(a.padding);let Je=Qe.height,nt=0,Wt=u.reduce((Sn,an)=>Sn+an.before.length+an.lines.length+an.after.length,0);Wt+=l.beforeBody.length+l.afterBody.length,le&&(Je+=le*U.lineHeight+(le-1)*a.titleSpacing+a.titleMarginBottom),Wt&&(Je+=we*(a.displayColors?Math.max(I,S.lineHeight):S.lineHeight)+(Wt-we)*S.lineHeight+(Wt-1)*a.bodySpacing),Te&&(Je+=a.footerMarginTop+Te*Z.lineHeight+(Te-1)*a.footerSpacing);let Ht=0;const vn=function(Sn){nt=Math.max(nt,s.measureText(Sn).width+Ht)};return s.save(),s.font=U.string,fr(l.title,vn),s.font=S.string,fr(l.beforeBody.concat(l.afterBody),vn),Ht=a.displayColors?v+2+a.boxPadding:0,fr(u,Sn=>{fr(Sn.before,vn),fr(Sn.lines,vn),fr(Sn.after,vn)}),Ht=0,s.font=Z.string,fr(l.footer,vn),s.restore(),nt+=Qe.width,{width:nt,height:Je}}function Vh(l,a,s,u){const{x:h,width:g}=s,{width:v,chartArea:{left:I,right:S}}=l;let U="center";return"center"===u?U=h<=(I+S)/2?"left":"right":h<=g/2?U="left":h>=v-g/2&&(U="right"),function vp(l,a,s,u){const{x:h,width:g}=u,v=s.caretSize+s.caretPadding;if("left"===l&&h+g+v>a.width||"right"===l&&h-g-v<0)return!0}(U,l,a,s)&&(U="center"),U}function Mf(l,a,s){const u=s.yAlign||a.yAlign||function Du(l,a){const{y:s,height:u}=a;return s<u/2?"top":s>l.height-u/2?"bottom":"center"}(l,s);return{xAlign:s.xAlign||a.xAlign||Vh(l,a,s,u),yAlign:u}}function ed(l,a,s,u){const{caretSize:h,caretPadding:g,cornerRadius:v}=l,{xAlign:I,yAlign:S}=s,U=h+g,{topLeft:Z,topRight:le,bottomLeft:Te,bottomRight:we}=jr(v);let Qe=function Ld(l,a){let{x:s,width:u}=l;return"right"===a?s-=u:"center"===a&&(s-=u/2),s}(a,I);const Je=function Vd(l,a,s){let{y:u,height:h}=l;return"top"===a?u+=s:u-="bottom"===a?h+s:h/2,u}(a,S,U);return"center"===S?"left"===I?Qe+=U:"right"===I&&(Qe-=U):"left"===I?Qe-=Math.max(Z,Te)+h:"right"===I&&(Qe+=Math.max(le,we)+h),{x:gn(Qe,0,u.width-a.width),y:gn(Je,0,u.height-a.height)}}function Su(l,a,s){const u=Ii(s.padding);return"center"===a?l.x+l.width/2:"right"===a?l.x+l.width-u.right:l.x+u.left}function Ud(l){return el([],wl(l))}function Wl(l,a){const s=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return s?l.override(s):l}const Bd={beforeTitle:Zt,title(l){if(l.length>0){const a=l[0],s=a.chart.data.labels,u=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return a.dataset.label||"";if(a.label)return a.label;if(u>0&&a.dataIndex<u)return s[a.dataIndex]}return""},afterTitle:Zt,beforeBody:Zt,beforeLabel:Zt,label(l){if(this&&this.options&&"dataset"===this.options.mode)return l.label+": "+l.formattedValue||l.formattedValue;let a=l.dataset.label||"";a&&(a+=": ");const s=l.formattedValue;return qn(s)||(a+=s),a},labelColor(l){const s=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const s=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Zt,afterBody:Zt,beforeFooter:Zt,footer:Zt,afterFooter:Zt};function ss(l,a,s,u){const h=l[a].call(s,u);return typeof h>"u"?Bd[a].call(s,u):h}let Cl=(()=>class l extends Ar{static positioners=cl;constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const u=this.chart,h=this.options.setContext(this.getContext()),g=h.enabled&&u.options.animation&&h.animations,v=new ra(this.chart,g);return g._cacheable&&(this._cachedAnimations=Object.freeze(v)),v}getContext(){return this.$context||(this.$context=function Gc(l,a,s){return Is(l,{tooltip:a,tooltipItems:s,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,u){const{callbacks:h}=u,g=ss(h,"beforeTitle",this,s),v=ss(h,"title",this,s),I=ss(h,"afterTitle",this,s);let S=[];return S=el(S,wl(g)),S=el(S,wl(v)),S=el(S,wl(I)),S}getBeforeBody(s,u){return Ud(ss(u.callbacks,"beforeBody",this,s))}getBody(s,u){const{callbacks:h}=u,g=[];return fr(s,v=>{const I={before:[],lines:[],after:[]},S=Wl(h,v);el(I.before,wl(ss(S,"beforeLabel",this,v))),el(I.lines,ss(S,"label",this,v)),el(I.after,wl(ss(S,"afterLabel",this,v))),g.push(I)}),g}getAfterBody(s,u){return Ud(ss(u.callbacks,"afterBody",this,s))}getFooter(s,u){const{callbacks:h}=u,g=ss(h,"beforeFooter",this,s),v=ss(h,"footer",this,s),I=ss(h,"afterFooter",this,s);let S=[];return S=el(S,wl(g)),S=el(S,wl(v)),S=el(S,wl(I)),S}_createItems(s){const u=this._active,h=this.chart.data,g=[],v=[],I=[];let U,Z,S=[];for(U=0,Z=u.length;U<Z;++U)S.push(Au(this.chart,u[U]));return s.filter&&(S=S.filter((le,Te,we)=>s.filter(le,Te,we,h))),s.itemSort&&(S=S.sort((le,Te)=>s.itemSort(le,Te,h))),fr(S,le=>{const Te=Wl(s.callbacks,le);g.push(ss(Te,"labelColor",this,le)),v.push(ss(Te,"labelPointStyle",this,le)),I.push(ss(Te,"labelTextColor",this,le))}),this.labelColors=g,this.labelPointStyles=v,this.labelTextColors=I,this.dataPoints=S,S}update(s,u){const h=this.options.setContext(this.getContext()),g=this._active;let v,I=[];if(g.length){const S=cl[h.position].call(this,g,this._eventPosition);I=this._createItems(h),this.title=this.getTitle(I,h),this.beforeBody=this.getBeforeBody(I,h),this.body=this.getBody(I,h),this.afterBody=this.getAfterBody(I,h),this.footer=this.getFooter(I,h);const U=this._size=Xu(this,h),Z=Object.assign({},S,U),le=Mf(this.chart,h,Z),Te=ed(h,Z,le,this.chart);this.xAlign=le.xAlign,this.yAlign=le.yAlign,v={opacity:1,x:Te.x,y:Te.y,width:U.width,height:U.height,caretX:S.x,caretY:S.y}}else 0!==this.opacity&&(v={opacity:0});this._tooltipItems=I,this.$context=void 0,v&&this._resolveAnimations().update(this,v),s&&h.external&&h.external.call(this,{chart:this.chart,tooltip:this,replay:u})}drawCaret(s,u,h,g){const v=this.getCaretPosition(s,h,g);u.lineTo(v.x1,v.y1),u.lineTo(v.x2,v.y2),u.lineTo(v.x3,v.y3)}getCaretPosition(s,u,h){const{xAlign:g,yAlign:v}=this,{caretSize:I,cornerRadius:S}=h,{topLeft:U,topRight:Z,bottomLeft:le,bottomRight:Te}=jr(S),{x:we,y:Qe}=s,{width:Je,height:nt}=u;let Wt,Ht,vn,Sn,an,xn;return"center"===v?(an=Qe+nt/2,"left"===g?(Wt=we,Ht=Wt-I,Sn=an+I,xn=an-I):(Wt=we+Je,Ht=Wt+I,Sn=an-I,xn=an+I),vn=Wt):(Ht="left"===g?we+Math.max(U,le)+I:"right"===g?we+Je-Math.max(Z,Te)-I:this.caretX,"top"===v?(Sn=Qe,an=Sn-I,Wt=Ht-I,vn=Ht+I):(Sn=Qe+nt,an=Sn+I,Wt=Ht+I,vn=Ht-I),xn=Sn),{x1:Wt,x2:Ht,x3:vn,y1:Sn,y2:an,y3:xn}}drawTitle(s,u,h){const g=this.title,v=g.length;let I,S,U;if(v){const Z=Ms(h.rtl,this.x,this.width);for(s.x=Su(this,h.titleAlign,h),u.textAlign=Z.textAlign(h.titleAlign),u.textBaseline="middle",I=Kr(h.titleFont),S=h.titleSpacing,u.fillStyle=h.titleColor,u.font=I.string,U=0;U<v;++U)u.fillText(g[U],Z.x(s.x),s.y+I.lineHeight/2),s.y+=I.lineHeight+S,U+1===v&&(s.y+=h.titleMarginBottom-S)}}_drawColorBox(s,u,h,g,v){const I=this.labelColors[h],S=this.labelPointStyles[h],{boxHeight:U,boxWidth:Z}=v,le=Kr(v.bodyFont),Te=Su(this,"left",v),we=g.x(Te),Je=u.y+(U<le.lineHeight?(le.lineHeight-U)/2:0);if(v.usePointStyle){const nt={radius:Math.min(Z,U)/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:1},Wt=g.leftForLtr(we,Z)+Z/2,Ht=Je+U/2;s.strokeStyle=v.multiKeyBackground,s.fillStyle=v.multiKeyBackground,vo(s,nt,Wt,Ht),s.strokeStyle=I.borderColor,s.fillStyle=I.backgroundColor,vo(s,nt,Wt,Ht)}else{s.lineWidth=Rn(I.borderWidth)?Math.max(...Object.values(I.borderWidth)):I.borderWidth||1,s.strokeStyle=I.borderColor,s.setLineDash(I.borderDash||[]),s.lineDashOffset=I.borderDashOffset||0;const nt=g.leftForLtr(we,Z),Wt=g.leftForLtr(g.xPlus(we,1),Z-2),Ht=jr(I.borderRadius);Object.values(Ht).some(vn=>0!==vn)?(s.beginPath(),s.fillStyle=v.multiKeyBackground,_s(s,{x:nt,y:Je,w:Z,h:U,radius:Ht}),s.fill(),s.stroke(),s.fillStyle=I.backgroundColor,s.beginPath(),_s(s,{x:Wt,y:Je+1,w:Z-2,h:U-2,radius:Ht}),s.fill()):(s.fillStyle=v.multiKeyBackground,s.fillRect(nt,Je,Z,U),s.strokeRect(nt,Je,Z,U),s.fillStyle=I.backgroundColor,s.fillRect(Wt,Je+1,Z-2,U-2))}s.fillStyle=this.labelTextColors[h]}drawBody(s,u,h){const{body:g}=this,{bodySpacing:v,bodyAlign:I,displayColors:S,boxHeight:U,boxWidth:Z,boxPadding:le}=h,Te=Kr(h.bodyFont);let we=Te.lineHeight,Qe=0;const Je=Ms(h.rtl,this.x,this.width),nt=function(Dr){u.fillText(Dr,Je.x(s.x+Qe),s.y+we/2),s.y+=we+v},Wt=Je.textAlign(I);let Ht,vn,Sn,an,xn,hr,zn;for(u.textAlign=I,u.textBaseline="middle",u.font=Te.string,s.x=Su(this,Wt,h),u.fillStyle=h.bodyColor,fr(this.beforeBody,nt),Qe=S&&"right"!==Wt?"center"===I?Z/2+le:Z+2+le:0,an=0,hr=g.length;an<hr;++an){for(Ht=g[an],vn=this.labelTextColors[an],u.fillStyle=vn,fr(Ht.before,nt),Sn=Ht.lines,S&&Sn.length&&(this._drawColorBox(u,s,an,Je,h),we=Math.max(Te.lineHeight,U)),xn=0,zn=Sn.length;xn<zn;++xn)nt(Sn[xn]),we=Te.lineHeight;fr(Ht.after,nt)}Qe=0,we=Te.lineHeight,fr(this.afterBody,nt),s.y-=v}drawFooter(s,u,h){const g=this.footer,v=g.length;let I,S;if(v){const U=Ms(h.rtl,this.x,this.width);for(s.x=Su(this,h.footerAlign,h),s.y+=h.footerMarginTop,u.textAlign=U.textAlign(h.footerAlign),u.textBaseline="middle",I=Kr(h.footerFont),u.fillStyle=h.footerColor,u.font=I.string,S=0;S<v;++S)u.fillText(g[S],U.x(s.x),s.y+I.lineHeight/2),s.y+=I.lineHeight+h.footerSpacing}}drawBackground(s,u,h,g){const{xAlign:v,yAlign:I}=this,{x:S,y:U}=s,{width:Z,height:le}=h,{topLeft:Te,topRight:we,bottomLeft:Qe,bottomRight:Je}=jr(g.cornerRadius);u.fillStyle=g.backgroundColor,u.strokeStyle=g.borderColor,u.lineWidth=g.borderWidth,u.beginPath(),u.moveTo(S+Te,U),"top"===I&&this.drawCaret(s,u,h,g),u.lineTo(S+Z-we,U),u.quadraticCurveTo(S+Z,U,S+Z,U+we),"center"===I&&"right"===v&&this.drawCaret(s,u,h,g),u.lineTo(S+Z,U+le-Je),u.quadraticCurveTo(S+Z,U+le,S+Z-Je,U+le),"bottom"===I&&this.drawCaret(s,u,h,g),u.lineTo(S+Qe,U+le),u.quadraticCurveTo(S,U+le,S,U+le-Qe),"center"===I&&"left"===v&&this.drawCaret(s,u,h,g),u.lineTo(S,U+Te),u.quadraticCurveTo(S,U,S+Te,U),u.closePath(),u.fill(),g.borderWidth>0&&u.stroke()}_updateAnimationTarget(s){const u=this.chart,h=this.$animations,g=h&&h.x,v=h&&h.y;if(g||v){const I=cl[s.position].call(this,this._active,this._eventPosition);if(!I)return;const S=this._size=Xu(this,s),U=Object.assign({},I,this._size),Z=Mf(u,s,U),le=ed(s,U,Z,u);(g._to!==le.x||v._to!==le.y)&&(this.xAlign=Z.xAlign,this.yAlign=Z.yAlign,this.width=S.width,this.height=S.height,this.caretX=I.x,this.caretY=I.y,this._resolveAnimations().update(this,le))}}_willRender(){return!!this.opacity}draw(s){const u=this.options.setContext(this.getContext());let h=this.opacity;if(!h)return;this._updateAnimationTarget(u);const g={width:this.width,height:this.height},v={x:this.x,y:this.y};h=Math.abs(h)<.001?0:h;const I=Ii(u.padding);u.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(s.save(),s.globalAlpha=h,this.drawBackground(v,s,g,u),Pl(s,u.textDirection),v.y+=I.top,this.drawTitle(v,s,u),this.drawBody(v,s,u),this.drawFooter(v,s,u),Bo(s,u.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,u){const h=this._active,g=s.map(({datasetIndex:S,index:U})=>{const Z=this.chart.getDatasetMeta(S);if(!Z)throw new Error("Cannot find a dataset at index "+S);return{datasetIndex:S,element:Z.data[U],index:U}}),v=!vr(h,g),I=this._positionChanged(g,u);(v||I)&&(this._active=g,this._eventPosition=u,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,u,h=!0){if(u&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const g=this.options,v=this._active||[],I=this._getActiveElements(s,v,u,h),S=this._positionChanged(I,s),U=u||!vr(I,v)||S;return U&&(this._active=I,(g.enabled||g.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,u))),U}_getActiveElements(s,u,h,g){const v=this.options;if("mouseout"===s.type)return[];if(!g)return u.filter(S=>this.chart.data.datasets[S.datasetIndex]&&void 0!==this.chart.getDatasetMeta(S.datasetIndex).controller.getParsed(S.index));const I=this.chart.getElementsAtEventForMode(s,v.mode,v,h);return v.reverse&&I.reverse(),I}_positionChanged(s,u){const{caretX:h,caretY:g,options:v}=this,I=cl[v.position].call(this,s,u);return!1!==I&&(h!==I.x||g!==I.y)}})();var gc=Object.freeze({__proto__:null,Colors:uc,Decimation:Sf,Filler:Oh,Legend:Lh,SubTitle:Rf,Title:Fd,Tooltip:{id:"tooltip",_element:Cl,positioners:cl,afterInit(l,a,s){s&&(l.tooltip=new Cl({chart:l,options:s}))},beforeUpdate(l,a,s){l.tooltip&&l.tooltip.initialize(s)},reset(l,a,s){l.tooltip&&l.tooltip.initialize(s)},afterDraw(l){const a=l.tooltip;if(a&&a._willRender()){const s={tooltip:a};if(!1===l.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;a.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",s)}},afterEvent(l,a){l.tooltip&&l.tooltip.handleEvent(a.event,a.replay,a.inChartArea)&&(a.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,a)=>a.bodyFont.size,boxWidth:(l,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>"filter"!==l&&"itemSort"!==l&&"external"!==l,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function nd(l){const a=this.getLabels();return l>=0&&l<a.length?a[l]:l}let Bh=(()=>class l extends va{static id="category";static defaults={ticks:{callback:nd}};constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const u=this._addedLabels;if(u.length){const h=this.getLabels();for(const{index:g,label:v}of u)h[g]===v&&h.splice(g,1);this._addedLabels=[]}super.init(s)}parse(s,u){if(qn(s))return null;const h=this.getLabels();return((l,a)=>null===l?null:gn(Math.round(l),0,a))(u=isFinite(u)&&h[u]===s?u:function td(l,a,s,u){const h=l.indexOf(a);return-1===h?((l,a,s,u)=>("string"==typeof a?(s=l.push(a)-1,u.unshift({index:s,label:a})):isNaN(a)&&(s=null),s))(l,a,s,u):h!==l.lastIndexOf(a)?s:h}(h,s,on(u,s),this._addedLabels),h.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:u}=this.getUserBounds();let{min:h,max:g}=this.getMinMax(!0);"ticks"===this.options.bounds&&(s||(h=0),u||(g=this.getLabels().length-1)),this.min=h,this.max=g}buildTicks(){const s=this.min,u=this.max,h=this.options.offset,g=[];let v=this.getLabels();v=0===s&&u===v.length-1?v:v.slice(s,u+1),this._valueRange=Math.max(v.length-(h?0:1),1),this._startValue=this.min-(h?.5:0);for(let I=s;I<=u;I++)g.push({value:I});return g}getLabelForValue(s){return nd.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return"number"!=typeof s&&(s=this.parse(s)),null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const u=this.ticks;return s<0||s>u.length-1?null:this.getPixelForValue(u[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}})();function Of(l,a,{horizontal:s,minRotation:u}){const h=sr(u),g=(s?Math.sin(h):Math.cos(h))||.001;return Math.min(a/g,.75*a*(""+l).length)}class rd extends va{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,s){return qn(a)||("number"==typeof a||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:a}=this.options,{minDefined:s,maxDefined:u}=this.getUserBounds();let{min:h,max:g}=this;const v=S=>h=s?h:S,I=S=>g=u?g:S;if(a){const S=ae(h),U=ae(g);S<0&&U<0?I(0):S>0&&U>0&&v(0)}if(h===g){let S=0===g?1:Math.abs(.05*g);I(g+S),a||v(h-S)}this.min=h,this.max=g}getTickLimit(){const a=this.options.ticks;let h,{maxTicksLimit:s,stepSize:u}=a;return u?(h=Math.ceil(this.max/u)-Math.floor(this.min/u)+1,h>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${u} would result generating up to ${h} ticks. Limiting to 1000.`),h=1e3)):(h=this.computeTickLimit(),s=s||11),s&&(h=Math.min(s,h)),h}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,s=a.ticks;let u=this.getTickLimit();u=Math.max(2,u);const v=function Hd(l,a){const s=[],{bounds:h,step:g,min:v,max:I,precision:S,count:U,maxTicks:Z,maxDigits:le,includeBounds:Te}=l,we=g||1,Qe=Z-1,{min:Je,max:nt}=a,Wt=!qn(v),Ht=!qn(I),vn=!qn(U),Sn=(nt-Je)/(le+1);let xn,hr,zn,Dr,an=Se((nt-Je)/Qe/we)*we;if(an<1e-14&&!Wt&&!Ht)return[{value:Je},{value:nt}];Dr=Math.ceil(nt/an)-Math.floor(Je/an),Dr>Qe&&(an=Se(Dr*an/Qe/we)*we),qn(S)||(xn=Math.pow(10,S),an=Math.ceil(an*xn)/xn),"ticks"===h?(hr=Math.floor(Je/an)*an,zn=Math.ceil(nt/an)*an):(hr=Je,zn=nt),Wt&&Ht&&g&&function Dn(l,a){const s=Math.round(l);return s-a<=l&&s+a>=l}((I-v)/g,an/1e3)?(Dr=Math.round(Math.min((I-v)/an,Z)),an=(I-v)/Dr,hr=v,zn=I):vn?(hr=Wt?v:hr,zn=Ht?I:zn,Dr=U-1,an=(zn-hr)/Dr):(Dr=(zn-hr)/an,Dr=Ee(Dr,Math.round(Dr),an/1e3)?Math.round(Dr):Math.ceil(Dr));const ci=Math.max(Mr(an),Mr(hr));xn=Math.pow(10,qn(S)?ci:S),hr=Math.round(hr*xn)/xn,zn=Math.round(zn*xn)/xn;let ui=0;for(Wt&&(Te&&hr!==v?(s.push({value:v}),hr<v&&ui++,Ee(Math.round((hr+ui*an)*xn)/xn,v,Of(v,Sn,l))&&ui++):hr<v&&ui++);ui<Dr;++ui){const fi=Math.round((hr+ui*an)*xn)/xn;if(Ht&&fi>I)break;s.push({value:fi})}return Ht&&Te&&zn!==I?s.length&&Ee(s[s.length-1].value,I,Of(I,Sn,l))?s[s.length-1].value=I:s.push({value:I}):(!Ht||zn===I)&&s.push({value:zn}),s}({maxTicks:u,bounds:a.bounds,min:a.min,max:a.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},this._range||this);return"ticks"===a.bounds&&pr(v,this,"value"),a.reverse?(v.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),v}configure(){const a=this.ticks;let s=this.min,u=this.max;if(super.configure(),this.options.offset&&a.length){const h=(u-s)/Math.max(a.length-1,1)/2;s-=h,u+=h}this._startValue=s,this._endValue=u,this._valueRange=u-s}getLabelForValue(a){return $r(a,this.chart.options.locale,this.options.ticks.format)}}const mc=l=>Math.floor(ce(l)),_c=(l,a)=>Math.pow(10,mc(l)+a);function zd(l){return l/Math.pow(10,mc(l))==1}function $d(l,a,s){const u=Math.pow(10,s),h=Math.floor(l/u);return Math.ceil(a/u)-h}function k(l){const a=l.ticks;if(a.display&&l.display){const s=Ii(a.backdropPadding);return on(a.font&&a.font.size,xi.font.size)+s.height}return 0}function re(l,a,s){return s=$n(s)?s:[s],{w:xs(l,a.string,s),h:s.length*a.lineHeight}}function be(l,a,s,u,h){return l===u||l===h?{start:a-s/2,end:a+s/2}:l<u||l>h?{start:a-s,end:a}:{start:a,end:a+s}}function kt(l,a,s,u,h){const g=Math.abs(Math.sin(s)),v=Math.abs(Math.cos(s));let I=0,S=0;u.start<a.l?(I=(a.l-u.start)/g,l.l=Math.min(l.l,a.l-I)):u.end>a.r&&(I=(u.end-a.r)/g,l.r=Math.max(l.r,a.r+I)),h.start<a.t?(S=(a.t-h.start)/v,l.t=Math.min(l.t,a.t-S)):h.end>a.b&&(S=(h.end-a.b)/v,l.b=Math.max(l.b,a.b+S))}function un(l,a,s){const u=l.drawingArea,{extra:h,additionalAngle:g,padding:v,size:I}=s,S=l.getPointPosition(a,u+h+v,g),U=Math.round(gr(Bt(S.angle+zr))),Z=function Al(l,a,s){return 90===s||270===s?l-=a/2:(s>270||s<90)&&(l-=a),l}(S.y,I.h,U),le=function Si(l){return 0===l||180===l?"center":l<180?"left":"right"}(U),Te=function Do(l,a,s){return"right"===s?l-=a:"center"===s&&(l-=a/2),l}(S.x,I.w,le);return{visible:!0,x:S.x,y:Z,textAlign:le,left:Te,top:Z,right:Te+I.w,bottom:Z+I.h}}function or(l,a){if(!a)return!0;const{left:s,top:u,right:h,bottom:g}=l;return!(Ps({x:s,y:u},a)||Ps({x:s,y:g},a)||Ps({x:h,y:u},a)||Ps({x:h,y:g},a))}function qc(l,a,s){const{left:u,top:h,right:g,bottom:v}=s,{backdropColor:I}=a;if(!qn(I)){const S=jr(a.borderRadius),U=Ii(a.backdropPadding);l.fillStyle=I;const Z=u-U.left,le=h-U.top,Te=g-u+U.width,we=v-h+U.height;Object.values(S).some(Qe=>0!==Qe)?(l.beginPath(),_s(l,{x:Z,y:le,w:Te,h:we,radius:S}),l.fill()):l.fillRect(Z,le,Te,we)}}function Wc(l,a,s,u){const{ctx:h}=l;if(s)h.arc(l.xCenter,l.yCenter,a,0,ei);else{let g=l.getPointPosition(0,a);h.moveTo(g.x,g.y);for(let v=1;v<u;v++)g=l.getPointPosition(v,a),h.lineTo(g.x,g.y)}}const ul={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ho=Object.keys(ul);function Zl(l,a){return l-a}function ad(l,a){if(qn(a))return null;const s=l._adapter,{parser:u,round:h,isoWeekday:g}=l._parseOpts;let v=a;return"function"==typeof u&&(v=u(v)),en(v)||(v="string"==typeof u?s.parse(v,u):s.parse(v)),null===v?null:(h&&(v="week"!==h||!tn(g)&&!0!==g?s.startOf(v,h):s.startOf(v,"isoWeek",g)),+v)}function ld(l,a,s,u){const h=Ho.length;for(let g=Ho.indexOf(l);g<h-1;++g){const v=ul[Ho[g]];if(v.common&&Math.ceil((s-a)/((v.steps?v.steps:Number.MAX_SAFE_INTEGER)*v.size))<=u)return Ho[g]}return Ho[h-1]}function Kl(l,a,s){if(s){if(s.length){const{lo:u,hi:h}=On(s,a);l[s[u]>=a?s[u]:s[h]]=!0}}else l[a]=!0}function Gd(l,a,s){const u=[],h={},g=a.length;let v,I;for(v=0;v<g;++v)I=a[v],h[I]=v,u.push({value:I,major:!1});return 0!==g&&s?function bp(l,a,s,u){const h=l._adapter,g=+h.startOf(a[0].value,u),v=a[a.length-1].value;let I,S;for(I=g;I<=v;I=+h.add(I,1,u))S=s[I],S>=0&&(a[S].major=!0);return a}(l,u,h,s):u}let Nf=(()=>class l extends va{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,u={}){const h=s.time||(s.time={}),g=this._adapter=new $t__date(s.adapters.date);g.init(u),Wr(h.displayFormats,g.formats()),this._parseOpts={parser:h.parser,round:h.round,isoWeekday:h.isoWeekday},super.init(s),this._normalized=u.normalized}parse(s,u){return void 0===s?null:ad(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,u=this._adapter,h=s.time.unit||"day";let{min:g,max:v,minDefined:I,maxDefined:S}=this.getUserBounds();function U(Z){!I&&!isNaN(Z.min)&&(g=Math.min(g,Z.min)),!S&&!isNaN(Z.max)&&(v=Math.max(v,Z.max))}(!I||!S)&&(U(this._getLabelBounds()),("ticks"!==s.bounds||"labels"!==s.ticks.source)&&U(this.getMinMax(!1))),g=en(g)&&!isNaN(g)?g:+u.startOf(Date.now(),h),v=en(v)&&!isNaN(v)?v:+u.endOf(Date.now(),h)+1,this.min=Math.min(g,v-1),this.max=Math.max(g+1,v)}_getLabelBounds(){const s=this.getLabelTimestamps();let u=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;return s.length&&(u=s[0],h=s[s.length-1]),{min:u,max:h}}buildTicks(){const s=this.options,u=s.time,h=s.ticks,g="labels"===h.source?this.getLabelTimestamps():this._generate();"ticks"===s.bounds&&g.length&&(this.min=this._userMin||g[0],this.max=this._userMax||g[g.length-1]);const v=this.min,S=function Pt(l,a,s){let u=0,h=l.length;for(;u<h&&l[u]<a;)u++;for(;h>u&&l[h-1]>s;)h--;return u>0||h<l.length?l.slice(u,h):l}(g,v,this.max);return this._unit=u.unit||(h.autoSkip?ld(u.minUnit,this.min,this.max,this._getLabelCapacity(v)):function Zc(l,a,s,u,h){for(let g=Ho.length-1;g>=Ho.indexOf(s);g--){const v=Ho[g];if(ul[v].common&&l._adapter.diff(h,u,v)>=a-1)return v}return Ho[s?Ho.indexOf(s):0]}(this,S.length,u.minUnit,this.min,this.max)),this._majorUnit=h.major.enabled&&"year"!==this._unit?function zh(l){for(let a=Ho.indexOf(l)+1,s=Ho.length;a<s;++a)if(ul[Ho[a]].common)return Ho[a]}(this._unit):void 0,this.initOffsets(g),s.reverse&&S.reverse(),Gd(this,S,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let g,v,u=0,h=0;this.options.offset&&s.length&&(g=this.getDecimalForValue(s[0]),u=1===s.length?1-g:(this.getDecimalForValue(s[1])-g)/2,v=this.getDecimalForValue(s[s.length-1]),h=1===s.length?v:(v-this.getDecimalForValue(s[s.length-2]))/2);const I=s.length<3?.5:.25;u=gn(u,0,I),h=gn(h,0,I),this._offsets={start:u,end:h,factor:1/(u+1+h)}}_generate(){const s=this._adapter,u=this.min,h=this.max,g=this.options,v=g.time,I=v.unit||ld(v.minUnit,u,h,this._getLabelCapacity(u)),S=on(g.ticks.stepSize,1),U="week"===I&&v.isoWeekday,Z=tn(U)||!0===U,le={};let we,Qe,Te=u;if(Z&&(Te=+s.startOf(Te,"isoWeek",U)),Te=+s.startOf(Te,Z?"day":I),s.diff(h,u,I)>1e5*S)throw new Error(u+" and "+h+" are too far apart with stepSize of "+S+" "+I);const Je="data"===g.ticks.source&&this.getDataTimestamps();for(we=Te,Qe=0;we<h;we=+s.add(we,S,I),Qe++)Kl(le,we,Je);return(we===h||"ticks"===g.bounds||1===Qe)&&Kl(le,we,Je),Object.keys(le).sort(Zl).map(nt=>+nt)}getLabelForValue(s){const h=this.options.time;return this._adapter.format(s,h.tooltipFormat?h.tooltipFormat:h.displayFormats.datetime)}format(s,u){return this._adapter.format(s,u||this.options.time.displayFormats[this._unit])}_tickFormatFunction(s,u,h,g){const v=this.options,I=v.ticks.callback;if(I)return jt(I,[s,u,h],this);const S=v.time.displayFormats,U=this._unit,Z=this._majorUnit,Te=Z&&S[Z],we=h[u];return this._adapter.format(s,g||(Z&&Te&&we&&we.major?Te:U&&S[U]))}generateTickLabels(s){let u,h,g;for(u=0,h=s.length;u<h;++u)g=s[u],g.label=this._tickFormatFunction(g.value,u,s)}getDecimalForValue(s){return null===s?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const u=this._offsets,h=this.getDecimalForValue(s);return this.getPixelForDecimal((u.start+h)*u.factor)}getValueForPixel(s){const u=this._offsets,h=this.getDecimalForPixel(s)/u.factor-u.end;return this.min+h*(this.max-this.min)}_getLabelSize(s){const u=this.options.ticks,h=this.ctx.measureText(s).width,g=sr(this.isHorizontal()?u.maxRotation:u.minRotation),v=Math.cos(g),I=Math.sin(g),S=this._resolveTickFontOptions(0).size;return{w:h*v+S*I,h:h*I+S*v}}_getLabelCapacity(s){const u=this.options.time,h=u.displayFormats,g=h[u.unit]||h.millisecond,v=this._tickFormatFunction(s,0,Gd(this,[s],this._majorUnit),g),I=this._getLabelSize(v),S=Math.floor(this.isHorizontal()?this.width/I.w:this.height/I.h)-1;return S>0?S:1}getDataTimestamps(){let u,h,s=this._cache.data||[];if(s.length)return s;const g=this.getMatchingVisibleMetas();if(this._normalized&&g.length)return this._cache.data=g[0].controller.getAllParsedValues(this);for(u=0,h=g.length;u<h;++u)s=s.concat(g[u].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let u,h;if(s.length)return s;const g=this.getLabels();for(u=0,h=g.length;u<h;++u)s.push(ad(this,g[u]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return Vn(s.sort(Zl))}})();function qd(l,a,s){let g,v,I,S,u=0,h=l.length-1;s?(a>=l[u].pos&&a<=l[h].pos&&({lo:u,hi:h}=gt(l,"pos",a)),({pos:g,time:I}=l[u]),({pos:v,time:S}=l[h])):(a>=l[u].time&&a<=l[h].time&&({lo:u,hi:h}=gt(l,"time",a)),({time:g,pos:I}=l[u]),({time:v,pos:S}=l[h]));const U=v-g;return U?I+(S-I)*(a-g)/U:I}const Gh=[Ue,Ph,gc,Object.freeze({__proto__:null,CategoryScale:Bh,LinearScale:class jh extends rd{static id="linear";static defaults={ticks:{callback:ti.formatters.numeric}};determineDataLimits(){const{min:a,max:s}=this.getMinMax(!0);this.min=en(a)?a:0,this.max=en(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),s=a?this.width:this.height,u=sr(this.options.ticks.minRotation),h=(a?Math.sin(u):Math.cos(u))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,g.lineHeight/h))}getPixelForValue(a){return null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}},LogarithmicScale:class T extends va{static id="logarithmic";static defaults={ticks:{callback:ti.formatters.logarithmic,major:{enabled:!0}}};constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,s){const u=rd.prototype.parse.apply(this,[a,s]);if(0!==u)return en(u)&&u>0?u:null;this._zero=!0}determineDataLimits(){const{min:a,max:s}=this.getMinMax(!0);this.min=en(a)?Math.max(0,a):null,this.max=en(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!en(this._userMin)&&(this.min=a===_c(this.min,0)?_c(this.min,-1):_c(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:a,maxDefined:s}=this.getUserBounds();let u=this.min,h=this.max;const g=I=>u=a?u:I,v=I=>h=s?h:I;u===h&&(u<=0?(g(1),v(10)):(g(_c(u,-1)),v(_c(h,1)))),u<=0&&g(_c(h,-1)),h<=0&&v(_c(u,1)),this.min=u,this.max=h}buildTicks(){const a=this.options,u=function m(l,{min:a,max:s}){a=An(l.min,a);const u=[],h=mc(a);let g=function R(l,a){let u=mc(a-l);for(;$d(l,a,u)>10;)u++;for(;$d(l,a,u)<10;)u--;return Math.min(u,mc(l))}(a,s),v=g<0?Math.pow(10,Math.abs(g)):1;const I=Math.pow(10,g),S=h>g?Math.pow(10,h):0,U=Math.round((a-S)*v)/v,Z=Math.floor((a-S)/I/10)*I*10;let le=Math.floor((U-Z)/Math.pow(10,g)),Te=An(l.min,Math.round((S+Z+le*Math.pow(10,g))*v)/v);for(;Te<s;)u.push({value:Te,major:zd(Te),significand:le}),le>=10?le=le<15?15:20:le++,le>=20&&(g++,le=2,v=g>=0?1:v),Te=Math.round((S+Z+le*Math.pow(10,g))*v)/v;const we=An(l.max,Te);return u.push({value:we,major:zd(we),significand:le}),u}({min:this._userMin,max:this._userMax},this);return"ticks"===a.bounds&&pr(u,this,"value"),a.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}getLabelForValue(a){return void 0===a?"0":$r(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=ce(a),this._valueRange=ce(this.max)-ce(a)}getPixelForValue(a){return(void 0===a||0===a)&&(a=this.min),null===a||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(ce(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const s=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+s*this._valueRange)}},RadialLinearScale:class od extends rd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ti.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:a=>a,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const a=this._padding=Ii(k(this.options)/2),s=this.width=this.maxWidth-a.width,u=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+s/2+a.left),this.yCenter=Math.floor(this.top+u/2+a.top),this.drawingArea=Math.floor(Math.min(s,u)/2)}determineDataLimits(){const{min:a,max:s}=this.getMinMax(!1);this.min=en(a)&&!isNaN(a)?a:0,this.max=en(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/k(this.options))}generateTickLabels(a){rd.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((s,u)=>{const h=jt(this.options.pointLabels.callback,[s,u],this);return h||0===h?h:""}).filter((s,u)=>this.chart.getDataVisibility(u))}fit(){const a=this.options;a.display&&a.pointLabels.display?function ot(l){const a={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},s=Object.assign({},a),u=[],h=[],g=l._pointLabels.length,v=l.options.pointLabels,I=v.centerPointLabels?Zr/g:0;for(let S=0;S<g;S++){const U=v.setContext(l.getPointLabelContext(S));h[S]=U.padding;const Z=l.getPointPosition(S,l.drawingArea+h[S],I),le=Kr(U.font),Te=re(l.ctx,le,l._pointLabels[S]);u[S]=Te;const we=Bt(l.getIndexAngle(S)+I),Qe=Math.round(gr(we));kt(s,a,we,be(Qe,Z.x,Te.w,0,180),be(Qe,Z.y,Te.h,90,270))}l.setCenterPoint(a.l-s.l,s.r-a.r,a.t-s.t,s.b-a.b),l._pointLabelItems=function wr(l,a,s){const u=[],h=l._pointLabels.length,g=l.options,{centerPointLabels:v,display:I}=g.pointLabels,S={extra:k(g)/2,additionalAngle:v?Zr/h:0};let U;for(let Z=0;Z<h;Z++){S.padding=s[Z],S.size=a[Z];const le=un(l,Z,S);u.push(le),"auto"===I&&(le.visible=or(le,U),le.visible&&(U=le))}return u}(l,u,h)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,s,u,h){this.xCenter+=Math.floor((a-s)/2),this.yCenter+=Math.floor((u-h)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,s,u,h))}getIndexAngle(a){return Bt(a*(ei/(this._pointLabels.length||1))+sr(this.options.startAngle||0))}getDistanceFromCenterForValue(a){if(qn(a))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*s:(a-this.min)*s}getValueForDistanceFromCenter(a){if(qn(a))return NaN;const s=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(a){const s=this._pointLabels||[];if(a>=0&&a<s.length){const u=s[a];return function sd(l,a,s){return Is(l,{label:s,index:a,type:"pointLabel"})}(this.getContext(),a,u)}}getPointPosition(a,s,u=0){const h=this.getIndexAngle(a)-zr+u;return{x:Math.cos(h)*s+this.xCenter,y:Math.sin(h)*s+this.yCenter,angle:h}}getPointPositionForValue(a,s){return this.getPointPosition(a,this.getDistanceFromCenterForValue(s))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:s,top:u,right:h,bottom:g}=this._pointLabelItems[a];return{left:s,top:u,right:h,bottom:g}}drawBackground(){const{backgroundColor:a,grid:{circular:s}}=this.options;if(a){const u=this.ctx;u.save(),u.beginPath(),Wc(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),u.closePath(),u.fillStyle=a,u.fill(),u.restore()}}drawGrid(){const a=this.ctx,s=this.options,{angleLines:u,grid:h,border:g}=s,v=this._pointLabels.length;let I,S,U;if(s.pointLabels.display&&function id(l,a){const{ctx:s,options:{pointLabels:u}}=l;for(let h=a-1;h>=0;h--){const g=l._pointLabelItems[h];if(!g.visible)continue;const v=u.setContext(l.getPointLabelContext(h));qc(s,v,g);const I=Kr(v.font),{x:S,y:U,textAlign:Z}=g;ms(s,l._pointLabels[h],S,U+I.lineHeight/2,I,{color:v.color,textAlign:Z,textBaseline:"middle"})}}(this,v),h.display&&this.ticks.forEach((Z,le)=>{if(0!==le||0===le&&this.min<0){S=this.getDistanceFromCenterForValue(Z.value);const Te=this.getContext(le),we=h.setContext(Te),Qe=g.setContext(Te);!function Hh(l,a,s,u,h){const g=l.ctx,v=a.circular,{color:I,lineWidth:S}=a;!v&&!u||!I||!S||s<0||(g.save(),g.strokeStyle=I,g.lineWidth=S,g.setLineDash(h.dash),g.lineDashOffset=h.dashOffset,g.beginPath(),Wc(l,s,v,u),g.closePath(),g.stroke(),g.restore())}(this,we,S,v,Qe)}}),u.display){for(a.save(),I=v-1;I>=0;I--){const Z=u.setContext(this.getPointLabelContext(I)),{color:le,lineWidth:Te}=Z;!Te||!le||(a.lineWidth=Te,a.strokeStyle=le,a.setLineDash(Z.borderDash),a.lineDashOffset=Z.borderDashOffset,S=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),U=this.getPointPosition(I,S),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(U.x,U.y),a.stroke())}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,s=this.options,u=s.ticks;if(!u.display)return;const h=this.getIndexAngle(0);let g,v;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(h),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((I,S)=>{if(0===S&&this.min>=0&&!s.reverse)return;const U=u.setContext(this.getContext(S)),Z=Kr(U.font);if(g=this.getDistanceFromCenterForValue(this.ticks[S].value),U.showLabelBackdrop){a.font=Z.string,v=a.measureText(I.label).width,a.fillStyle=U.backdropColor;const le=Ii(U.backdropPadding);a.fillRect(-v/2-le.left,-g-Z.size/2-le.top,v+le.width,Z.size+le.height)}ms(a,I.label,0,-g,Z,{color:U.color,strokeColor:U.textStrokeColor,strokeWidth:U.textStrokeWidth})}),a.restore()}drawTitle(){}},TimeScale:Nf,TimeSeriesScale:class $h extends Nf{static id="timeseries";static defaults=Nf.defaults;constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(a);this._minPos=qd(s,this.min),this._tableRange=qd(s,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){const{min:s,max:u}=this,h=[],g=[];let v,I,S,U,Z;for(v=0,I=a.length;v<I;++v)U=a[v],U>=s&&U<=u&&h.push(U);if(h.length<2)return[{time:s,pos:0},{time:u,pos:1}];for(v=0,I=h.length;v<I;++v)Z=h[v+1],S=h[v-1],U=h[v],Math.round((Z+S)/2)!==U&&g.push({time:U,pos:v/(I-1)});return g}_generate(){const a=this.min,s=this.max;let u=super.getDataTimestamps();return(!u.includes(a)||!u.length)&&u.splice(0,0,a),(!u.includes(s)||1===u.length)&&u.push(s),u.sort((h,g)=>h-g)}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const s=this.getDataTimestamps(),u=this.getLabelTimestamps();return a=s.length&&u.length?this.normalize(s.concat(u)):s.length?s:u,a=this._cache.all=a,a}getDecimalForValue(a){return(qd(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){const s=this._offsets,u=this.getDecimalForPixel(a)/s.factor-s.end;return qd(this._table,u*this._tableRange+this._minPos,!0)}}})]},3182:(Xn,Lt,ne)=>{ne.d(Lt,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=ne(534);(0,b.KN)("firebase","10.12.4","app")},5223:(Xn,Lt,ne)=>{ne.d(Lt,{ET:()=>bc,hJ:()=>Sm,JU:()=>ny,QT:()=>by,ad:()=>Rm,cf:()=>Gm,IO:()=>Um,pl:()=>pb,r7:()=>$m,ar:()=>dy});var ht,vt,b=ne(5861),_e=ne(534),Fe=ne(4537),O=ne(7879),A=ne(9058),Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={};(function(){var d;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function p(mt,qe,st){st||(st=0);var yt=Array(16);if("string"==typeof qe)for(var wt=0;16>wt;++wt)yt[wt]=qe.charCodeAt(st++)|qe.charCodeAt(st++)<<8|qe.charCodeAt(st++)<<16|qe.charCodeAt(st++)<<24;else for(wt=0;16>wt;++wt)yt[wt]=qe[st++]|qe[st++]<<8|qe[st++]<<16|qe[st++]<<24;var Ft=mt.g[3],it=(qe=mt.g[0])+(Ft^(st=mt.g[1])&((wt=mt.g[2])^Ft))+yt[0]+3614090360&4294967295;it=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=(st=(wt=(Ft=(qe=st+(it<<7&4294967295|it>>>25))+((it=Ft+(wt^qe&(st^wt))+yt[1]+3905402710&4294967295)<<12&4294967295|it>>>20))+((it=wt+(st^Ft&(qe^st))+yt[2]+606105819&4294967295)<<17&4294967295|it>>>15))+((it=st+(qe^wt&(Ft^qe))+yt[3]+3250441966&4294967295)<<22&4294967295|it>>>10))+((it=qe+(Ft^st&(wt^Ft))+yt[4]+4118548399&4294967295)<<7&4294967295|it>>>25))+((it=Ft+(wt^qe&(st^wt))+yt[5]+1200080426&4294967295)<<12&4294967295|it>>>20))+((it=wt+(st^Ft&(qe^st))+yt[6]+2821735955&4294967295)<<17&4294967295|it>>>15))+((it=st+(qe^wt&(Ft^qe))+yt[7]+4249261313&4294967295)<<22&4294967295|it>>>10))+((it=qe+(Ft^st&(wt^Ft))+yt[8]+1770035416&4294967295)<<7&4294967295|it>>>25))+((it=Ft+(wt^qe&(st^wt))+yt[9]+2336552879&4294967295)<<12&4294967295|it>>>20))+((it=wt+(st^Ft&(qe^st))+yt[10]+4294925233&4294967295)<<17&4294967295|it>>>15))+((it=st+(qe^wt&(Ft^qe))+yt[11]+2304563134&4294967295)<<22&4294967295|it>>>10))+((it=qe+(Ft^st&(wt^Ft))+yt[12]+1804603682&4294967295)<<7&4294967295|it>>>25))+((it=Ft+(wt^qe&(st^wt))+yt[13]+4254626195&4294967295)<<12&4294967295|it>>>20))+((it=wt+(st^Ft&(qe^st))+yt[14]+2792965006&4294967295)<<17&4294967295|it>>>15))+((it=st+(qe^wt&(Ft^qe))+yt[15]+1236535329&4294967295)<<22&4294967295|it>>>10))+((it=qe+(wt^Ft&(st^wt))+yt[1]+4129170786&4294967295)<<5&4294967295|it>>>27))+((it=Ft+(st^wt&(qe^st))+yt[6]+3225465664&4294967295)<<9&4294967295|it>>>23))+((it=wt+(qe^st&(Ft^qe))+yt[11]+643717713&4294967295)<<14&4294967295|it>>>18))+((it=st+(Ft^qe&(wt^Ft))+yt[0]+3921069994&4294967295)<<20&4294967295|it>>>12))+((it=qe+(wt^Ft&(st^wt))+yt[5]+3593408605&4294967295)<<5&4294967295|it>>>27))+((it=Ft+(st^wt&(qe^st))+yt[10]+38016083&4294967295)<<9&4294967295|it>>>23))+((it=wt+(qe^st&(Ft^qe))+yt[15]+3634488961&4294967295)<<14&4294967295|it>>>18))+((it=st+(Ft^qe&(wt^Ft))+yt[4]+3889429448&4294967295)<<20&4294967295|it>>>12))+((it=qe+(wt^Ft&(st^wt))+yt[9]+568446438&4294967295)<<5&4294967295|it>>>27))+((it=Ft+(st^wt&(qe^st))+yt[14]+3275163606&4294967295)<<9&4294967295|it>>>23))+((it=wt+(qe^st&(Ft^qe))+yt[3]+4107603335&4294967295)<<14&4294967295|it>>>18))+((it=st+(Ft^qe&(wt^Ft))+yt[8]+1163531501&4294967295)<<20&4294967295|it>>>12))+((it=qe+(wt^Ft&(st^wt))+yt[13]+2850285829&4294967295)<<5&4294967295|it>>>27))+((it=Ft+(st^wt&(qe^st))+yt[2]+4243563512&4294967295)<<9&4294967295|it>>>23))+((it=wt+(qe^st&(Ft^qe))+yt[7]+1735328473&4294967295)<<14&4294967295|it>>>18))+((it=st+(Ft^qe&(wt^Ft))+yt[12]+2368359562&4294967295)<<20&4294967295|it>>>12))+((it=qe+(st^wt^Ft)+yt[5]+4294588738&4294967295)<<4&4294967295|it>>>28))+((it=Ft+(qe^st^wt)+yt[8]+2272392833&4294967295)<<11&4294967295|it>>>21))+((it=wt+(Ft^qe^st)+yt[11]+1839030562&4294967295)<<16&4294967295|it>>>16))+((it=st+(wt^Ft^qe)+yt[14]+4259657740&4294967295)<<23&4294967295|it>>>9))+((it=qe+(st^wt^Ft)+yt[1]+2763975236&4294967295)<<4&4294967295|it>>>28))+((it=Ft+(qe^st^wt)+yt[4]+1272893353&4294967295)<<11&4294967295|it>>>21))+((it=wt+(Ft^qe^st)+yt[7]+4139469664&4294967295)<<16&4294967295|it>>>16))+((it=st+(wt^Ft^qe)+yt[10]+3200236656&4294967295)<<23&4294967295|it>>>9))+((it=qe+(st^wt^Ft)+yt[13]+681279174&4294967295)<<4&4294967295|it>>>28))+((it=Ft+(qe^st^wt)+yt[0]+3936430074&4294967295)<<11&4294967295|it>>>21))+((it=wt+(Ft^qe^st)+yt[3]+3572445317&4294967295)<<16&4294967295|it>>>16))+((it=st+(wt^Ft^qe)+yt[6]+76029189&4294967295)<<23&4294967295|it>>>9))+((it=qe+(st^wt^Ft)+yt[9]+3654602809&4294967295)<<4&4294967295|it>>>28))+((it=Ft+(qe^st^wt)+yt[12]+3873151461&4294967295)<<11&4294967295|it>>>21))+((it=wt+(Ft^qe^st)+yt[15]+530742520&4294967295)<<16&4294967295|it>>>16))+((it=st+(wt^Ft^qe)+yt[2]+3299628645&4294967295)<<23&4294967295|it>>>9))+((it=qe+(wt^(st|~Ft))+yt[0]+4096336452&4294967295)<<6&4294967295|it>>>26))+((it=Ft+(st^(qe|~wt))+yt[7]+1126891415&4294967295)<<10&4294967295|it>>>22))+((it=wt+(qe^(Ft|~st))+yt[14]+2878612391&4294967295)<<15&4294967295|it>>>17))+((it=st+(Ft^(wt|~qe))+yt[5]+4237533241&4294967295)<<21&4294967295|it>>>11))+((it=qe+(wt^(st|~Ft))+yt[12]+1700485571&4294967295)<<6&4294967295|it>>>26))+((it=Ft+(st^(qe|~wt))+yt[3]+2399980690&4294967295)<<10&4294967295|it>>>22))+((it=wt+(qe^(Ft|~st))+yt[10]+4293915773&4294967295)<<15&4294967295|it>>>17))+((it=st+(Ft^(wt|~qe))+yt[1]+2240044497&4294967295)<<21&4294967295|it>>>11))+((it=qe+(wt^(st|~Ft))+yt[8]+1873313359&4294967295)<<6&4294967295|it>>>26))+((it=Ft+(st^(qe|~wt))+yt[15]+4264355552&4294967295)<<10&4294967295|it>>>22))+((it=wt+(qe^(Ft|~st))+yt[6]+2734768916&4294967295)<<15&4294967295|it>>>17))+((it=st+(Ft^(wt|~qe))+yt[13]+1309151649&4294967295)<<21&4294967295|it>>>11))+((Ft=(qe=st+((it=qe+(wt^(st|~Ft))+yt[4]+4149444226&4294967295)<<6&4294967295|it>>>26))+((it=Ft+(st^(qe|~wt))+yt[11]+3174756917&4294967295)<<10&4294967295|it>>>22))^((wt=Ft+((it=wt+(qe^(Ft|~st))+yt[2]+718787259&4294967295)<<15&4294967295|it>>>17))|~qe))+yt[9]+3951481745&4294967295,mt.g[0]=mt.g[0]+qe&4294967295,mt.g[1]=mt.g[1]+(wt+(it<<21&4294967295|it>>>11))&4294967295,mt.g[2]=mt.g[2]+wt&4294967295,mt.g[3]=mt.g[3]+Ft&4294967295}function w(mt,qe){this.h=qe;for(var st=[],yt=!0,wt=mt.length-1;0<=wt;wt--){var Ft=0|mt[wt];yt&&Ft==qe||(st[wt]=Ft,yt=!1)}this.g=st}(function e(mt,qe){function st(){}st.prototype=qe.prototype,mt.D=qe.prototype,mt.prototype=new st,mt.prototype.constructor=mt,mt.C=function(yt,wt,Ft){for(var it=Array(arguments.length-2),Ec=2;Ec<arguments.length;Ec++)it[Ec-2]=arguments[Ec];return qe.prototype[wt].apply(yt,it)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(mt,qe){void 0===qe&&(qe=mt.length);for(var st=qe-this.blockSize,yt=this.B,wt=this.h,Ft=0;Ft<qe;){if(0==wt)for(;Ft<=st;)p(this,mt,Ft),Ft+=this.blockSize;if("string"==typeof mt){for(;Ft<qe;)if(yt[wt++]=mt.charCodeAt(Ft++),wt==this.blockSize){p(this,yt),wt=0;break}}else for(;Ft<qe;)if(yt[wt++]=mt[Ft++],wt==this.blockSize){p(this,yt),wt=0;break}}this.h=wt,this.o+=qe},o.prototype.v=function(){var mt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);mt[0]=128;for(var qe=1;qe<mt.length-8;++qe)mt[qe]=0;var st=8*this.o;for(qe=mt.length-8;qe<mt.length;++qe)mt[qe]=255&st,st/=256;for(this.u(mt),mt=Array(16),qe=st=0;4>qe;++qe)for(var yt=0;32>yt;yt+=8)mt[st++]=this.g[qe]>>>yt&255;return mt};var L={};function $(mt){return-128<=mt&&128>mt?function y(mt,qe){var st=L;return Object.prototype.hasOwnProperty.call(st,mt)?st[mt]:st[mt]=qe(mt)}(mt,function(qe){return new w([0|qe],0>qe?-1:0)}):new w([0|mt],0>mt?-1:0)}function ee(mt){if(isNaN(mt)||!isFinite(mt))return Ae;if(0>mt)return bn(ee(-mt));for(var qe=[],st=1,yt=0;mt>=st;yt++)qe[yt]=mt/st|0,st*=4294967296;return new w(qe,0)}var Ae=$(0),Xe=$(1),xt=$(16777216);function dn(mt){if(0!=mt.h)return!1;for(var qe=0;qe<mt.g.length;qe++)if(0!=mt.g[qe])return!1;return!0}function Kt(mt){return-1==mt.h}function bn(mt){for(var qe=mt.g.length,st=[],yt=0;yt<qe;yt++)st[yt]=~mt.g[yt];return new w(st,~mt.h).add(Xe)}function Tr(mt,qe){return mt.add(bn(qe))}function Rr(mt,qe){for(;(65535&mt[qe])!=mt[qe];)mt[qe+1]+=mt[qe]>>>16,mt[qe]&=65535,qe++}function Sr(mt,qe){this.g=mt,this.h=qe}function pi(mt,qe){if(dn(qe))throw Error("division by zero");if(dn(mt))return new Sr(Ae,Ae);if(Kt(mt))return qe=pi(bn(mt),qe),new Sr(bn(qe.g),bn(qe.h));if(Kt(qe))return qe=pi(mt,bn(qe)),new Sr(bn(qe.g),qe.h);if(30<mt.g.length){if(Kt(mt)||Kt(qe))throw Error("slowDivide_ only works with positive integers.");for(var st=Xe,yt=qe;0>=yt.l(mt);)st=os(st),yt=os(yt);var wt=gi(st,1),Ft=gi(yt,1);for(yt=gi(yt,2),st=gi(st,2);!dn(yt);){var it=Ft.add(yt);0>=it.l(mt)&&(wt=wt.add(st),Ft=it),yt=gi(yt,1),st=gi(st,1)}return qe=Tr(mt,wt.j(qe)),new Sr(wt,qe)}for(wt=Ae;0<=mt.l(qe);){for(st=Math.max(1,Math.floor(mt.m()/qe.m())),yt=48>=(yt=Math.ceil(Math.log(st)/Math.LN2))?1:Math.pow(2,yt-48),it=(Ft=ee(st)).j(qe);Kt(it)||0<it.l(mt);)it=(Ft=ee(st-=yt)).j(qe);dn(Ft)&&(Ft=Xe),wt=wt.add(Ft),mt=Tr(mt,it)}return new Sr(wt,mt)}function os(mt){for(var qe=mt.g.length+1,st=[],yt=0;yt<qe;yt++)st[yt]=mt.i(yt)<<1|mt.i(yt-1)>>>31;return new w(st,mt.h)}function gi(mt,qe){var st=qe>>5;qe%=32;for(var yt=mt.g.length-st,wt=[],Ft=0;Ft<yt;Ft++)wt[Ft]=0<qe?mt.i(Ft+st)>>>qe|mt.i(Ft+st+1)<<32-qe:mt.i(Ft+st);return new w(wt,mt.h)}(d=w.prototype).m=function(){if(Kt(this))return-bn(this).m();for(var mt=0,qe=1,st=0;st<this.g.length;st++){var yt=this.i(st);mt+=(0<=yt?yt:4294967296+yt)*qe,qe*=4294967296}return mt},d.toString=function(mt){if(2>(mt=mt||10)||36<mt)throw Error("radix out of range: "+mt);if(dn(this))return"0";if(Kt(this))return"-"+bn(this).toString(mt);for(var qe=ee(Math.pow(mt,6)),st=this,yt="";;){var wt=pi(st,qe).g,Ft=((0<(st=Tr(st,wt.j(qe))).g.length?st.g[0]:st.h)>>>0).toString(mt);if(dn(st=wt))return Ft+yt;for(;6>Ft.length;)Ft="0"+Ft;yt=Ft+yt}},d.i=function(mt){return 0>mt?0:mt<this.g.length?this.g[mt]:this.h},d.l=function(mt){return Kt(mt=Tr(this,mt))?-1:dn(mt)?0:1},d.abs=function(){return Kt(this)?bn(this):this},d.add=function(mt){for(var qe=Math.max(this.g.length,mt.g.length),st=[],yt=0,wt=0;wt<=qe;wt++){var Ft=yt+(65535&this.i(wt))+(65535&mt.i(wt)),it=(Ft>>>16)+(this.i(wt)>>>16)+(mt.i(wt)>>>16);yt=it>>>16,st[wt]=(it&=65535)<<16|(Ft&=65535)}return new w(st,-2147483648&st[st.length-1]?-1:0)},d.j=function(mt){if(dn(this)||dn(mt))return Ae;if(Kt(this))return Kt(mt)?bn(this).j(bn(mt)):bn(bn(this).j(mt));if(Kt(mt))return bn(this.j(bn(mt)));if(0>this.l(xt)&&0>mt.l(xt))return ee(this.m()*mt.m());for(var qe=this.g.length+mt.g.length,st=[],yt=0;yt<2*qe;yt++)st[yt]=0;for(yt=0;yt<this.g.length;yt++)for(var wt=0;wt<mt.g.length;wt++){var Ft=this.i(yt)>>>16,it=65535&this.i(yt),Ec=mt.i(wt)>>>16,qf=65535&mt.i(wt);st[2*yt+2*wt]+=it*qf,Rr(st,2*yt+2*wt),st[2*yt+2*wt+1]+=Ft*qf,Rr(st,2*yt+2*wt+1),st[2*yt+2*wt+1]+=it*Ec,Rr(st,2*yt+2*wt+1),st[2*yt+2*wt+2]+=Ft*Ec,Rr(st,2*yt+2*wt+2)}for(yt=0;yt<qe;yt++)st[yt]=st[2*yt+1]<<16|st[2*yt];for(yt=qe;yt<2*qe;yt++)st[yt]=0;return new w(st,0)},d.A=function(mt){return pi(this,mt).h},d.and=function(mt){for(var qe=Math.max(this.g.length,mt.g.length),st=[],yt=0;yt<qe;yt++)st[yt]=this.i(yt)&mt.i(yt);return new w(st,this.h&mt.h)},d.or=function(mt){for(var qe=Math.max(this.g.length,mt.g.length),st=[],yt=0;yt<qe;yt++)st[yt]=this.i(yt)|mt.i(yt);return new w(st,this.h|mt.h)},d.xor=function(mt){for(var qe=Math.max(this.g.length,mt.g.length),st=[],yt=0;yt<qe;yt++)st[yt]=this.i(yt)^mt.i(yt);return new w(st,this.h^mt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,vt=Le.Md5=o,w.prototype.add=w.prototype.add,w.prototype.multiply=w.prototype.j,w.prototype.modulo=w.prototype.A,w.prototype.compare=w.prototype.l,w.prototype.toNumber=w.prototype.m,w.prototype.toString=w.prototype.toString,w.prototype.getBits=w.prototype.i,w.fromNumber=ee,w.fromString=function me(mt,qe){if(0==mt.length)throw Error("number format error: empty string");if(2>(qe=qe||10)||36<qe)throw Error("radix out of range: "+qe);if("-"==mt.charAt(0))return bn(me(mt.substring(1),qe));if(0<=mt.indexOf("-"))throw Error('number format error: interior "-" character');for(var st=ee(Math.pow(qe,8)),yt=Ae,wt=0;wt<mt.length;wt+=8){var Ft=Math.min(8,mt.length-wt),it=parseInt(mt.substring(wt,wt+Ft),qe);8>Ft?(Ft=ee(Math.pow(qe,Ft)),yt=yt.j(Ft).add(ee(it))):yt=(yt=yt.j(st)).add(ee(it))}return yt},ht=Le.Integer=w}).apply(typeof Ze<"u"?Ze:typeof self<"u"?self:typeof window<"u"?window:{});var _t,Qt,At,Vt,Ut,Tn,wn,er,nn,Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,G,te){return E==Array.prototype||E==Object.prototype||(E[G]=te.value),E},o=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ve&&Ve];for(var G=0;G<E.length;++G){var te=E[G];if(te&&te.Math==Math)return te}throw Error("Cannot find global object")}(this);!function p(E,G){if(G)e:{var te=o;E=E.split(".");for(var Ie=0;Ie<E.length-1;Ie++){var Dt=E[Ie];if(!(Dt in te))break e;te=te[Dt]}(G=G(Ie=te[E=E[E.length-1]]))!=Ie&&null!=G&&e(te,E,{configurable:!0,writable:!0,value:G})}}("Array.prototype.values",function(E){return E||function(){return function y(E,G){E instanceof String&&(E+="");var te=0,Ie=!1,Dt={next:function(){if(!Ie&&te<E.length){var qt=te++;return{value:G(qt,E[qt]),done:!1}}return Ie=!0,{done:!0,value:void 0}}};return Dt[Symbol.iterator]=function(){return Dt},Dt}(this,function(G,te){return te})}});var w=w||{},L=this||self;function $(E){var G=typeof E;return"array"==(G="object"!=G?G:E?Array.isArray(E)?"array":G:"null")||"object"==G&&"number"==typeof E.length}function ee(E){var G=typeof E;return"object"==G&&null!=E||"function"==G}function me(E,G,te){return E.call.apply(E.bind,arguments)}function Ae(E,G,te){if(!E)throw Error();if(2<arguments.length){var Ie=Array.prototype.slice.call(arguments,2);return function(){var Dt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Dt,Ie),E.apply(G,Dt)}}return function(){return E.apply(G,arguments)}}function Xe(E,G,te){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?me:Ae).apply(null,arguments)}function xt(E,G){var te=Array.prototype.slice.call(arguments,1);return function(){var Ie=te.slice();return Ie.push.apply(Ie,arguments),E.apply(this,Ie)}}function dn(E,G){function te(){}te.prototype=G.prototype,E.aa=G.prototype,E.prototype=new te,E.prototype.constructor=E,E.Qb=function(Ie,Dt,qt){for(var Gn=Array(arguments.length-2),ks=2;ks<arguments.length;ks++)Gn[ks-2]=arguments[ks];return G.prototype[Dt].apply(Ie,Gn)}}function Kt(E){const G=E.length;if(0<G){const te=Array(G);for(let Ie=0;Ie<G;Ie++)te[Ie]=E[Ie];return te}return[]}function bn(E,G){for(let te=1;te<arguments.length;te++){const Ie=arguments[te];if($(Ie)){const Dt=E.length||0,qt=Ie.length||0;E.length=Dt+qt;for(let Gn=0;Gn<qt;Gn++)E[Dt+Gn]=Ie[Gn]}else E.push(Ie)}}function Rr(E){return/^[\s\xa0]*$/.test(E)}function Sr(){var E=L.navigator;return E&&(E=E.userAgent)?E:""}function pi(E){return pi[" "](E),E}pi[" "]=function(){};var os=!(-1==Sr().indexOf("Gecko")||-1!=Sr().toLowerCase().indexOf("webkit")&&-1==Sr().indexOf("Edge")||-1!=Sr().indexOf("Trident")||-1!=Sr().indexOf("MSIE")||-1!=Sr().indexOf("Edge"));function gi(E,G,te){for(const Ie in E)G.call(te,E[Ie],Ie,E)}function qe(E){const G={};for(const te in E)G[te]=E[te];return G}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(E,G){let te,Ie;for(let Dt=1;Dt<arguments.length;Dt++){for(te in Ie=arguments[Dt],Ie)E[te]=Ie[te];for(let qt=0;qt<st.length;qt++)te=st[qt],Object.prototype.hasOwnProperty.call(Ie,te)&&(E[te]=Ie[te])}}function wt(E){var G=1;E=E.split(":");const te=[];for(;0<G&&E.length;)te.push(E.shift()),G--;return E.length&&te.push(E.join(":")),te}function Ft(E){L.setTimeout(()=>{throw E},0)}function it(){var E=Fg;let G=null;return E.g&&(G=E.g,E.g=E.g.next,E.g||(E.h=null),G.next=null),G}var qf=new class Tr{constructor(G,te){this.i=G,this.j=te,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}(()=>new Uy,E=>E.reset());class Uy{constructor(){this.next=this.g=this.h=null}set(G,te){this.h=G,this.g=te,this.next=null}reset(){this.next=this.g=this.h=null}}let Wf,af=!1,Fg=new class Ec{constructor(){this.h=this.g=null}add(G,te){const Ie=qf.get();Ie.set(G,te),this.h?this.h.next=Ie:this.g=Ie,this.h=Ie}},Km=()=>{const E=L.Promise.resolve(void 0);Wf=()=>{E.then(By)}};var By=()=>{for(var E;E=it();){try{E.h.call(E.g)}catch(te){Ft(te)}var G=qf;G.j(E),100>G.h&&(G.h++,E.next=G.g,G.g=E)}af=!1};function _d(){this.s=this.s,this.C=this.C}function Ma(E,G){this.type=E,this.g=this.target=G,this.defaultPrevented=!1}_d.prototype.s=!1,_d.prototype.ma=function(){this.s||(this.s=!0,this.N())},_d.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ma.prototype.h=function(){this.defaultPrevented=!0};var Ym=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var E=!1,G=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const te=()=>{};L.addEventListener("test",te,G),L.removeEventListener("test",te,G)}catch{}return E}();function Zf(E,G){if(Ma.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var te=this.type=E.type,Ie=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=G,G=E.relatedTarget){if(os){e:{try{pi(G.nodeName);var Dt=!0;break e}catch{}Dt=!1}Dt||(G=null)}}else"mouseover"==te?G=E.fromElement:"mouseout"==te&&(G=E.toElement);this.relatedTarget=G,Ie?(this.clientX=void 0!==Ie.clientX?Ie.clientX:Ie.pageX,this.clientY=void 0!==Ie.clientY?Ie.clientY:Ie.pageY,this.screenX=Ie.screenX||0,this.screenY=Ie.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:jy[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Zf.aa.h.call(this)}}dn(Zf,Ma);var jy={2:"touch",3:"pen",4:"mouse"};Zf.prototype.h=function(){Zf.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),Hy=0;function zy(E,G,te,Ie,Dt){this.listener=E,this.proxy=null,this.src=G,this.type=te,this.capture=!!Ie,this.ha=Dt,this.key=++Hy,this.da=this.fa=!1}function Lg(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function lf(E){this.src=E,this.g={},this.h=0}function Up(E,G){var te=G.type;if(te in E.g){var qt,Ie=E.g[te],Dt=Array.prototype.indexOf.call(Ie,G,void 0);(qt=0<=Dt)&&Array.prototype.splice.call(Ie,Dt,1),qt&&(Lg(G),0==E.g[te].length&&(delete E.g[te],E.h--))}}function Vg(E,G,te,Ie){for(var Dt=0;Dt<E.length;++Dt){var qt=E[Dt];if(!qt.da&&qt.listener==G&&qt.capture==!!te&&qt.ha==Ie)return Dt}return-1}lf.prototype.add=function(E,G,te,Ie,Dt){var qt=E.toString();(E=this.g[qt])||(E=this.g[qt]=[],this.h++);var Gn=Vg(E,G,Ie,Dt);return-1<Gn?(G=E[Gn],te||(G.fa=!1)):((G=new zy(G,this.src,qt,!!Ie,Dt)).fa=te,E.push(G)),G};var Ug="closure_lm_"+(1e6*Math.random()|0),Bg={};function jg(E,G,te,Ie,Dt){if(Ie&&Ie.once)return Bp(E,G,te,Ie,Dt);if(Array.isArray(G)){for(var qt=0;qt<G.length;qt++)jg(E,G[qt],te,Ie,Dt);return null}return te=Kf(te),E&&E[Oa]?E.K(G,te,ee(Ie)?!!Ie.capture:!!Ie,Dt):Qm(E,G,te,!1,Ie,Dt)}function Qm(E,G,te,Ie,Dt,qt){if(!G)throw Error("Invalid event type");var Gn=ee(Dt)?!!Dt.capture:!!Dt,ks=zg(E);if(ks||(E[Ug]=ks=new lf(E)),(te=ks.add(G,te,Ie,Gn,qt)).proxy)return te;if(Ie=function $y(){const G=Gy;return function E(te){return G.call(E.src,E.listener,te)}}(),te.proxy=Ie,Ie.src=E,Ie.listener=te,E.addEventListener)Ym||(Dt=Gn),void 0===Dt&&(Dt=!1),E.addEventListener(G.toString(),Ie,Dt);else if(E.attachEvent)E.attachEvent(Xm(G.toString()),Ie);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(Ie)}return te}function Bp(E,G,te,Ie,Dt){if(Array.isArray(G)){for(var qt=0;qt<G.length;qt++)Bp(E,G[qt],te,Ie,Dt);return null}return te=Kf(te),E&&E[Oa]?E.L(G,te,ee(Ie)?!!Ie.capture:!!Ie,Dt):Qm(E,G,te,!0,Ie,Dt)}function Jm(E,G,te,Ie,Dt){if(Array.isArray(G))for(var qt=0;qt<G.length;qt++)Jm(E,G[qt],te,Ie,Dt);else Ie=ee(Ie)?!!Ie.capture:!!Ie,te=Kf(te),E&&E[Oa]?(E=E.i,(G=String(G).toString())in E.g&&-1<(te=Vg(qt=E.g[G],te,Ie,Dt))&&(Lg(qt[te]),Array.prototype.splice.call(qt,te,1),0==qt.length&&(delete E.g[G],E.h--))):E&&(E=zg(E))&&(G=E.g[G.toString()],E=-1,G&&(E=Vg(G,te,Ie,Dt)),(te=-1<E?G[E]:null)&&Hg(te))}function Hg(E){if("number"!=typeof E&&E&&!E.da){var G=E.src;if(G&&G[Oa])Up(G.i,E);else{var te=E.type,Ie=E.proxy;G.removeEventListener?G.removeEventListener(te,Ie,E.capture):G.detachEvent?G.detachEvent(Xm(te),Ie):G.addListener&&G.removeListener&&G.removeListener(Ie),(te=zg(G))?(Up(te,E),0==te.h&&(te.src=null,G[Ug]=null)):Lg(E)}}}function Xm(E){return E in Bg?Bg[E]:Bg[E]="on"+E}function Gy(E,G){if(E.da)E=!0;else{G=new Zf(G,this);var te=E.listener,Ie=E.ha||E.src;E.fa&&Hg(E),E=te.call(Ie,G)}return E}function zg(E){return(E=E[Ug])instanceof lf?E:null}var Ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kf(E){return"function"==typeof E?E:(E[Ql]||(E[Ql]=function(G){return E.handleEvent(G)}),E[Ql])}function za(){_d.call(this),this.i=new lf(this),this.M=this,this.F=null}function $a(E,G){var te,Ie=E.F;if(Ie)for(te=[];Ie;Ie=Ie.F)te.push(Ie);if(E=E.M,Ie=G.type||G,"string"==typeof G)G=new Ma(G,E);else if(G instanceof Ma)G.target=G.target||E;else{var Dt=G;yt(G=new Ma(Ie,E),Dt)}if(Dt=!0,te)for(var qt=te.length-1;0<=qt;qt--){var Gn=G.g=te[qt];Dt=jp(Gn,Ie,!0,G)&&Dt}if(Dt=jp(Gn=G.g=E,Ie,!0,G)&&Dt,Dt=jp(Gn,Ie,!1,G)&&Dt,te)for(qt=0;qt<te.length;qt++)Dt=jp(Gn=G.g=te[qt],Ie,!1,G)&&Dt}function jp(E,G,te,Ie){if(!(G=E.i.g[String(G)]))return!0;G=G.concat();for(var Dt=!0,qt=0;qt<G.length;++qt){var Gn=G[qt];if(Gn&&!Gn.da&&Gn.capture==te){var ks=Gn.listener,Ea=Gn.ha||Gn.src;Gn.fa&&Up(E.i,Gn),Dt=!1!==ks.call(Ea,Ie)&&Dt}}return Dt&&!Ie.defaultPrevented}function $g(E,G,te){if("function"==typeof E)te&&(E=Xe(E,te));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Xe(E.handleEvent,E)}return 2147483647<Number(G)?-1:L.setTimeout(E,G||0)}function Gg(E){E.g=$g(()=>{E.g=null,E.i&&(E.i=!1,Gg(E))},E.l);const G=E.h;E.h=null,E.m.apply(null,G)}dn(za,_d),za.prototype[Oa]=!0,za.prototype.removeEventListener=function(E,G,te,Ie){Jm(this,E,G,te,Ie)},za.prototype.N=function(){if(za.aa.N.call(this),this.i){var G,E=this.i;for(G in E.g){for(var te=E.g[G],Ie=0;Ie<te.length;Ie++)Lg(te[Ie]);delete E.g[G],E.h--}}this.F=null},za.prototype.K=function(E,G,te,Ie){return this.i.add(String(E),G,!1,te,Ie)},za.prototype.L=function(E,G,te,Ie){return this.i.add(String(E),G,!0,te,Ie)};class Hp extends _d{constructor(G,te){super(),this.m=G,this.l=te,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:Gg(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rh(E){_d.call(this),this.h=E,this.g={}}dn(rh,_d);var qy=[];function qg(E){gi(E.g,function(G,te){this.g.hasOwnProperty(te)&&Hg(G)},E),E.g={}}rh.prototype.N=function(){rh.aa.N.call(this),qg(this)},rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zp=L.JSON.stringify,e_=L.JSON.parse,t_=class{stringify(E){return L.JSON.stringify(E,void 0)}parse(E){return L.JSON.parse(E,void 0)}};function Yf(){}function n_(){}Yf.prototype.h=null;var Qf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jf(){Ma.call(this,"d")}function Wg(){Ma.call(this,"c")}dn(Jf,Ma),dn(Wg,Ma);var yd={},r_=null;function ih(){return r_=r_||new za}function cf(E){Ma.call(this,yd.La,E)}function uf(E){const G=ih();$a(G,new cf(G))}function Xf(E,G){Ma.call(this,yd.STAT_EVENT,E),this.stat=G}function dl(E){const G=ih();$a(G,new Xf(G,E))}function i_(E,G){Ma.call(this,yd.Ma,E),this.size=G}function df(E,G){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){E()},G)}function hf(){this.g=!0}function sh(E,G,te,Ie){E.info(function(){return"XMLHTTP TEXT ("+G+"): "+function ep(E,G){if(!E.g)return G;if(!G)return null;try{var te=JSON.parse(G);if(te)for(E=0;E<te.length;E++)if(Array.isArray(te[E])){var Ie=te[E];if(!(2>Ie.length)){var Dt=Ie[1];if(Array.isArray(Dt)&&!(1>Dt.length)){var qt=Dt[0];if("noop"!=qt&&"stop"!=qt&&"close"!=qt)for(var Gn=1;Gn<Dt.length;Gn++)Dt[Gn]=""}}}return zp(te)}catch{return G}}(E,te)+(Ie?" "+Ie:"")})}yd.La="serverreachability",dn(cf,Ma),yd.STAT_EVENT="statevent",dn(Xf,Ma),yd.Ma="timingevent",dn(i_,Ma),hf.prototype.xa=function(){this.g=!1},hf.prototype.info=function(){};var Gp,$p={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qp(){}function vd(E,G,te,Ie){this.j=E,this.i=G,this.l=te,this.R=Ie||1,this.U=new rh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ff}function ff(){this.i=null,this.g="",this.h=!1}dn(qp,Yf),qp.prototype.g=function(){return new XMLHttpRequest},qp.prototype.i=function(){return{}},Gp=new qp;var o_={},Kg={};function Yg(E,G,te){E.L=1,E.v=Dl(Jl(G)),E.m=te,E.P=!0,a_(E,null)}function a_(E,G){E.F=Date.now(),Wp(E),E.A=Jl(E.v);var te=E.A,Ie=E.R;Array.isArray(Ie)||(Ie=[String(Ie)]),dh(te.i,"t",Ie),E.C=0,te=E.j.J,E.h=new ff,E.g=P_(E.j,te?G:null,!E.m),0<E.O&&(E.M=new Hp(Xe(E.Y,E,E.g),E.O)),G=E.U,te=E.g,Ie=E.ca;var Dt="readystatechange";Array.isArray(Dt)||(Dt&&(qy[0]=Dt.toString()),Dt=qy);for(var qt=0;qt<Dt.length;qt++){var Gn=jg(te,Dt[qt],Ie||G.handleEvent,!1,G.h||G);if(!Gn)break;G.g[Gn.key]=Gn}G=E.H?qe(E.H):{},E.m?(E.u||(E.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,G)):(E.u="GET",E.g.ea(E.A,E.u,null,G)),uf(),function Wy(E,G,te,Ie,Dt,qt){E.info(function(){if(E.g)if(qt)for(var Gn="",ks=qt.split("&"),Ea=0;Ea<ks.length;Ea++){var ps=ks[Ea].split("=");if(1<ps.length){var Ga=ps[0];ps=ps[1];var qa=Ga.split("_");Gn=2<=qa.length&&"type"==qa[1]?Gn+(Ga+"=")+ps+"&":Gn+(Ga+"=redacted&")}}else Gn=null;else Gn=qt;return"XMLHTTP REQ ("+Ie+") [attempt "+Dt+"]: "+G+"\n"+te+"\n"+Gn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function l_(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Ky(E,G){var te=E.C,Ie=G.indexOf("\n",te);return-1==Ie?Kg:(te=Number(G.substring(te,Ie)),isNaN(te)?o_:(Ie+=1)+te>G.length?Kg:(G=G.slice(Ie,Ie+te),E.C=Ie+te,G))}function Wp(E){E.S=Date.now()+E.I,c_(E,E.I)}function c_(E,G){if(null!=E.B)throw Error("WatchDog timer not null");E.B=df(Xe(E.ba,E),G)}function Zp(E){E.B&&(L.clearTimeout(E.B),E.B=null)}function oh(E){0==E.j.G||E.J||D_(E.j,E)}function ah(E){Zp(E);var G=E.M;G&&"function"==typeof G.ma&&G.ma(),E.M=null,qg(E.U),E.g&&(G=E.g,E.g=null,G.abort(),G.ma())}function pf(E,G){try{var te=E.j;if(0!=te.G&&(te.g==E||Qg(te.h,E)))if(!E.K&&Qg(te.h,E)&&3==te.G){try{var Ie=te.Da.g.parse(G)}catch{Ie=null}if(Array.isArray(Ie)&&3==Ie.length){var Dt=Ie;if(0==Dt[0]){e:if(!te.u){if(te.g){if(!(te.g.F+3e3<E.F))break e;im(te),bd(te)}ap(te),dl(18)}}else te.za=Dt[1],0<te.za-te.T&&37500>Dt[2]&&te.F&&0==te.v&&!te.C&&(te.C=df(Xe(te.Za,te),6e3));if(1>=h_(te.h)&&te.ca){try{te.ca()}catch{}te.ca=void 0}}else Nu(te,11)}else if((E.K||te.g==E)&&im(te),!Rr(G))for(Dt=te.Da.g.parse(G),G=0;G<Dt.length;G++){let ps=Dt[G];if(te.T=ps[0],ps=ps[1],2==te.G)if("c"==ps[0]){te.K=ps[1],te.ia=ps[2];const Ga=ps[3];null!=Ga&&(te.la=Ga,te.j.info("VER="+te.la));const qa=ps[4];null!=qa&&(te.Aa=qa,te.j.info("SVER="+te.Aa));const ku=ps[5];null!=ku&&"number"==typeof ku&&0<ku&&(te.L=Ie=1.5*ku,te.j.info("backChannelRequestTimeoutMs_="+Ie)),Ie=te;const fl=E.g;if(fl){const up=fl.g?fl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(up){var qt=Ie.h;qt.g||-1==up.indexOf("spdy")&&-1==up.indexOf("quic")&&-1==up.indexOf("h2")||(qt.j=qt.l,qt.g=new Set,qt.h&&(Jg(qt,qt.h),qt.h=null))}if(Ie.D){const ng=fl.g?fl.g.getResponseHeader("X-HTTP-Session-Id"):null;ng&&(Ie.ya=ng,uo(Ie.I,Ie.D,ng))}}te.G=3,te.l&&te.l.ua(),te.ba&&(te.R=Date.now()-E.F,te.j.info("Handshake RTT: "+te.R+"ms"));var Gn=E;if((Ie=te).qa=sm(Ie,Ie.J?Ie.ia:null,Ie.W),Gn.K){f_(Ie.h,Gn);var ks=Gn,Ea=Ie.L;Ea&&(ks.I=Ea),ks.B&&(Zp(ks),Wp(ks)),Ie.g=Gn}else A_(Ie);0<te.i.length&&tg(te)}else"stop"!=ps[0]&&"close"!=ps[0]||Nu(te,7);else 3==te.G&&("stop"==ps[0]||"close"==ps[0]?"stop"==ps[0]?Nu(te,7):eg(te):"noop"!=ps[0]&&te.l&&te.l.ta(ps),te.v=0)}uf()}catch{}}function u_(E){this.l=E||10,E=L.PerformanceNavigationTiming?0<(E=L.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(L.chrome&&L.chrome.loadTimes&&L.chrome.loadTimes()&&L.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function d_(E){return!!E.h||!!E.g&&E.g.size>=E.j}function h_(E){return E.h?1:E.g?E.g.size:0}function Qg(E,G){return E.h?E.h==G:!!E.g&&E.g.has(G)}function Jg(E,G){E.g?E.g.add(G):E.h=G}function f_(E,G){E.h&&E.h==G?E.h=null:E.g&&E.g.has(G)&&E.g.delete(G)}function Xg(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let G=E.i;for(const te of E.g.values())G=G.concat(te.D);return G}return Kt(E.i)}function Jy(E,G){if(E.forEach&&"function"==typeof E.forEach)E.forEach(G,void 0);else if($(E)||"string"==typeof E)Array.prototype.forEach.call(E,G,void 0);else for(var te=function Qy(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if($(E)||"string"==typeof E){var G=[];E=E.length;for(var te=0;te<E;te++)G.push(te);return G}G=[],te=0;for(const Ie in E)G[te++]=Ie;return G}}}(E),Ie=function p_(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if($(E)){for(var G=[],te=E.length,Ie=0;Ie<te;Ie++)G.push(E[Ie]);return G}for(Ie in G=[],te=0,E)G[te++]=E[Ie];return G}(E),Dt=Ie.length,qt=0;qt<Dt;qt++)G.call(void 0,Ie[qt],te&&te[qt],E)}vd.prototype.ca=function(E){E=E.target;const G=this.M;G&&3==Ou(E)?G.j():this.Y(E)},vd.prototype.Y=function(E){try{if(E==this.g)e:{const qa=Ou(this.g);var G=this.g.Ba();if(this.g.Z(),!(3>qa)&&(3!=qa||this.g&&(this.h.h||this.g.oa()||Xp(this.g)))){this.J||4!=qa||7==G||uf(),Zp(this);var te=this.g.Z();this.X=te;t:if(l_(this)){var Ie=Xp(this.g);E="";var Dt=Ie.length,qt=4==Ou(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ah(this),oh(this);var Gn="";break t}this.h.i=new L.TextDecoder}for(G=0;G<Dt;G++)this.h.h=!0,E+=this.h.i.decode(Ie[G],{stream:!(qt&&G==Dt-1)});Ie.length=0,this.h.g+=E,this.C=0,Gn=this.h.g}else Gn=this.g.oa();if(this.o=200==te,function Zy(E,G,te,Ie,Dt,qt,Gn){E.info(function(){return"XMLHTTP RESP ("+Ie+") [ attempt "+Dt+"]: "+G+"\n"+te+"\n"+qt+" "+Gn})}(this.i,this.u,this.A,this.l,this.R,qa,te),this.o){if(this.T&&!this.K){t:{if(this.g){var ks,Ea=this.g;if((ks=Ea.g?Ea.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(ks)){var ps=ks;break t}}ps=null}if(!(te=ps)){this.o=!1,this.s=3,dl(12),ah(this),oh(this);break e}sh(this.i,this.l,te,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,te)}if(this.P){let fl;for(te=!0;!this.J&&this.C<Gn.length;){if(fl=Ky(this,Gn),fl==Kg){4==qa&&(this.s=4,dl(14),te=!1),sh(this.i,this.l,null,"[Incomplete Response]");break}if(fl==o_){this.s=4,dl(15),sh(this.i,this.l,Gn,"[Invalid Chunk]"),te=!1;break}sh(this.i,this.l,fl,null),pf(this,fl)}if(l_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=qa||0!=Gn.length||this.h.h||(this.s=1,dl(16),te=!1),this.o=this.o&&te,te){if(0<Gn.length&&!this.W){this.W=!0;var Ga=this.j;Ga.g==this&&Ga.ba&&!Ga.M&&(Ga.j.info("Great, no buffering proxy detected. Bytes received: "+Gn.length),Ef(Ga),Ga.M=!0,dl(11))}}else sh(this.i,this.l,Gn,"[Invalid Chunked Response]"),ah(this),oh(this)}else sh(this.i,this.l,Gn,null),pf(this,Gn);4==qa&&ah(this),this.o&&!this.J&&(4==qa?D_(this.j,this):(this.o=!1,Wp(this)))}else(function rp(E){const G={};E=(E.g&&2<=Ou(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let Ie=0;Ie<E.length;Ie++){if(Rr(E[Ie]))continue;var te=wt(E[Ie]);const Dt=te[0];if("string"!=typeof(te=te[1]))continue;te=te.trim();const qt=G[Dt]||[];G[Dt]=qt,qt.push(te)}!function mt(E,G){for(const te in E)G.call(void 0,E[te],te,E)}(G,function(Ie){return Ie.join(", ")})})(this.g),400==te&&0<Gn.indexOf("Unknown SID")?(this.s=3,dl(12)):(this.s=0,dl(13)),ah(this),oh(this)}}}catch{}},vd.prototype.cancel=function(){this.J=!0,ah(this)},vd.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function s_(E,G){E.info(function(){return"TIMEOUT: "+G})}(this.i,this.A),2!=this.L&&(uf(),dl(17)),ah(this),this.s=2,oh(this)):c_(this,this.S-E)},u_.prototype.cancel=function(){if(this.i=Xg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var em=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof gf){this.h=E.h,Kp(this,E.j),this.o=E.o,this.g=E.g,Yp(this,E.s),this.l=E.l;var G=E.i,te=new ru;te.i=G.i,G.g&&(te.g=new Map(G.g),te.h=G.h),Qp(this,te),this.m=E.m}else E&&(G=String(E).match(em))?(this.h=!1,Kp(this,G[1]||"",!0),this.o=Ru(G[2]||""),this.g=Ru(G[3]||"",!0),Yp(this,G[4]),this.l=Ru(G[5]||"",!0),Qp(this,G[6]||"",!0),this.m=Ru(G[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}function Jl(E){return new gf(E)}function Kp(E,G,te){E.j=te?Ru(G,!0):G,E.j&&(E.j=E.j.replace(/:$/,""))}function Yp(E,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);E.s=G}else E.s=null}function Qp(E,G,te){G instanceof ru?(E.i=G,function yf(E,G){G&&!E.j&&(Sl(E),E.i=null,E.g.forEach(function(te,Ie){var Dt=Ie.toLowerCase();Ie!=Dt&&(ch(this,Ie),dh(this,Dt,te))},E)),E.j=G}(E.i,E.h)):(te||(G=Jo(G,mf)),E.i=new ru(G,E.h))}function uo(E,G,te){E.i.set(G,te)}function Dl(E){return uo(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ru(E,G){return E?G?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Jo(E,G,te){return"string"==typeof E?(E=encodeURI(E).replace(G,lh),te&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function lh(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}gf.prototype.toString=function(){var E=[],G=this.j;G&&E.push(Jo(G,tp,!0),":");var te=this.g;return(te||"file"==G)&&(E.push("//"),(G=this.o)&&E.push(Jo(G,tp,!0),"@"),E.push(encodeURIComponent(String(te)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(te=this.s)&&E.push(":",String(te))),(te=this.l)&&(this.g&&"/"!=te.charAt(0)&&E.push("/"),E.push(Jo(te,"/"==te.charAt(0)?tm:Xl,!0))),(te=this.i.toString())&&E.push("?",te),(te=this.m)&&E.push("#",Jo(te,_f)),E.join("")};var E,tp=/[#\/\?@]/g,Xl=/[#\?:]/g,tm=/[#\?]/g,mf=/[#\?@]/g,_f=/#/g;function ru(E,G){this.h=this.g=null,this.i=E||null,this.j=!!G}function Sl(E){E.g||(E.g=new Map,E.h=0,E.i&&function g_(E,G){if(E){E=E.split("&");for(var te=0;te<E.length;te++){var Ie=E[te].indexOf("="),Dt=null;if(0<=Ie){var qt=E[te].substring(0,Ie);Dt=E[te].substring(Ie+1)}else qt=E[te];G(qt,Dt?decodeURIComponent(Dt.replace(/\+/g," ")):"")}}}(E.i,function(G,te){E.add(decodeURIComponent(G.replace(/\+/g," ")),te)}))}function ch(E,G){Sl(E),G=Tc(E,G),E.g.has(G)&&(E.i=null,E.h-=E.g.get(G).length,E.g.delete(G))}function uh(E,G){return Sl(E),G=Tc(E,G),E.g.has(G)}function dh(E,G,te){ch(E,G),0<te.length&&(E.i=null,E.g.set(Tc(E,G),Kt(te)),E.h+=te.length)}function Tc(E,G){return G=String(G),E.j&&(G=G.toLowerCase()),G}function Mu(E,G,te,Ie,Dt){try{Dt&&(Dt.onload=null,Dt.onerror=null,Dt.onabort=null,Dt.ontimeout=null),Ie(te)}catch{}}function y_(){this.g=new t_}function v_(E,G,te){const Ie=te||"";try{Jy(E,function(Dt,qt){let Gn=Dt;ee(Dt)&&(Gn=zp(Dt)),G.push(Ie+qt+"="+encodeURIComponent(Gn))})}catch(Dt){throw G.push(Ie+"type="+encodeURIComponent("_badmap")),Dt}}function vf(E){this.l=E.Ub||null,this.j=E.eb||!1}function np(E,G){za.call(this),this.D=E,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function nm(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function bf(E){E.readyState=4,E.l=null,E.j=null,E.v=null,hh(E)}function hh(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function b_(E){let G="";return gi(E,function(te,Ie){G+=Ie,G+=":",G+=te,G+="\r\n"}),G}function E_(E,G,te){e:{for(Ie in te){var Ie=!1;break e}Ie=!0}Ie||(te=b_(te),"string"==typeof E?null!=te&&encodeURIComponent(String(te)):uo(E,G,te))}function $o(E){za.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=ru.prototype).add=function(E,G){Sl(this),this.i=null,E=Tc(this,E);var te=this.g.get(E);return te||this.g.set(E,te=[]),te.push(G),this.h+=1,this},d.forEach=function(E,G){Sl(this),this.g.forEach(function(te,Ie){te.forEach(function(Dt){E.call(G,Dt,Ie,this)},this)},this)},d.na=function(){Sl(this);const E=Array.from(this.g.values()),G=Array.from(this.g.keys()),te=[];for(let Ie=0;Ie<G.length;Ie++){const Dt=E[Ie];for(let qt=0;qt<Dt.length;qt++)te.push(G[Ie])}return te},d.V=function(E){Sl(this);let G=[];if("string"==typeof E)uh(this,E)&&(G=G.concat(this.g.get(Tc(this,E))));else{E=Array.from(this.g.values());for(let te=0;te<E.length;te++)G=G.concat(E[te])}return G},d.set=function(E,G){return Sl(this),this.i=null,uh(this,E=Tc(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[G]),this.h+=1,this},d.get=function(E,G){return E&&0<(E=this.V(E)).length?String(E[0]):G},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],G=Array.from(this.g.keys());for(var te=0;te<G.length;te++){var Ie=G[te];const qt=encodeURIComponent(String(Ie)),Gn=this.V(Ie);for(Ie=0;Ie<Gn.length;Ie++){var Dt=qt;""!==Gn[Ie]&&(Dt+="="+encodeURIComponent(String(Gn[Ie]))),E.push(Dt)}}return this.i=E.join("&")},dn(vf,Yf),vf.prototype.g=function(){return new np(this.l,this.j)},vf.prototype.i=(E={},function(){return E}),dn(np,za),(d=np.prototype).open=function(E,G){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=G,this.readyState=1,hh(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(G.body=E),(this.D||L).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bf(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,hh(this)),this.g&&(this.readyState=3,hh(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var G=E.value?E.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!E.done}))&&(this.response=this.responseText+=G)}E.done?bf(this):hh(this),3==this.readyState&&nm(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,bf(this))},d.Qa=function(E){this.g&&(this.response=E,bf(this))},d.ga=function(){this.g&&bf(this)},d.setRequestHeader=function(E,G){this.u.append(E,G)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],G=this.h.entries();for(var te=G.next();!te.done;)E.push((te=te.value)[0]+": "+te[1]),te=G.next();return E.join("\r\n")},Object.defineProperty(np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),dn($o,za);var Xy=/^https?$/i,ev=["POST","PUT"];function tv(E,G){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=G,E.m=5,T_(E),Jp(E)}function T_(E){E.A||(E.A=!0,$a(E,"complete"),$a(E,"error"))}function nv(E){if(E.h&&typeof w<"u"&&(!E.v[1]||4!=Ou(E)||2!=E.Z()))if(E.u&&4==Ou(E))$g(E.Ea,0,E);else if($a(E,"readystatechange"),4==Ou(E)){E.h=!1;try{const Gn=E.Z();e:switch(Gn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var te;if(!(te=G)){var Ie;if(Ie=0===Gn){var Dt=String(E.D).match(em)[1]||null;!Dt&&L.self&&L.self.location&&(Dt=L.self.location.protocol.slice(0,-1)),Ie=!Xy.test(Dt?Dt.toLowerCase():"")}te=Ie}if(te)$a(E,"complete"),$a(E,"success");else{E.m=6;try{var qt=2<Ou(E)?E.g.statusText:""}catch{qt=""}E.l=qt+" ["+E.Z()+"]",T_(E)}}finally{Jp(E)}}}function Jp(E,G){if(E.g){I_(E);const te=E.g,Ie=E.v[0]?()=>{}:null;E.g=null,E.v=null,G||$a(E,"ready");try{te.onreadystatechange=Ie}catch{}}}function I_(E){E.I&&(L.clearTimeout(E.I),E.I=null)}function Ou(E){return E.g?E.g.readyState:0}function Xp(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(E,G,te){return te&&te.internalChannelParams&&te.internalChannelParams[E]||G}function ip(E){this.Aa=0,this.i=[],this.j=new hf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fh("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fh("baseRetryDelayMs",5e3,E),this.cb=fh("retryDelaySeedMs",1e4,E),this.Wa=fh("forwardChannelMaxRetries",2,E),this.wa=fh("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new u_(E&&E.concurrentRequestLimit),this.Da=new y_,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function eg(E){if(rm(E),3==E.G){var G=E.U++,te=Jl(E.I);if(uo(te,"SID",E.K),uo(te,"RID",G),uo(te,"TYPE","terminate"),op(E,te),(G=new vd(E,E.j,G)).L=2,G.v=Dl(Jl(te)),te=!1,L.navigator&&L.navigator.sendBeacon)try{te=L.navigator.sendBeacon(G.v.toString(),"")}catch{}!te&&L.Image&&((new Image).src=G.v,te=!0),te||(G.g=P_(G.j,null),G.g.ea(G.v)),G.F=Date.now(),Wp(G)}x_(E)}function bd(E){E.g&&(Ef(E),E.g.cancel(),E.g=null)}function rm(E){bd(E),E.u&&(L.clearTimeout(E.u),E.u=null),im(E),E.h.cancel(),E.s&&("number"==typeof E.s&&L.clearTimeout(E.s),E.s=null)}function tg(E){if(!d_(E.h)&&!E.s){E.s=!0;var G=E.Ga;Wf||Km(),af||(Wf(),af=!0),Fg.add(G,E),E.B=0}}function w_(E,G){var te;te=G?G.l:E.U++;const Ie=Jl(E.I);uo(Ie,"SID",E.K),uo(Ie,"RID",te),uo(Ie,"AID",E.T),op(E,Ie),E.m&&E.o&&E_(Ie,E.m,E.o),te=new vd(E,E.j,te,E.B+1),null===E.m&&(te.H=E.o),G&&(E.i=G.D.concat(E.i)),G=C_(E,te,1e3),te.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Jg(E.h,te),Yg(te,Ie,G)}function op(E,G){E.H&&gi(E.H,function(te,Ie){uo(G,Ie,te)}),E.l&&Jy({},function(te,Ie){uo(G,Ie,te)})}function C_(E,G,te){te=Math.min(E.i.length,te);var Ie=E.l?Xe(E.l.Na,E.l,E):null;e:{var Dt=E.i;let qt=-1;for(;;){const Gn=["count="+te];-1==qt?0<te?(qt=Dt[0].g,Gn.push("ofs="+qt)):qt=0:Gn.push("ofs="+qt);let ks=!0;for(let Ea=0;Ea<te;Ea++){let ps=Dt[Ea].g;const Ga=Dt[Ea].map;if(ps-=qt,0>ps)qt=Math.max(0,Dt[Ea].g-100),ks=!1;else try{v_(Ga,Gn,"req"+ps+"_")}catch{Ie&&Ie(Ga)}}if(ks){Ie=Gn.join("&");break e}}}return E=E.i.splice(0,te),G.D=E,Ie}function A_(E){if(!E.g&&!E.u){E.Y=1;var G=E.Fa;Wf||Km(),af||(Wf(),af=!0),Fg.add(G,E),E.v=0}}function ap(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=df(Xe(E.Fa,E),S_(E,E.v)),E.v++,0))}function Ef(E){null!=E.A&&(L.clearTimeout(E.A),E.A=null)}function lp(E){E.g=new vd(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var G=Jl(E.qa);uo(G,"RID","rpc"),uo(G,"SID",E.K),uo(G,"AID",E.T),uo(G,"CI",E.F?"0":"1"),!E.F&&E.ja&&uo(G,"TO",E.ja),uo(G,"TYPE","xmlhttp"),op(E,G),E.m&&E.o&&E_(G,E.m,E.o),E.L&&(E.g.I=E.L);var te=E.g;E=E.ia,te.L=1,te.v=Dl(Jl(G)),te.m=null,te.P=!0,a_(te,E)}function im(E){null!=E.C&&(L.clearTimeout(E.C),E.C=null)}function D_(E,G){var te=null;if(E.g==G){im(E),Ef(E),E.g=null;var Ie=2}else{if(!Qg(E.h,G))return;te=G.D,f_(E.h,G),Ie=1}if(0!=E.G)if(G.o)if(1==Ie){te=G.m?G.m.length:0,G=Date.now()-G.F;var Dt=E.B;$a(Ie=ih(),new i_(Ie,te)),tg(E)}else A_(E);else if(3==(Dt=G.s)||0==Dt&&0<G.X||!(1==Ie&&function sp(E,G){return!(h_(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=G.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=df(Xe(E.Ga,E,G),S_(E,E.B)),E.B++,0)))}(E,G)||2==Ie&&ap(E)))switch(te&&0<te.length&&(G=E.h,G.i=G.i.concat(te)),Dt){case 1:Nu(E,5);break;case 4:Nu(E,10);break;case 3:Nu(E,6);break;default:Nu(E,2)}}function S_(E,G){let te=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(te*=2),te*G}function Nu(E,G){if(E.j.info("Error code "+G),2==G){var te=Xe(E.fb,E),Ie=E.Xa;const Dt=!Ie;Ie=new gf(Ie||"//www.google.com/images/cleardot.gif"),L.location&&"http"==L.location.protocol||Kp(Ie,"https"),Dl(Ie),Dt?function m_(E,G){const te=new hf;if(L.Image){const Ie=new Image;Ie.onload=xt(Mu,te,"TestLoadImage: loaded",!0,G,Ie),Ie.onerror=xt(Mu,te,"TestLoadImage: error",!1,G,Ie),Ie.onabort=xt(Mu,te,"TestLoadImage: abort",!1,G,Ie),Ie.ontimeout=xt(Mu,te,"TestLoadImage: timeout",!1,G,Ie),L.setTimeout(function(){Ie.ontimeout&&Ie.ontimeout()},1e4),Ie.src=E}else G(!1)}(Ie.toString(),te):function __(E,G){new hf;const Ie=new AbortController,Dt=setTimeout(()=>{Ie.abort(),Mu(0,0,!1,G)},1e4);fetch(E,{signal:Ie.signal}).then(qt=>{clearTimeout(Dt),Mu(0,0,!!qt.ok,G)}).catch(()=>{clearTimeout(Dt),Mu(0,0,!1,G)})}(Ie.toString(),te)}else dl(2);E.G=0,E.l&&E.l.sa(G),x_(E),rm(E)}function x_(E){if(E.G=0,E.ka=[],E.l){const G=Xg(E.h);(0!=G.length||0!=E.i.length)&&(bn(E.ka,G),bn(E.ka,E.i),E.h.i.length=0,Kt(E.i),E.i.length=0),E.l.ra()}}function sm(E,G,te){var Ie=te instanceof gf?Jl(te):new gf(te);if(""!=Ie.g)G&&(Ie.g=G+"."+Ie.g),Yp(Ie,Ie.s);else{var Dt=L.location;Ie=Dt.protocol,G=G?G+"."+Dt.hostname:Dt.hostname,Dt=+Dt.port;var qt=new gf(null);Ie&&Kp(qt,Ie),G&&(qt.g=G),Dt&&Yp(qt,Dt),te&&(qt.l=te),Ie=qt}return G=E.ya,(te=E.D)&&G&&uo(Ie,te,G),uo(Ie,"VER",E.la),op(E,Ie),Ie}function P_(E,G,te){if(G&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(G=new $o(E.Ca&&!E.pa?new vf({eb:te}):E.pa)).Ha(E.J),G}function R_(){}function cp(){}function hl(E,G){za.call(this),this.g=new ip(G),this.l=E,this.h=G&&G.messageUrlParams||null,E=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(E?E["X-WebChannel-Content-Type"]=G.messageContentType:E={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(E?E["X-WebChannel-Client-Profile"]=G.va:E={"X-WebChannel-Client-Profile":G.va}),this.g.S=E,(E=G&&G.Sb)&&!Rr(E)&&(this.g.m=E),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!Rr(G)&&(this.g.D=G,null!==(E=this.h)&&G in E&&G in(E=this.h)&&delete E[G]),this.j=new Tf(this)}function om(E){Jf.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var G=E.__sm__;if(G){e:{for(const te in G){E=te;break e}E=void 0}(this.i=E)&&(E=this.i,G=null!==G&&E in G?G[E]:void 0),this.data=G}else this.data=E}function M_(){Wg.call(this),this.status=1}function Tf(E){this.g=E}(d=$o.prototype).Ha=function(E){this.J=E},d.ea=function(E,G,te,Ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);G=G?G.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gp.g(),this.v=function nu(E){return E.h||(E.h=E.i())}(this.o?this.o:Gp),this.g.onreadystatechange=Xe(this.Ea,this);try{this.B=!0,this.g.open(G,String(E),!0),this.B=!1}catch(qt){return void tv(this,qt)}if(E=te||"",te=new Map(this.headers),Ie)if(Object.getPrototypeOf(Ie)===Object.prototype)for(var Dt in Ie)te.set(Dt,Ie[Dt]);else{if("function"!=typeof Ie.keys||"function"!=typeof Ie.get)throw Error("Unknown input type for opt_headers: "+String(Ie));for(const qt of Ie.keys())te.set(qt,Ie.get(qt))}Ie=Array.from(te.keys()).find(qt=>"content-type"==qt.toLowerCase()),Dt=L.FormData&&E instanceof L.FormData,!(0<=Array.prototype.indexOf.call(ev,G,void 0))||Ie||Dt||te.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qt,Gn]of te)this.g.setRequestHeader(qt,Gn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I_(this),this.u=!0,this.g.send(E),this.u=!1}catch(qt){tv(this,qt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,$a(this,"complete"),$a(this,"abort"),Jp(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jp(this,!0)),$o.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?nv(this):this.bb())},d.bb=function(){nv(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Ou(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var G=this.g.responseText;return E&&0==G.indexOf(E)&&(G=G.substring(E.length)),e_(G)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=ip.prototype).la=8,d.G=1,d.connect=function(E,G,te,Ie){dl(0),this.W=E,this.H=G||{},te&&void 0!==Ie&&(this.H.OSID=te,this.H.OAID=Ie),this.F=this.X,this.I=sm(this,null,this.W),tg(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Dt=new vd(this,this.j,E);let qt=this.o;if(this.S&&(qt?(qt=qe(qt),yt(qt,this.S)):qt=this.S),null!==this.m||this.O||(Dt.H=qt,qt=null),this.P)e:{for(var G=0,te=0;te<this.i.length;te++){var Ie=this.i[te];if(void 0===(Ie="__data__"in Ie.map&&"string"==typeof(Ie=Ie.map.__data__)?Ie.length:void 0))break;if(4096<(G+=Ie)){G=te;break e}if(4096===G||te===this.i.length-1){G=te+1;break e}}G=1e3}else G=1e3;G=C_(this,Dt,G),uo(te=Jl(this.I),"RID",E),uo(te,"CVER",22),this.D&&uo(te,"X-HTTP-Session-Id",this.D),op(this,te),qt&&(this.O?G="headers="+encodeURIComponent(String(b_(qt)))+"&"+G:this.m&&E_(te,this.m,qt)),Jg(this.h,Dt),this.Ua&&uo(te,"TYPE","init"),this.P?(uo(te,"$req",G),uo(te,"SID","null"),Dt.T=!0,Yg(Dt,te,null)):Yg(Dt,te,G),this.G=2}}else 3==this.G&&(E?w_(this,E):0==this.i.length||d_(this.h)||w_(this))},d.Fa=function(){if(this.u=null,lp(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=df(Xe(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dl(10),bd(this),lp(this))},d.Za=function(){null!=this.C&&(this.C=null,bd(this),ap(this),dl(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),dl(2)):(this.j.info("Failed to ping google.com"),dl(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=R_.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},cp.prototype.g=function(E,G){return new hl(E,G)},dn(hl,za),hl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hl.prototype.close=function(){eg(this.g)},hl.prototype.o=function(E){var G=this.g;if("string"==typeof E){var te={};te.__data__=E,E=te}else this.u&&((te={}).__data__=zp(E),E=te);G.i.push(new class{constructor(E,G){this.g=E,this.map=G}}(G.Ya++,E)),3==G.G&&tg(G)},hl.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,hl.aa.N.call(this)},dn(om,Jf),dn(M_,Wg),dn(Tf,R_),Tf.prototype.ua=function(){$a(this.g,"a")},Tf.prototype.ta=function(E){$a(this.g,new om(E))},Tf.prototype.sa=function(E){$a(this.g,new M_)},Tf.prototype.ra=function(){$a(this.g,"b")},cp.prototype.createWebChannel=cp.prototype.g,hl.prototype.send=hl.prototype.o,hl.prototype.open=hl.prototype.m,hl.prototype.close=hl.prototype.close,nn=ke.createWebChannelTransport=function(){return new cp},er=ke.getStatEventTarget=function(){return ih()},wn=ke.Event=yd,Tn=ke.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$p.NO_ERROR=0,$p.TIMEOUT=8,$p.HTTP_ERROR=6,Ut=ke.ErrorCode=$p,Zg.COMPLETE="complete",Vt=ke.EventType=Zg,n_.EventType=Qf,Qf.OPEN="a",Qf.CLOSE="b",Qf.ERROR="c",Qf.MESSAGE="d",za.prototype.listen=za.prototype.K,At=ke.WebChannel=n_,Qt=ke.FetchXmlHttpFactory=vf,$o.prototype.listenOnce=$o.prototype.L,$o.prototype.getLastError=$o.prototype.Ka,$o.prototype.getLastErrorCode=$o.prototype.Ba,$o.prototype.getStatus=$o.prototype.Z,$o.prototype.getResponseJson=$o.prototype.Oa,$o.prototype.getResponseText=$o.prototype.oa,$o.prototype.send=$o.prototype.ea,$o.prototype.setWithCredentials=$o.prototype.Ha,_t=ke.XhrIo=$o}).apply(typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{});const We="@firebase/firestore";class ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");let Ct="10.12.3";const Ot=new O.Yd("@firebase/firestore");function Yt(){return Ot.logLevel}function Ke(d,...e){if(Ot.logLevel<=O.in.DEBUG){const r=e.map(kn);Ot.debug(`Firestore (${Ct}): ${d}`,...r)}}function ln(d,...e){if(Ot.logLevel<=O.in.ERROR){const r=e.map(kn);Ot.error(`Firestore (${Ct}): ${d}`,...r)}}function Qn(d,...e){if(Ot.logLevel<=O.in.WARN){const r=e.map(kn);Ot.warn(`Firestore (${Ct}): ${d}`,...r)}}function kn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function tt(d="Unexpected state"){const e=`FIRESTORE (${Ct}) INTERNAL ASSERTION FAILED: `+d;throw ln(e),new Error(e)}function je(d,e){d||tt()}function rt(d,e){return d}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends A.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class It{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ut.UNAUTHENTICATED))}shutdown(){}}class Ce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ve{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let p=this.i;const y=ee=>this.i!==p?(p=this.i,r(ee)):Promise.resolve();let w=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new ft,e.enqueueRetryable(()=>y(this.currentUser))};const L=()=>{const ee=w;e.enqueueRetryable((0,b.Z)(function*(){yield ee.promise,yield y(o.currentUser)}))},$=ee=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(ee=>$(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?$(ee):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new ft)}},0),L()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(je("string"==typeof o.accessToken),new It(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(null===e||"string"==typeof e),new ut(e)}}class pe{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class He{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new pe(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=y=>{null!=y.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const w=y.token!==this.R;return this.R=y.token,Ke("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>o(y))};const p=y=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>p(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?p(y):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(je("string"==typeof r.token),this.R=r.token,new pt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Er(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<d;o++)r[o]=Math.floor(256*Math.random());return r}class Zt{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const p=Er(40);for(let y=0;y<p.length;++y)o.length<20&&p[y]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(p[y]%62))}return o}}function pn(d,e){return d<e?-1:d>e?1:0}function qn(d,e,r){return d.length===e.length&&d.every((o,p)=>r(o,e[p]))}class Rn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new De(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new De(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new De(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Rn(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(e){this.timestamp=e}static fromTimestamp(e){return new en(e)}static min(){return new en(new Rn(0,0))}static max(){return new en(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class An{constructor(e,r,o){void 0===r?r=0:r>e.length&&tt(),void 0===o?o=e.length-r:o>e.length-r&&tt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===An.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof An?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let p=0;p<o;p++){const y=e.get(p),w=r.get(p);if(y<w)return-1;if(y>w)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class on extends An{construct(e,r,o){return new on(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new De(Ye.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(p=>p.length>0))}return new on(r)}static emptyPath(){return new on([])}}const tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends An{construct(e,r,o){return new Fr(e,r,o)}static isValidIdentifier(e){return tr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const r=[];let o="",p=0;const y=()=>{if(0===o.length)throw new De(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let w=!1;for(;p<e.length;){const L=e[p];if("\\"===L){if(p+1===e.length)throw new De(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[p+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new De(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,p+=2}else"`"===L?(w=!w,p++):"."!==L||w?(o+=L,p++):(y(),p++)}if(y(),w)throw new De(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(r)}static emptyPath(){return new Fr([])}}class jt{constructor(e){this.path=e}static fromPath(e){return new jt(on.fromString(e))}static fromName(e){return new jt(on.fromString(e).popFirst(5))}static empty(){return new jt(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return on.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new on(e.slice()))}}class Pr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Pr(en.min(),jt.empty(),-1)}static max(){return new Pr(en.max(),jt.empty(),-1)}}function so(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=jt.comparator(d.documentKey,e.documentKey),0!==r?r:pn(d.largestBatchId,e.largestBatchId))}const Hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ls{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ns(d){return oi.apply(this,arguments)}function oi(){return(oi=(0,b.Z)(function*(d){if(d.code!==Ye.FAILED_PRECONDITION||d.message!==Hn)throw d;Ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((o,p)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(o,p)},this.catchCallback=y=>{this.wrapFailure(r,y).next(o,p)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,o)=>{r(e)})}static reject(e){return new et((r,o)=>{o(e)})}static waitFor(e){return new et((r,o)=>{let p=0,y=0,w=!1;e.forEach(L=>{++p,L.next(()=>{++y,w&&y===p&&r()},$=>o($))}),w=!0,y===p&&r()})}static or(e){let r=et.resolve(!1);for(const o of e)r=r.next(p=>p?et.resolve(p):o());return r}static forEach(e,r){const o=[];return e.forEach((p,y)=>{o.push(r.call(this,p,y))}),this.waitFor(o)}static mapArray(e,r){return new et((o,p)=>{const y=e.length,w=new Array(y);let L=0;for(let $=0;$<y;$++){const ee=$;r(e[ee]).next(me=>{w[ee]=me,++L,L===y&&o(w)},me=>p(me))}})}static doWhile(e,r){return new et((o,p)=>{const y=()=>{!0===e()?r().next(()=>{y()},p):o()};y()})}}function Br(d){return"IndexedDbTransactionError"===d.name}let Ee=(()=>{class d{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=p=>this.ie(p),this.se=p=>o.writeSequenceNumber(p))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function Se(d){return null==d}function Nt(d){return 0===d&&1/d==-1/0}function Mn(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function rn(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function Wn(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Or{constructor(e,r){this.comparator=e,this.root=r||Vr.EMPTY}insert(e,r){return new Or(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const p=this.comparator(e,o.key);if(0===p)return r+o.left.size;p<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ki(this.root,e,this.comparator,!0)}}class ki{constructor(e,r,o,p){this.isReverse=p,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?o(e.key,r):1,r&&p&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,r,o,p,y){this.key=e,this.value=r,this.color=o??Vr.RED,this.left=p??Vr.EMPTY,this.right=y??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,p,y){return new Vr(e??this.key,r??this.value,o??this.color,p??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let p=this;const y=o(e,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(e,r,o),null):0===y?p.copy(null,r,null,null,null):p.copy(null,null,null,null,p.right.insert(e,r,o)),p.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,p=this;if(r(e,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(e,r),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===r(e,p.key)){if(p.right.isEmpty())return Vr.EMPTY;o=p.right.min(),p=p.copy(o.key,o.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(e,r))}return p.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,r,o,p,y){return this}insert(e,r,o){return new Vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yr{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const p=o.getNext();if(this.comparator(p.key,e[1])>=0)return;r(p.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ji(this.data.getIterator())}getIteratorFrom(e){return new Ji(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const p=r.getNext().key,y=o.getNext().key;if(0!==this.comparator(p,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Yr(this.comparator);return r.data=e,r}}class Ji{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ti{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Ti([])}unionWith(e){let r=new Yr(Fr.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Ti(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return qn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class cs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(p){try{return atob(p)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new cs("Invalid base64 string: "+y):y}}(e);return new $r(r)}static fromUint8Array(e){const r=function(p){let y="";for(let w=0;w<p.length;++w)y+=String.fromCharCode(p[w]);return y}(e);return new $r(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let p=0;p<r.length;p++)o[p]=r.charCodeAt(p);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const Qs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(d){if(je(!!d),"string"==typeof d){let e=0;const r=Qs.exec(d);if(je(!!r),r[1]){let p=r[1];p=(p+"000000000").substr(0,9),e=Number(p)}const o=new Date(d);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ti(d.seconds),nanos:ti(d.nanos)}}function ti(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Ss(d){return"string"==typeof d?$r.fromBase64String(d):$r.fromUint8Array(d)}function Js(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function _o(d){const e=d.mapValue.fields.__previous_value__;return Js(e)?_o(e):e}function zs(d){const e=rs(d.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}class yo{constructor(e,r,o,p,y,w,L,$,ee){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=p,this.ssl=y,this.forceLongPolling=w,this.autoDetectLongPolling=L,this.longPollingOptions=$,this.useFetchStreams=ee}}class Xs{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Xs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xs&&e.projectId===this.projectId&&e.database===this.database}}const xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Js(d)?4:_s(d)?9007199254740991:10:tt()}function xs(d,e){if(d===e)return!0;const r=$s(d);if(r!==$s(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return zs(d).isEqual(zs(e));case 3:return function(p,y){if("string"==typeof p.timestampValue&&"string"==typeof y.timestampValue&&p.timestampValue.length===y.timestampValue.length)return p.timestampValue===y.timestampValue;const w=rs(p.timestampValue),L=rs(y.timestampValue);return w.seconds===L.seconds&&w.nanos===L.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,Ss(d.bytesValue).isEqual(Ss(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(p,y){return ti(p.geoPointValue.latitude)===ti(y.geoPointValue.latitude)&&ti(p.geoPointValue.longitude)===ti(y.geoPointValue.longitude)}(d,e);case 2:return function(p,y){if("integerValue"in p&&"integerValue"in y)return ti(p.integerValue)===ti(y.integerValue);if("doubleValue"in p&&"doubleValue"in y){const w=ti(p.doubleValue),L=ti(y.doubleValue);return w===L?Nt(w)===Nt(L):isNaN(w)&&isNaN(L)}return!1}(d,e);case 9:return qn(d.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:return function(p,y){const w=p.mapValue.fields||{},L=y.mapValue.fields||{};if(Mn(w)!==Mn(L))return!1;for(const $ in w)if(w.hasOwnProperty($)&&(void 0===L[$]||!xs(w[$],L[$])))return!1;return!0}(d,e);default:return tt()}var y}function Fs(d,e){return void 0!==(d.values||[]).find(r=>xs(r,e))}function Li(d,e){if(d===e)return 0;const r=$s(d),o=$s(e);if(r!==o)return pn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return pn(d.booleanValue,e.booleanValue);case 2:return function(y,w){const L=ti(y.integerValue||y.doubleValue),$=ti(w.integerValue||w.doubleValue);return L<$?-1:L>$?1:L===$?0:isNaN(L)?isNaN($)?0:-1:1}(d,e);case 3:return vo(d.timestampValue,e.timestampValue);case 4:return vo(zs(d),zs(e));case 5:return pn(d.stringValue,e.stringValue);case 6:return function(y,w){const L=Ss(y),$=Ss(w);return L.compareTo($)}(d.bytesValue,e.bytesValue);case 7:return function(y,w){const L=y.split("/"),$=w.split("/");for(let ee=0;ee<L.length&&ee<$.length;ee++){const me=pn(L[ee],$[ee]);if(0!==me)return me}return pn(L.length,$.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,w){const L=pn(ti(y.latitude),ti(w.latitude));return 0!==L?L:pn(ti(y.longitude),ti(w.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return function(y,w){const L=y.values||[],$=w.values||[];for(let ee=0;ee<L.length&&ee<$.length;++ee){const me=Li(L[ee],$[ee]);if(me)return me}return pn(L.length,$.length)}(d.arrayValue,e.arrayValue);case 10:return function(y,w){if(y===xi.mapValue&&w===xi.mapValue)return 0;if(y===xi.mapValue)return 1;if(w===xi.mapValue)return-1;const L=y.fields||{},$=Object.keys(L),ee=w.fields||{},me=Object.keys(ee);$.sort(),me.sort();for(let Ae=0;Ae<$.length&&Ae<me.length;++Ae){const Xe=pn($[Ae],me[Ae]);if(0!==Xe)return Xe;const xt=Li(L[$[Ae]],ee[me[Ae]]);if(0!==xt)return xt}return pn($.length,me.length)}(d.mapValue,e.mapValue);default:throw tt()}}function vo(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return pn(d,e);const r=rs(d),o=rs(e),p=pn(r.seconds,o.seconds);return 0!==p?p:pn(r.nanos,o.nanos)}function Ls(d){return Ps(d)}function Ps(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const o=rs(r);return`time(${o.seconds},${o.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Ss(d.bytesValue).toBase64():"referenceValue"in d?jt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let o="[",p=!0;for(const y of r.values||[])p?p=!1:o+=",",o+=Ps(y);return o+"]"}(d.arrayValue):"mapValue"in d?function(r){const o=Object.keys(r.fields||{}).sort();let p="{",y=!0;for(const w of o)y?y=!1:p+=",",p+=`${w}:${Ps(r.fields[w])}`;return p+"}"}(d.mapValue):tt()}function Nr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Pi(d){return!!d&&"integerValue"in d}function yi(d){return!!d&&"arrayValue"in d}function Vs(d){return!!d&&"nullValue"in d}function Ts(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function qo(d){return!!d&&"mapValue"in d}function ms(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return rn(d.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ms(o)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ms(d.arrayValue.values[r]);return e}return Object.assign({},d)}function _s(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!qo(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ms(r)}setAll(e){let r=Fr.emptyPath(),o={},p=[];e.forEach((w,L)=>{if(!r.isImmediateParentOf(L)){const $=this.getFieldsMap(r);this.applyChanges($,o,p),o={},p=[],r=L.popLast()}w?o[L.lastSegment()]=ms(w):p.push(L.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,o,p)}delete(e){const r=this.field(e.popLast());qo(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let p=r.mapValue.fields[e.get(o)];qo(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=p),r=p}return r.mapValue.fields}applyChanges(e,r,o){rn(r,(p,y)=>e[p]=y);for(const p of o)delete e[p]}clone(){return new nr(ms(this.value))}}function vi(d){const e=[];return rn(d.fields,(r,o)=>{const p=new Fr([r]);if(qo(o)){const y=vi(o.mapValue).fields;if(0===y.length)e.push(p);else for(const w of y)e.push(p.child(w))}else e.push(p)}),new Ti(e)}class jr{constructor(e,r,o,p,y,w,L){this.key=e,this.documentType=r,this.version=o,this.readTime=p,this.createTime=y,this.data=w,this.documentState=L}static newInvalidDocument(e){return new jr(e,0,en.min(),en.min(),en.min(),nr.empty(),0)}static newFoundDocument(e,r,o,p){return new jr(e,1,r,en.min(),o,p,0)}static newNoDocument(e,r){return new jr(e,2,r,en.min(),en.min(),nr.empty(),0)}static newUnknownDocument(e,r){return new jr(e,3,r,en.min(),en.min(),nr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(en.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ii{constructor(e,r){this.position=e,this.inclusive=r}}function Kr(d,e,r){let o=0;for(let p=0;p<d.position.length;p++){const y=e[p],w=d.position[p];if(o=y.field.isKeyField()?jt.comparator(jt.fromName(w.referenceValue),r.key):Li(w,r.data.field(y.field)),"desc"===y.dir&&(o*=-1),0!==o)break}return o}function qi(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!xs(d.position[r],e.position[r]))return!1;return!0}class ai{constructor(e,r="asc"){this.field=e,this.dir=r}}function Is(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Wi{}class En extends Wi{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new po(e,r,o):"array-contains"===r?new Gr(e,o):"in"===r?new Po(e,o):"not-in"===r?new Ta(e,o):"array-contains-any"===r?new Wo(e,o):new En(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new go(e,o):new oo(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Li(r,this.value)):null!==r&&$s(this.value)===$s(r)&&this.matchesComparison(Li(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Wi{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Hr(e,r)}matches(e){return to(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function to(d){return"and"===d.op}function Vi(d){return function xo(d){for(const e of d.filters)if(e instanceof Hr)return!1;return!0}(d)&&to(d)}function no(d){if(d instanceof En)return d.field.canonicalString()+d.op.toString()+Ls(d.value);if(Vi(d))return d.filters.map(e=>no(e)).join(",");{const e=d.filters.map(r=>no(r)).join(",");return`${d.op}(${e})`}}function Us(d,e){return d instanceof En?(o=d,(p=e)instanceof En&&o.op===p.op&&o.field.isEqual(p.field)&&xs(o.value,p.value)):d instanceof Hr?function(o,p){return p instanceof Hr&&o.op===p.op&&o.filters.length===p.filters.length&&o.filters.reduce((y,w,L)=>y&&Us(w,p.filters[L]),!0)}(d,e):void tt();var o,p}function Xo(d){return d instanceof En?`${(r=d).field.canonicalString()} ${r.op} ${Ls(r.value)}`:d instanceof Hr?function(r){return r.op.toString()+" {"+r.getFilters().map(Xo).join(" ,")+"}"}(d):"Filter";var r}class po extends En{constructor(e,r,o){super(e,r,o),this.key=jt.fromName(o.referenceValue)}matches(e){const r=jt.comparator(e.key,this.key);return this.matchesComparison(r)}}class go extends En{constructor(e,r){super(e,"in",r),this.keys=ha(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class oo extends En{constructor(e,r){super(e,"not-in",r),this.keys=ha(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ha(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>jt.fromName(o.referenceValue))}class Gr extends En{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return yi(r)&&Fs(r.arrayValue,this.value)}}class Po extends En{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Fs(this.value.arrayValue,r)}}class Ta extends En{constructor(e,r){super(e,"not-in",r)}matches(e){if(Fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Fs(this.value.arrayValue,r)}}class Wo extends En{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!yi(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Fs(this.value.arrayValue,o))}}class ys{constructor(e,r=null,o=[],p=[],y=null,w=null,L=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=p,this.limit=y,this.startAt=w,this.endAt=L,this.ue=null}}function Ia(d,e=null,r=[],o=[],p=null,y=null,w=null){return new ys(d,e,r,o,p,y,w)}function is(d){const e=rt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>no(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(y=o).field.canonicalString()+y.dir;var y}).join(","),Se(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Ls(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Ls(o)).join(",")),e.ue=r}return e.ue}function bo(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Is(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Us(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!qi(d.startAt,e.startAt)&&qi(d.endAt,e.endAt)}function Zi(d){return jt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}class se{constructor(e,r=null,o=[],p=[],y=null,w="F",L=null,$=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=p,this.limit=y,this.limitType=w,this.startAt=L,this.endAt=$,this.ce=null,this.le=null,this.he=null}}function Pe(d){return new se(d)}function ct(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function Gt(d){return null!==d.collectionGroup}function q(d){const e=rt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(w){let L=new Yr(Fr.comparator);return w.filters.forEach($=>{$.getFlattenedFilters().forEach(ee=>{ee.isInequality()&&(L=L.add(ee.field))})}),L})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new ai(y,o))}),r.has(Fr.keyField().canonicalString())||e.ce.push(new ai(Fr.keyField(),o))}return e.ce}function Y(d){const e=rt(d);return e.le||(e.le=function ue(d,e){if("F"===d.limitType)return Ia(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(p=>new ai(p.field,"desc"===p.dir?"asc":"desc"));const r=d.endAt?new Ii(d.endAt.position,d.endAt.inclusive):null,o=d.startAt?new Ii(d.startAt.position,d.startAt.inclusive):null;return Ia(d.path,d.collectionGroup,e,d.filters,d.limit,r,o)}}(e,q(d))),e.le}function Oe(d,e){const r=d.filters.concat([e]);return new se(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function yn(d,e,r){return new se(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function Zn(d,e){return bo(Y(d),Y(e))&&d.limitType===e.limitType}function Qr(d){return`${is(Y(d))}|lt:${d.limitType}`}function bi(d){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(p=>Xo(p)).join(", ")}]`),Se(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(p=>{return`${(w=p).field.canonicalString()} (${w.dir})`;var w}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(p=>Ls(p)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(p=>Ls(p)).join(",")),`Target(${o})`}(Y(d))}; limitType=${d.limitType})`}function Bi(d,e){return e.isFoundDocument()&&function(o,p){const y=p.key.path;return null!==o.collectionGroup?p.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(y):jt.isDocumentKey(o.path)?o.path.isEqual(y):o.path.isImmediateParentOf(y)}(d,e)&&function(o,p){for(const y of q(o))if(!y.field.isKeyField()&&null===p.data.field(y.field))return!1;return!0}(d,e)&&function(o,p){for(const y of o.filters)if(!y.matches(p))return!1;return!0}(d,e)&&(p=e,!((o=d).startAt&&!function(w,L,$){const ee=Kr(w,L,$);return w.inclusive?ee<=0:ee<0}(o.startAt,q(o),p)||o.endAt&&!function(w,L,$){const ee=Kr(w,L,$);return w.inclusive?ee>=0:ee>0}(o.endAt,q(o),p)));var o,p}function Rs(d){return(e,r)=>{let o=!1;for(const p of q(d)){const y=Ki(p,e,r);if(0!==y)return y;o=o||p.field.isKeyField()}return 0}}function Ki(d,e,r){const o=d.field.isKeyField()?jt.comparator(e.key,r.key):function(y,w,L){const $=w.data.field(y),ee=L.data.field(y);return null!==$&&null!==ee?Li($,ee):tt()}(d.field,e,r);switch(d.dir){case"asc":return o;case"desc":return-1*o;default:return tt()}}class ni{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[p,y]of o)if(this.equalsFn(p,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),p=this.inner[o];if(void 0===p)return this.inner[o]=[[e,r]],void this.innerSize++;for(let y=0;y<p.length;y++)if(this.equalsFn(p[y][0],e))return void(p[y]=[e,r]);p.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let p=0;p<o.length;p++)if(this.equalsFn(o[p][0],e))return 1===o.length?delete this.inner[r]:o.splice(p,1),this.innerSize--,!0;return!1}forEach(e){rn(this.inner,(r,o)=>{for(const[p,y]of o)e(p,y)})}isEmpty(){return Wn(this.inner)}size(){return this.innerSize}}const Hi=new Or(jt.comparator);function us(){return Hi}const ea=new Or(jt.comparator);function Eo(...d){let e=ea;for(const r of d)e=e.insert(r.key,r);return e}function Zo(d){let e=ea;return d.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ms(){return Bo()}function Pl(){return Bo()}function Bo(){return new ni(d=>d.toString(),(d,e)=>d.isEqual(e))}const Fa=new Or(jt.comparator),Ro=new Yr(jt.comparator);function qr(...d){let e=Ro;for(const r of d)e=e.add(r);return e}const La=new Yr(pn);function qs(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nt(e)?"-0":e}}function ao(d){return{integerValue:""+d}}function nl(d,e){return function tn(d){return"number"==typeof d&&Number.isInteger(d)&&!Nt(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}(e)?ao(e):qs(d,e)}class Va{constructor(){this._=void 0}}function pl(d,e,r){return d instanceof wa?function(p,y){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:p.seconds,nanos:p.nanoseconds}}}};return y&&Js(y)&&(y=_o(y)),y&&(w.fields.__previous_value__=y),{mapValue:w}}(r,e):d instanceof Os?Ua(d,e):d instanceof na?Rl(d,e):function(p,y){const w=ta(p,y),L=Ca(w)+Ca(p.Pe);return Pi(w)&&Pi(p.Pe)?ao(L):qs(p.serializer,L)}(d,e)}function Wa(d,e,r){return d instanceof Os?Ua(d,e):d instanceof na?Rl(d,e):r}function ta(d,e){return d instanceof ra?Pi(o=e)||(y=o)&&"doubleValue"in y?e:{integerValue:0}:null;var o,y}class wa extends Va{}class Os extends Va{constructor(e){super(),this.elements=e}}function Ua(d,e){const r=Aa(e);for(const o of d.elements)r.some(p=>xs(p,o))||r.push(o);return{arrayValue:{values:r}}}class na extends Va{constructor(e){super(),this.elements=e}}function Rl(d,e){let r=Aa(e);for(const o of d.elements)r=r.filter(p=>!xs(p,o));return{arrayValue:{values:r}}}class ra extends Va{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ca(d){return ti(d.integerValue||d.doubleValue)}function Aa(d){return yi(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class fa{constructor(e,r){this.version=e,this.transformResults=r}}class ds{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function F(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class de{}function W(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new zi(d.key,ds.none()):new Kn(d.key,d.data,ds.none());{const r=d.data,o=nr.empty();let p=new Yr(Fr.comparator);for(let y of e.fields)if(!p.has(y)){let w=r.field(y);null===w&&y.length>1&&(y=y.popLast(),w=r.field(y)),null===w?o.delete(y):o.set(y,w),p=p.add(y)}return new li(d.key,o,new Ti(p.toArray()),ds.none())}}function oe(d,e,r){d instanceof Kn?function(p,y,w){const L=p.value.clone(),$=Ri(p.fieldTransforms,y,w.transformResults);L.setAll($),y.convertToFoundDocument(w.version,L).setHasCommittedMutations()}(d,e,r):d instanceof li?function(p,y,w){if(!F(p.precondition,y))return void y.convertToUnknownDocument(w.version);const L=Ri(p.fieldTransforms,y,w.transformResults),$=y.data;$.setAll(Fi(p)),$.setAll(L),y.convertToFoundDocument(w.version,$).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ne(d,e,r,o){return d instanceof Kn?function(y,w,L,$){if(!F(y.precondition,w))return L;const ee=y.value.clone(),me=Ur(y.fieldTransforms,$,w);return ee.setAll(me),w.convertToFoundDocument(w.version,ee).setHasLocalMutations(),null}(d,e,r,o):d instanceof li?function(y,w,L,$){if(!F(y.precondition,w))return L;const ee=Ur(y.fieldTransforms,$,w),me=w.data;return me.setAll(Fi(y)),me.setAll(ee),w.convertToFoundDocument(w.version,me).setHasLocalMutations(),null===L?null:L.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Ae=>Ae.field))}(d,e,r,o):(L=r,F(d.precondition,w=e)?(w.convertToNoDocument(w.version).setHasLocalMutations(),null):L);var w,L}function Mt(d,e){let r=null;for(const o of d.fieldTransforms){const p=e.data.field(o.field),y=ta(o.transform,p||null);null!=y&&(null===r&&(r=nr.empty()),r.set(o.field,y))}return r||null}function Jt(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(p=e.fieldTransforms,!!(void 0===(o=d.fieldTransforms)&&void 0===p||o&&p&&qn(o,p,(y,w)=>function rc(d,e){return d.field.isEqual(e.field)&&(p=e.transform,(o=d.transform)instanceof Os&&p instanceof Os||o instanceof na&&p instanceof na?qn(o.elements,p.elements,xs):o instanceof ra&&p instanceof ra?xs(o.Pe,p.Pe):o instanceof wa&&p instanceof wa);var o,p}(y,w))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var o,p}class Kn extends de{constructor(e,r,o,p=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=p,this.type=0}getFieldMask(){return null}}class li extends de{constructor(e,r,o,p,y=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=p,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Fi(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=d.data.field(r);e.set(r,o)}}),e}function Ri(d,e,r){const o=new Map;je(d.length===r.length);for(let p=0;p<r.length;p++){const y=d[p],w=y.transform,L=e.data.field(y.field);o.set(y.field,Wa(w,L,r[p]))}return o}function Ur(d,e,r){const o=new Map;for(const p of d){const y=p.transform,w=r.data.field(p.field);o.set(p.field,pl(y,w,e))}return o}class zi extends de{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hi extends de{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ws{constructor(e,r,o,p){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=p}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let p=0;p<this.mutations.length;p++){const y=this.mutations[p];y.key.isEqual(e.key)&&oe(y,e,o[p])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Ne(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Ne(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Pl();return this.mutations.forEach(p=>{const y=e.get(p.key),w=y.overlayedDocument;let L=this.applyToLocalView(w,y.mutatedFields);L=r.has(p.key)?null:L;const $=W(w,L);null!==$&&o.set(p.key,$),w.isValidDocument()||w.convertToNoDocument(en.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),qr())}isEqual(e){return this.batchId===e.batchId&&qn(this.mutations,e.mutations,(r,o)=>Jt(r,o))&&qn(this.baseMutations,e.baseMutations,(r,o)=>Jt(r,o))}}class Bs{constructor(e,r,o,p){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=p}static from(e,r,o){je(e.mutations.length===o.length);let p=Fa;const y=e.mutations;for(let w=0;w<y.length;w++)p=p.insert(y[w].key,o[w].version);return new Bs(e,r,o,p)}}class Mo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lo{constructor(e,r){this.count=e,this.unchangedNames=r}}var Yi,ri;function gl(d){if(void 0===d)return ln("GRPC error has no .code"),Ye.UNKNOWN;switch(d){case Yi.OK:return Ye.OK;case Yi.CANCELLED:return Ye.CANCELLED;case Yi.UNKNOWN:return Ye.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return Ye.INTERNAL;case Yi.UNAVAILABLE:return Ye.UNAVAILABLE;case Yi.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case Yi.NOT_FOUND:return Ye.NOT_FOUND;case Yi.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case Yi.ABORTED:return Ye.ABORTED;case Yi.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case Yi.DATA_LOSS:return Ye.DATA_LOSS;default:return tt()}}(ri=Yi||(Yi={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";const Ic=new ht([4294967295,4294967295],0);function su(d){const e=function iu(){return new TextEncoder}().encode(d),r=new vt;return r.update(e),new Uint8Array(r.digest())}function wc(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),p=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new ht([r,o],0),new ht([p,y],0)]}class il{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new ia(`Invalid padding: ${r}`);if(o<0)throw new ia(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ia(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new ia(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ht.fromNumber(this.Ie)}Ee(e,r,o){let p=e.add(r.multiply(ht.fromNumber(o)));return 1===p.compare(Ic)&&(p=new ht([p.getBits(0),p.getBits(1)],0)),p.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=su(e),[o,p]=wc(r);for(let y=0;y<this.hashCount;y++){const w=this.Ee(o,p,y);if(!this.de(w))return!1}return!0}static create(e,r,o){const p=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),w=new il(y,p,r);return o.forEach(L=>w.insert(L)),w}insert(e){if(0===this.Ie)return;const r=su(e),[o,p]=wc(r);for(let y=0;y<this.hashCount;y++){const w=this.Ee(o,p,y);this.Ae(w)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ml{constructor(e,r,o,p,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=p,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const p=new Map;return p.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Ml(en.min(),p,new Or(pn),us(),qr())}}class jo{constructor(e,r,o,p,y){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=p,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new jo(o,r,qr(),qr(),qr())}}class ml{constructor(e,r,o,p){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=p}}class Cc{constructor(e,r){this.targetId=e,this.me=r}}class K{constructor(e,r,o=$r.EMPTY_BYTE_STRING,p=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=p}}class x{constructor(){this.fe=0,this.ge=X(),this.pe=$r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=qr(),r=qr(),o=qr();return this.ge.forEach((p,y)=>{switch(y){case 0:e=e.add(p);break;case 2:r=r.add(p);break;case 1:o=o.add(p);break;default:tt()}}),new jo(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=X()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class D{constructor(e){this.Le=e,this.Be=new Map,this.ke=us(),this.qe=B(),this.Qe=new Or(pn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:tt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,p)=>{this.ze(p)&&r(p)})}He(e){const r=e.targetId,o=e.me.count,p=this.Je(r);if(p){const y=p.target;if(Zi(y))if(0===o){const w=new jt(y.path);this.Ue(r,w,jr.newNoDocument(w,en.min()))}else je(1===o);else{const w=this.Ye(r);if(w!==o){const L=this.Ze(e),$=L?this.Xe(L,e,w):1;0!==$&&(this.je(r),this.Qe=this.Qe.insert(r,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:p=0},hashCount:y=0}=r;let w,L;try{w=Ss(o).toUint8Array()}catch($){if($ instanceof cs)return Qn("Decoding the base64 bloom filter in existence filter failed ("+$.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw $}try{L=new il(w,p,y)}catch($){return Qn($ instanceof ia?"BloomFilter error: ":"Applying bloom filter failed: ",$),null}return 0===L.Ie?null:L}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let p=0;return o.forEach(y=>{const w=this.Le.tt(),L=`projects/${w.projectId}/databases/${w.database}/documents/${y.path.canonicalString()}`;e.mightContain(L)||(this.Ue(r,y,null),p++)}),p}rt(e){const r=new Map;this.Be.forEach((y,w)=>{const L=this.Je(w);if(L){if(y.current&&Zi(L.target)){const $=new jt(L.target.path);null!==this.ke.get($)||this.it(w,$)||this.Ue(w,$,jr.newNoDocument($,e))}y.be&&(r.set(w,y.Ce()),y.ve())}});let o=qr();this.qe.forEach((y,w)=>{let L=!0;w.forEachWhile($=>{const ee=this.Je($);return!ee||"TargetPurposeLimboResolution"===ee.purpose||(L=!1,!1)}),L&&(o=o.add(y))}),this.ke.forEach((y,w)=>w.setReadTime(e));const p=new Ml(e,r,this.Qe,this.ke,o);return this.ke=us(),this.qe=B(),this.Qe=new Or(pn),p}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const p=this.Ge(e);this.it(e,r)?p.Fe(r,1):p.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new x,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Yr(pn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ke("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new x),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function B(){return new Or(jt.comparator)}function X(){return new Or(jt.comparator)}const he={asc:"ASCENDING",desc:"DESCENDING"},Ue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Be={and:"AND",or:"OR"};class Tt{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function $t(d,e){return d.useProto3Json||Se(e)?e:{value:e}}function Nn(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fn(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function ii(d,e){return Nn(d,e.toTimestamp())}function Jn(d){return je(!!d),en.fromTimestamp(function(r){const o=rs(r);return new Rn(o.seconds,o.nanos)}(d))}function rr(d,e){return kr(d,e).canonicalString()}function kr(d,e){const r=(p=d,new on(["projects",p.projectId,"databases",p.database])).child("documents");var p;return void 0===e?r:r.child(e)}function Ci(d){const e=on.fromString(d);return je(Zs(e)),e}function fs(d,e){return rr(d.databaseId,e.path)}function Yn(d,e){const r=Ci(e);if(r.get(1)!==d.databaseId.projectId)throw new De(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new De(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new jt(To(r))}function Ws(d,e){return rr(d.databaseId,e)}function ga(d){return new on(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function To(d){return je(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Io(d,e,r){return{name:fs(d,e),fields:r.value.mapValue.fields}}function ic(d,e){return{documents:[Ws(d,e.path)]}}function sn(d,e){const r={structuredQuery:{}},o=e.path;let p;null!==e.collectionGroup?(p=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(p=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Ws(d,p);const y=function(ee){if(0!==ee.length)return Ka(Hr.create(ee,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const w=function(ee){if(0!==ee.length)return ee.map(me=>{return{field:ro((Xe=me).field),direction:Ns(Xe.dir)};var Xe})}(e.orderBy);w&&(r.structuredQuery.orderBy=w);const L=$t(d,e.limit);return null!==L&&(r.structuredQuery.limit=L),e.startAt&&(r.structuredQuery.startAt={before:(ee=e.startAt).inclusive,values:ee.position}),e.endAt&&(r.structuredQuery.endAt=function(ee){return{before:!ee.inclusive,values:ee.position}}(e.endAt)),{_t:r,parent:p};var ee}function yr(d){let e=function Cs(d){const e=Ci(d);return 4===e.length?on.emptyPath():To(e)}(d.parent);const r=d.structuredQuery,o=r.from?r.from.length:0;let p=null;if(o>0){je(1===o);const me=r.from[0];me.allDescendants?p=me.collectionId:e=e.child(me.collectionId)}let y=[];r.where&&(y=function(Ae){const Xe=cr(Ae);return Xe instanceof Hr&&Vi(Xe)?Xe.getFilters():[Xe]}(r.where));let w=[];r.orderBy&&(w=r.orderBy.map(Xe=>{return new ai(Ai((dn=Xe).field),function(bn){switch(bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dn.direction));var dn}));let L=null;r.limit&&(L=function(Ae){let Xe;return Xe="object"==typeof Ae?Ae.value:Ae,Se(Xe)?null:Xe}(r.limit));let $=null;var Ae;r.startAt&&($=new Ii((Ae=r.startAt).values||[],!!Ae.before));let ee=null;return r.endAt&&(ee=function(Ae){return new Ii(Ae.values||[],!Ae.before)}(r.endAt)),function Re(d,e,r,o,p,y,w,L){return new se(d,e,r,o,p,y,w,L)}(e,p,w,y,L,"F",$,ee)}function cr(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ai(r.unaryFilter.field);return En.create(o,"==",{doubleValue:NaN});case"IS_NULL":const p=Ai(r.unaryFilter.field);return En.create(p,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Ai(r.unaryFilter.field);return En.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const w=Ai(r.unaryFilter.field);return En.create(w,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(d):void 0!==d.fieldFilter?En.create(Ai((r=d).fieldFilter.field),function(p){switch(p){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Hr.create(r.compositeFilter.filters.map(o=>cr(o)),function(p){switch(p){case"AND":return"and";case"OR":return"or";default:return tt()}}(r.compositeFilter.op))}(d):tt();var r}function Ns(d){return he[d]}function Oo(d){return Ue[d]}function es(d){return Be[d]}function ro(d){return{fieldPath:d.canonicalString()}}function Ai(d){return Fr.fromServerFormat(d.fieldPath)}function Ka(d){return d instanceof En?function(r){if("=="===r.op){if(Ts(r.value))return{unaryFilter:{field:ro(r.field),op:"IS_NAN"}};if(Vs(r.value))return{unaryFilter:{field:ro(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ts(r.value))return{unaryFilter:{field:ro(r.field),op:"IS_NOT_NAN"}};if(Vs(r.value))return{unaryFilter:{field:ro(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(r.field),op:Oo(r.op),value:r.value}}}(d):d instanceof Hr?function(r){const o=r.getFilters().map(p=>Ka(p));return 1===o.length?o[0]:{compositeFilter:{op:es(r.op),filters:o}}}(d):tt()}function ou(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Zs(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class Xi{constructor(e,r,o,p,y=en.min(),w=en.min(),L=$r.EMPTY_BYTE_STRING,$=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=p,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=L,this.expectedCount=$}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class As{constructor(e){this.ct=e}}function ge(d){const e=yr({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?yn(e,e.limit,"L"):e}class ya{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(ti(e.integerValue));else if("doubleValue"in e){const o=ti(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),Nt(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=rs(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ss(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?_s(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):tt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const p of Object.keys(o))this.Rt(p,r),this.It(o[p],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const p of o)this.It(p,r)}gt(e,r){this.Et(r,37),jt.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}ya.bt=new ya;class Ll{constructor(){this._n=new Ac}addToCollectionParentIndex(e,r){return this._n.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(Pr.min())}updateCollectionGroup(e,r,o){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class Ac{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),p=this.index[r]||new Yr(on.comparator),y=!p.has(o);return this.index[r]=p.add(o),y}has(e){const r=e.lastSegment(),o=e.popLast(),p=this.index[r];return p&&p.has(o)}getEntries(e){return(this.index[e]||new Yr(on.comparator)).toArray()}}new Uint8Array(0);class oa{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class Qa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Qa(0)}static Ln(){return new Qa(-1)}}class bh{constructor(){this.changes=new ni(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?et.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class hu{constructor(e,r,o,p){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=p}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(p=>(o=p,this.remoteDocumentCache.getEntry(e,r))).next(p=>(null!==o&&Ne(o.mutation,p,Ti.empty(),Rn.now()),p))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,qr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=qr()){const p=Ms();return this.populateOverlays(e,p,r).next(()=>this.computeViews(e,r,p,o).next(y=>{let w=Eo();return y.forEach((L,$)=>{w=w.insert(L,$.overlayedDocument)}),w}))}getOverlayedDocuments(e,r){const o=Ms();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,qr()))}populateOverlays(e,r,o){const p=[];return o.forEach(y=>{r.has(y)||p.push(y)}),this.documentOverlayCache.getOverlays(e,p).next(y=>{y.forEach((w,L)=>{r.set(w,L)})})}computeViews(e,r,o,p){let y=us();const w=Bo(),L=Bo();return r.forEach(($,ee)=>{const me=o.get(ee.key);p.has(ee.key)&&(void 0===me||me.mutation instanceof li)?y=y.insert(ee.key,ee):void 0!==me?(w.set(ee.key,me.mutation.getFieldMask()),Ne(me.mutation,ee,me.mutation.getFieldMask(),Rn.now())):w.set(ee.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,y).next($=>($.forEach((ee,me)=>w.set(ee,me)),r.forEach((ee,me)=>{var Ae;return L.set(ee,new Mc(me,null!==(Ae=w.get(ee))&&void 0!==Ae?Ae:null))}),L))}recalculateAndSaveOverlays(e,r){const o=Bo();let p=new Or((w,L)=>w-L),y=qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(w=>{for(const L of w)L.keys().forEach($=>{const ee=r.get($);if(null===ee)return;let me=o.get($)||Ti.empty();me=L.applyToLocalView(ee,me),o.set($,me);const Ae=(p.get(L.batchId)||qr()).add($);p=p.insert(L.batchId,Ae)})}).next(()=>{const w=[],L=p.getReverseIterator();for(;L.hasNext();){const $=L.getNext(),ee=$.key,me=$.value,Ae=Pl();me.forEach(Xe=>{if(!y.has(Xe)){const xt=W(r.get(Xe),o.get(Xe));null!==xt&&Ae.set(Xe,xt),y=y.add(Xe)}}),w.push(this.documentOverlayCache.saveOverlays(e,ee,Ae))}return et.waitFor(w)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,p){return jt.isDocumentKey((w=r).path)&&null===w.collectionGroup&&0===w.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Gt(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,p):this.getDocumentsMatchingCollectionQuery(e,r,o,p);var w}getNextDocuments(e,r,o,p){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,p).next(y=>{const w=p-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,p-y.size):et.resolve(Ms());let L=-1,$=y;return w.next(ee=>et.forEach(ee,(me,Ae)=>(L<Ae.largestBatchId&&(L=Ae.largestBatchId),y.get(me)?et.resolve():this.remoteDocumentCache.getEntry(e,me).next(Xe=>{$=$.insert(me,Xe)}))).next(()=>this.populateOverlays(e,ee,y)).next(()=>this.computeViews(e,$,ee,qr())).next(me=>({batchId:L,changes:Zo(me)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new jt(r)).next(o=>{let p=Eo();return o.isFoundDocument()&&(p=p.insert(o.key,o)),p})}getDocumentsMatchingCollectionGroupQuery(e,r,o,p){const y=r.collectionGroup;let w=Eo();return this.indexManager.getCollectionParents(e,y).next(L=>et.forEach(L,$=>{const ee=(Ae=r,Xe=$.child(y),new se(Xe,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,Xe;return this.getDocumentsMatchingCollectionQuery(e,ee,o,p).next(me=>{me.forEach((Ae,Xe)=>{w=w.insert(Ae,Xe)})})}).next(()=>w))}getDocumentsMatchingCollectionQuery(e,r,o,p){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(w=>(y=w,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,y,p))).next(w=>{y.forEach(($,ee)=>{const me=ee.getKey();null===w.get(me)&&(w=w.insert(me,jr.newInvalidDocument(me)))});let L=Eo();return w.forEach(($,ee)=>{const me=y.get($);void 0!==me&&Ne(me.mutation,ee,Ti.empty(),Rn.now()),Bi(r,ee)&&(L=L.insert($,ee))}),L})}}class Oc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return et.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(p=r).id,version:p.version,createTime:Jn(p.createTime)}),et.resolve();var p}getNamedQuery(e,r){return et.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(p=r).name,query:ge(p.bundledQuery),readTime:Jn(p.readTime)}),et.resolve();var p}}class Th{constructor(){this.overlays=new Or(jt.comparator),this.hr=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ms();return et.forEach(r,p=>this.getOverlay(e,p).next(y=>{null!==y&&o.set(p,y)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((p,y)=>{this.ht(e,r,y)}),et.resolve()}removeOverlaysForBatchId(e,r,o){const p=this.hr.get(o);return void 0!==p&&(p.forEach(y=>this.overlays=this.overlays.remove(y)),this.hr.delete(o)),et.resolve()}getOverlaysForCollection(e,r,o){const p=Ms(),y=r.length+1,w=new jt(r.child("")),L=this.overlays.getIteratorFrom(w);for(;L.hasNext();){const $=L.getNext().value,ee=$.getKey();if(!r.isPrefixOf(ee.path))break;ee.path.length===y&&$.largestBatchId>o&&p.set($.getKey(),$)}return et.resolve(p)}getOverlaysForCollectionGroup(e,r,o,p){let y=new Or((ee,me)=>ee-me);const w=this.overlays.getIterator();for(;w.hasNext();){const ee=w.getNext().value;if(ee.getKey().getCollectionGroup()===r&&ee.largestBatchId>o){let me=y.get(ee.largestBatchId);null===me&&(me=Ms(),y=y.insert(ee.largestBatchId,me)),me.set(ee.getKey(),ee)}}const L=Ms(),$=y.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((ee,me)=>L.set(ee,me)),!(L.size()>=p)););return et.resolve(L)}ht(e,r,o){const p=this.overlays.get(o.key);if(null!==p){const w=this.hr.get(p.largestBatchId).delete(o.key);this.hr.set(p.largestBatchId,w)}this.overlays=this.overlays.insert(o.key,new Mo(r,o));let y=this.hr.get(r);void 0===y&&(y=qr(),this.hr.set(r,y)),this.hr.set(r,y.add(o.key))}}class Fo{constructor(){this.Pr=new Yr(Co.Ir),this.Tr=new Yr(Co.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new Co(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new Co(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new jt(new on([])),o=new Co(r,e),p=new Co(r,e+1),y=[];return this.Tr.forEachInRange([o,p],w=>{this.Ar(w),y.push(w.key)}),y}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new jt(new on([])),o=new Co(r,e),p=new Co(r,e+1);let y=qr();return this.Tr.forEachInRange([o,p],w=>{y=y.add(w.key)}),y}containsKey(e){const r=new Co(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Co{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return jt.comparator(e.key,r.key)||pn(e.pr,r.pr)}static Er(e,r){return pn(e.pr,r.pr)||jt.comparator(e.key,r.key)}}class Ih{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Yr(Co.Ir)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,p){const y=this.yr;this.yr++;const w=new ws(y,r,o,p);this.mutationQueue.push(w);for(const L of p)this.wr=this.wr.add(new Co(L.key,y)),this.indexManager.addToCollectionParentIndex(e,L.key.path.popLast());return et.resolve(w)}lookupMutationBatch(e,r){return et.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const p=this.br(r+1),y=p<0?0:p;return et.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Co(r,0),p=new Co(r,Number.POSITIVE_INFINITY),y=[];return this.wr.forEachInRange([o,p],w=>{const L=this.Sr(w.pr);y.push(L)}),et.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Yr(pn);return r.forEach(p=>{const y=new Co(p,0),w=new Co(p,Number.POSITIVE_INFINITY);this.wr.forEachInRange([y,w],L=>{o=o.add(L.pr)})}),et.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,p=o.length+1;let y=o;jt.isDocumentKey(y)||(y=y.child(""));const w=new Co(new jt(y),0);let L=new Yr(pn);return this.wr.forEachWhile($=>{const ee=$.key.path;return!!o.isPrefixOf(ee)&&(ee.length===p&&(L=L.add($.pr)),!0)},w),et.resolve(this.Dr(L))}Dr(e){const r=[];return e.forEach(o=>{const p=this.Sr(o);null!==p&&r.push(p)}),r}removeMutationBatch(e,r){je(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return et.forEach(r.mutations,p=>{const y=new Co(p.key,r.batchId);return o=o.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,p.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new Co(r,0),p=this.wr.firstAfterOrEqual(o);return et.resolve(r.isEqual(p&&p.key))}performConsistencyCheck(e){return et.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Bl{constructor(e){this.vr=e,this.docs=new Or(jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,p=this.docs.get(o),y=p?p.size:0,w=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:w}),this.size+=w-y,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return et.resolve(o?o.document.mutableCopy():jr.newInvalidDocument(r))}getEntries(e,r){let o=us();return r.forEach(p=>{const y=this.docs.get(p);o=o.insert(p,y?y.document.mutableCopy():jr.newInvalidDocument(p))}),et.resolve(o)}getDocumentsMatchingQuery(e,r,o,p){let y=us();const w=r.path,L=new jt(w.child("")),$=this.docs.getIteratorFrom(L);for(;$.hasNext();){const{key:ee,value:{document:me}}=$.getNext();if(!w.isPrefixOf(ee.path))break;ee.path.length>w.length+1||so(new Pr((d=me).readTime,d.key,-1),o)<=0||(p.has(me.key)||Bi(r,me))&&(y=y.insert(me.key,me.mutableCopy()))}var d;return et.resolve(y)}getAllFromCollectionGroup(e,r,o,p){tt()}Fr(e,r){return et.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Nc(this)}getSize(e){return et.resolve(this.size)}}class Nc extends bh{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,p)=>{p.isValidDocument()?r.push(this.ar.addEntry(e,p)):this.ar.removeEntry(o)}),et.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class wh{constructor(e){this.persistence=e,this.Mr=new ni(r=>is(r),bo),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fo,this.targetCount=0,this.Lr=Qa.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,p)=>r(p)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),et.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Qa(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.qn(r),et.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,o){let p=0;const y=[];return this.Mr.forEach((w,L)=>{L.sequenceNumber<=r&&null===o.get(L.targetId)&&(this.Mr.delete(w),y.push(this.removeMatchingKeysForTargetId(e,L.targetId)),p++)}),et.waitFor(y).next(()=>p)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return et.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),et.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const p=this.persistence.referenceDelegate,y=[];return p&&r.forEach(w=>{y.push(p.markPotentiallyOrphaned(e,w))}),et.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return et.resolve(o)}containsKey(e,r){return et.resolve(this.Nr.containsKey(r))}}class fu{constructor(e,r){this.Br={},this.overlays={},this.kr=new Ee(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new wh(this),this.indexManager=new Ll,this.remoteDocumentCache=new Bl(o=>this.referenceDelegate.Kr(o)),this.serializer=new As(r),this.$r=new Oc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Th,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new Ih(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){Ke("MemoryPersistence","Starting transaction:",e);const p=new kc(this.kr.next());return this.referenceDelegate.Ur(),o(p).next(y=>this.referenceDelegate.Wr(p).next(()=>y)).toPromise().then(y=>(p.raiseOnCommittedEvent(),y))}Gr(e,r){return et.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class kc extends ls{constructor(e){super(),this.currentSequenceNumber=e}}class Ha{constructor(e){this.persistence=e,this.zr=new Fo,this.jr=null}static Hr(e){return new Ha(e)}get Jr(){if(this.jr)return this.jr;throw tt()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),et.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),et.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(p=>this.Jr.add(p.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(p=>{p.forEach(y=>this.Jr.add(y.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Jr,o=>{const p=jt.fromPath(o);return this.Yr(e,p).next(y=>{y||r.removeEntry(p,en.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return et.or([()=>et.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Dh{constructor(e,r,o,p){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=p}static Ki(e,r){let o=qr(),p=qr();for(const y of r.docChanges)switch(y.type){case 0:o=o.add(y.doc.key);break;case 1:p=p.add(y.doc.key)}return new Dh(e,r.fromCache,o,p)}}class gp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Af{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,A.G6)()?8:function Zr(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,A.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,p){const y={result:null};return this.ji(e,r).next(w=>{y.result=w}).next(()=>{if(!y.result)return this.Hi(e,r,p,o).next(w=>{y.result=w})}).next(()=>{if(y.result)return;const w=new gp;return this.Ji(e,r,w).next(L=>{if(y.result=L,this.Ui)return this.Yi(e,r,w,L.size)})}).next(()=>y.result)}Yi(e,r,o,p){return o.documentReadCount<this.Wi?(Yt()<=O.in.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",bi(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),et.resolve()):(Yt()<=O.in.DEBUG&&Ke("QueryEngine","Query:",bi(r),"scans",o.documentReadCount,"local documents and returns",p,"documents as results."),o.documentReadCount>this.Gi*p?(Yt()<=O.in.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",bi(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Y(r))):et.resolve())}ji(e,r){if(ct(r))return et.resolve(null);let o=Y(r);return this.indexManager.getIndexType(e,o).next(p=>0===p?null:(null!==r.limit&&1===p&&(r=yn(r,null,"F"),o=Y(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(y=>{const w=qr(...y);return this.zi.getDocuments(e,w).next(L=>this.indexManager.getMinOffset(e,o).next($=>{const ee=this.Zi(r,L);return this.Xi(r,ee,w,$.readTime)?this.ji(e,yn(r,null,"F")):this.es(e,ee,r,$)}))})))}Hi(e,r,o,p){return ct(r)||p.isEqual(en.min())?et.resolve(null):this.zi.getDocuments(e,o).next(y=>{const w=this.Zi(r,y);return this.Xi(r,w,o,p)?et.resolve(null):(Yt()<=O.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),bi(r)),this.es(e,w,r,function Oi(d,e){const r=d.toTimestamp().seconds,o=d.toTimestamp().nanoseconds+1,p=en.fromTimestamp(1e9===o?new Rn(r+1,0):new Rn(r,o));return new Pr(p,jt.empty(),e)}(p,-1)).next(L=>L))})}Zi(e,r){let o=new Yr(Rs(e));return r.forEach((p,y)=>{Bi(e,y)&&(o=o.add(y))}),o}Xi(e,r,o,p){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(p)>0)}Ji(e,r,o){return Yt()<=O.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",bi(r)),this.zi.getDocumentsMatchingQuery(e,r,Pr.min(),o)}es(e,r,o,p){return this.zi.getDocumentsMatchingQuery(e,o,p).next(y=>(r.forEach(w=>{y=y.insert(w.key,w)}),y))}}class Dd{constructor(e,r,o,p){this.persistence=e,this.ts=r,this.serializer=p,this.ns=new Or(pn),this.rs=new ni(y=>is(y),bo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hu(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function $u(d,e){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,b.Z)(function*(d,e){const r=rt(d);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let p;return r.mutationQueue.getAllMutationBatches(o).next(y=>(p=y,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(y=>{const w=[],L=[];let $=qr();for(const ee of p){w.push(ee.batchId);for(const me of ee.mutations)$=$.add(me.key)}for(const ee of y){L.push(ee.batchId);for(const me of ee.mutations)$=$.add(me.key)}return r.localDocuments.getDocuments(o,$).next(ee=>({us:ee,removedBatchIds:w,addedBatchIds:L}))})})})).apply(this,arguments)}function Sh(d){const e=rt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function la(d,e){const r=rt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function cc(d,e,r){return zl.apply(this,arguments)}function zl(){return(zl=(0,b.Z)(function*(d,e,r){const o=rt(d),p=o.ns.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",y,w=>o.persistence.referenceDelegate.removeTarget(w,p)))}catch(w){if(!Br(w))throw w;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}o.ns=o.ns.remove(e),o.rs.delete(p.target)})).apply(this,arguments)}function $l(d,e,r){const o=rt(d);let p=en.min(),y=qr();return o.persistence.runTransaction("Execute query","readwrite",w=>function($,ee,me){const Ae=rt($),Xe=Ae.rs.get(me);return void 0!==Xe?et.resolve(Ae.ns.get(Xe)):Ae.Qr.getTargetData(ee,me)}(o,w,Y(e)).next(L=>{if(L)return p=L.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(w,L.targetId).next($=>{y=$})}).next(()=>o.ts.getDocumentsMatchingQuery(w,e,r?p:en.min(),r?y:qr())).next(L=>(function mu(d,e,r){let o=d.ss.get(e)||en.min();r.forEach((p,y)=>{y.readTime.compareTo(o)>0&&(o=y.readTime)}),d.ss.set(e,o)}(o,function ji(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}(e),L),{documents:L,hs:y})))}class yu{constructor(){this.activeTargetIds=function wi(){return La}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vu{constructor(){this.no=new yu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new yu,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sf{io(e){}shutdown(){}}class bu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vc=null;function Uc(){return null===Vc?Vc=268435456+Math.round(2147483648*Math.random()):Vc++,"0x"+Vc.toString(16)}const Zu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Ao="WebChannelConnection";class Eu extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",p=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${p}/databases/${y}`,this.bo="(default)"===this.databaseId.database?`project_id=${p}`:`project_id=${p}&database_id=${y}`}get Do(){return!1}Co(r,o,p,y,w){const L=Uc(),$=this.vo(r,o.toUriEncodedString());Ke("RestConnection",`Sending RPC '${r}' ${L}:`,$,p);const ee={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(ee,y,w),this.Mo(r,$,ee,p).then(me=>(Ke("RestConnection",`Received RPC '${r}' ${L}: `,me),me),me=>{throw Qn("RestConnection",`RPC '${r}' ${L} failed with error: `,me,"url: ",$,"request:",p),me})}xo(r,o,p,y,w,L){return this.Co(r,o,p,y,w)}Fo(r,o,p){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ct,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((y,w)=>r[w]=y),p&&p.headers.forEach((y,w)=>r[w]=y)}vo(r,o){return`${this.wo}/v1/${o}:${Zu[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,p){const y=Uc();return new Promise((w,L)=>{const $=new _t;$.setWithCredentials(!0),$.listenOnce(Vt.COMPLETE,()=>{try{switch($.getLastErrorCode()){case Ut.NO_ERROR:const me=$.getResponseJson();Ke(Ao,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(me)),w(me);break;case Ut.TIMEOUT:Ke(Ao,`RPC '${e}' ${y} timed out`),L(new De(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ut.HTTP_ERROR:const Ae=$.getStatus();if(Ke(Ao,`RPC '${e}' ${y} failed with status:`,Ae,"response text:",$.getResponseText()),Ae>0){let Xe=$.getResponseJson();Array.isArray(Xe)&&(Xe=Xe[0]);const xt=Xe?.error;if(xt&&xt.status&&xt.message){const dn=function(bn){const Tr=bn.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(Tr)>=0?Tr:Ye.UNKNOWN}(xt.status);L(new De(dn,xt.message))}else L(new De(Ye.UNKNOWN,"Server responded with status "+$.getStatus()))}else L(new De(Ye.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ke(Ao,`RPC '${e}' ${y} completed.`)}});const ee=JSON.stringify(p);Ke(Ao,`RPC '${e}' ${y} sending request:`,p),$.send(r,"POST",ee,o,15)})}Oo(e,r,o){const p=Uc(),y=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],w=nn(),L=er(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ee=this.longPollingOptions.timeoutSeconds;void 0!==ee&&($.longPollingTimeout=Math.round(1e3*ee)),this.useFetchStreams&&($.xmlHttpFactory=new Qt({})),this.Fo($.initMessageHeaders,r,o),$.encodeInitMessageHeaders=!0;const me=y.join("");Ke(Ao,`Creating RPC '${e}' stream ${p}: ${me}`,$);const Ae=w.createWebChannel(me,$);let Xe=!1,xt=!1;const dn=new Rd({lo:bn=>{xt?Ke(Ao,`Not sending because RPC '${e}' stream ${p} is closed:`,bn):(Xe||(Ke(Ao,`Opening RPC '${e}' stream ${p} transport.`),Ae.open(),Xe=!0),Ke(Ao,`RPC '${e}' stream ${p} sending:`,bn),Ae.send(bn))},ho:()=>Ae.close()}),Kt=(bn,Tr,Rr)=>{bn.listen(Tr,Sr=>{try{Rr(Sr)}catch(pi){setTimeout(()=>{throw pi},0)}})};return Kt(Ae,At.EventType.OPEN,()=>{xt||(Ke(Ao,`RPC '${e}' stream ${p} transport opened.`),dn.mo())}),Kt(Ae,At.EventType.CLOSE,()=>{xt||(xt=!0,Ke(Ao,`RPC '${e}' stream ${p} transport closed`),dn.po())}),Kt(Ae,At.EventType.ERROR,bn=>{xt||(xt=!0,Qn(Ao,`RPC '${e}' stream ${p} transport errored:`,bn),dn.po(new De(Ye.UNAVAILABLE,"The operation could not be completed")))}),Kt(Ae,At.EventType.MESSAGE,bn=>{var Tr;if(!xt){const Rr=bn.data[0];je(!!Rr);const pi=Rr.error||(null===(Tr=Rr[0])||void 0===Tr?void 0:Tr.error);if(pi){Ke(Ao,`RPC '${e}' stream ${p} received error:`,pi);const os=pi.status;let gi=function(st){const yt=Yi[st];if(void 0!==yt)return gl(yt)}(os),mt=pi.message;void 0===gi&&(gi=Ye.INTERNAL,mt="Unknown error status: "+os+" with message "+pi.message),xt=!0,dn.po(new De(gi,mt)),Ae.close()}else Ke(Ao,`RPC '${e}' stream ${p} received:`,Rr),dn.yo(Rr)}}),Kt(L,wn.STAT_EVENT,bn=>{bn.stat===Tn.PROXY?Ke(Ao,`RPC '${e}' stream ${p} detected buffering proxy`):bn.stat===Tn.NOPROXY&&Ke(Ao,`RPC '${e}' stream ${p} detected no buffering proxy`)}),setTimeout(()=>{dn.fo()},0),dn}}function Ku(){return typeof document<"u"?document:null}function Tu(d){return new Tt(d,!0)}class hc{constructor(e,r,o=1e3,p=1.5,y=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=p,this.Bo=y,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),p=Math.max(0,r-o);p>0&&Ke("ExponentialBackoff",`Backing off for ${p} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,p,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class fc{constructor(e,r,o,p,y,w,L,$){this.oi=e,this.Go=o,this.zo=p,this.connection=y,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=L,this.listener=$,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new hc(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,b.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,b.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,b.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===Ye.RESOURCE_EXHAUSTED?(ln(r.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===Ye.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,p])=>{this.jo===r&&this.u_(o,p)},o=>{e(()=>{const p=new De(Ye.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(p)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(p=>{o(()=>this.c_(p))}),this.stream.onMessage(p=>{o(()=>this.onMessage(p))})}e_(){var e=this;this.state=5,this.Yo.$o((0,b.Z)(function*(){e.state=0,e.start()}))}c_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yu extends fc{constructor(e,r,o,p,y,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,p,w),this.serializer=y}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Da(d,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(ee=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:tt(),p=e.targetChange.targetIds||[],y=function(ee,me){return ee.useProto3Json?(je(void 0===me||"string"==typeof me),$r.fromBase64String(me||"")):(je(void 0===me||me instanceof Buffer||me instanceof Uint8Array),$r.fromUint8Array(me||new Uint8Array))}(d,e.targetChange.resumeToken),w=e.targetChange.cause,L=w&&function(ee){const me=void 0===ee.code?Ye.UNKNOWN:gl(ee.code);return new De(me,ee.message||"")}(w);r=new K(o,p,y,L||null)}else if("documentChange"in e){const o=e.documentChange,p=Yn(d,o.document.name),y=Jn(o.document.updateTime),w=o.document.createTime?Jn(o.document.createTime):en.min(),L=new nr({mapValue:{fields:o.document.fields}}),$=jr.newFoundDocument(p,y,w,L);r=new ml(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,p=Yn(d,o.document),y=o.readTime?Jn(o.readTime):en.min(),w=jr.newNoDocument(p,y);r=new ml([],o.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const o=e.documentRemove,p=Yn(d,o.document);r=new ml([],o.removedTargetIds||[],p,null)}else{if(!("filter"in e))return tt();{const o=e.filter,{count:p=0,unchangedNames:y}=o,w=new lo(p,y);r=new Cc(o.targetId,w)}}var ee;return r}(this.serializer,e),o=function(y){if(!("targetChange"in y))return en.min();const w=y.targetChange;return w.targetIds&&w.targetIds.length?en.min():w.readTime?Jn(w.readTime):en.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=ga(this.serializer),r.addTarget=function(y,w){let L;const $=w.target;if(L=Zi($)?{documents:ic(y,$)}:{query:sn(y,$)._t},L.targetId=w.targetId,w.resumeToken.approximateByteSize()>0){L.resumeToken=Fn(y,w.resumeToken);const ee=$t(y,w.expectedCount);null!==ee&&(L.expectedCount=ee)}else if(w.snapshotVersion.compareTo(en.min())>0){L.readTime=Nn(y,w.snapshotVersion.toTimestamp());const ee=$t(y,w.expectedCount);null!==ee&&(L.expectedCount=ee)}return L}(this.serializer,e);const o=function Lr(d,e){const r=function(p){switch(p){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=ga(this.serializer),r.removeTarget=e,this.i_(r)}}class xf extends fc{constructor(e,r,o,p,y,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,p,w),this.serializer=y,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function hs(d,e){return d&&d.length>0?(je(void 0!==e),d.map(r=>function(p,y){let w=Jn(p.updateTime?p.updateTime:y);return w.isEqual(en.min())&&(w=Jn(y)),new fa(w,p.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Jn(e.commitTime);return this.listener.A_(o,r)}return je(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ga(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>function Ba(d,e){let r;if(e instanceof Kn)r={update:Io(d,e.key,e.value)};else if(e instanceof zi)r={delete:fs(d,e.key)};else if(e instanceof li)r={update:Io(d,e.key,e.data),updateMask:ou(e.fieldMask)};else{if(!(e instanceof hi))return tt();r={verify:fs(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(y,w){const L=w.transform;if(L instanceof wa)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(L instanceof Os)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:L.elements}};if(L instanceof na)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:L.elements}};if(L instanceof ra)return{fieldPath:w.field.canonicalString(),increment:L.Pe};throw tt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:ii(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:tt()),r;var y}(this.serializer,o))};this.i_(r)}}class Pf extends class{}{constructor(e,r,o,p){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=p,this.m_=!1}f_(){if(this.m_)throw new De(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,w])=>this.connection.Co(e,kr(r,o),p,y,w)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new De(Ye.UNKNOWN,y.toString())})}xo(e,r,o,p,y){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([w,L])=>this.connection.xo(e,kr(r,o),p,w,L,y)).catch(w=>{throw"FirebaseError"===w.name?(w.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),w):new De(Ye.UNKNOWN,w.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Od{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ln(r),this.y_=!1):Ke("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class _p{constructor(e,r,o,p,y){var w=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=y,this.O_.io(L=>{o.enqueueAndForget((0,b.Z)(function*(){var $;pc(w)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield($=(0,b.Z)(function*(me){const Ae=rt(me);Ae.M_.add(4),yield jc(Ae),Ae.N_.set("Unknown"),Ae.M_.delete(4),yield Bc(Ae)}),function ee(me){return $.apply(this,arguments)})(w))}))}),this.N_=new Od(o,p)}}function Bc(d){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,b.Z)(function*(d){if(pc(d))for(const e of d.x_)yield e(!0)})).apply(this,arguments)}function jc(d){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,b.Z)(function*(d){for(const e of d.x_)yield e(!1)})).apply(this,arguments)}function Iu(d,e){const r=rt(d);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Rh(r)?Qu(r):Gc(r).Xo()&&wu(r,e))}function zc(d,e){const r=rt(d),o=Gc(r);r.F_.delete(e),o.Xo()&&yp(r,e),0===r.F_.size&&(o.Xo()?o.n_():pc(r)&&r.N_.set("Unknown"))}function wu(d,e){if(d.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(en.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Gc(d).P_(e)}function yp(d,e){d.L_.xe(e),Gc(d).I_(e)}function Qu(d){d.L_=new D({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.F_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Gc(d).start(),d.N_.w_()}function Rh(d){return pc(d)&&!Gc(d).Zo()&&d.F_.size>0}function pc(d){return 0===rt(d).M_.size}function Mh(d){d.L_=void 0}function Oh(d){return kd.apply(this,arguments)}function kd(){return(kd=(0,b.Z)(function*(d){d.N_.set("Online")})).apply(this,arguments)}function dg(d){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,b.Z)(function*(d){d.F_.forEach((e,r)=>{wu(d,e)})})).apply(this,arguments)}function hg(d,e){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,b.Z)(function*(d,e){Mh(d),Rh(d)?(d.N_.D_(e),Qu(d)):d.N_.set("Unknown")})).apply(this,arguments)}function fg(d,e,r){return kh.apply(this,arguments)}function kh(){return kh=(0,b.Z)(function*(d,e,r){if(d.N_.set("Online"),e instanceof K&&2===e.state&&e.cause)try{yield(o=(0,b.Z)(function*(y,w){const L=w.cause;for(const $ of w.targetIds)y.F_.has($)&&(yield y.remoteSyncer.rejectListen($,L),y.F_.delete($),y.L_.removeTarget($))}),function p(y,w){return o.apply(this,arguments)})(d,e)}catch(o){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Fh(d,o)}else if(e instanceof ml?d.L_.Ke(e):e instanceof Cc?d.L_.He(e):d.L_.We(e),!r.isEqual(en.min()))try{const o=yield Sh(d.localStore);r.compareTo(o)>=0&&(yield function(y,w){const L=y.L_.rt(w);return L.targetChanges.forEach(($,ee)=>{if($.resumeToken.approximateByteSize()>0){const me=y.F_.get(ee);me&&y.F_.set(ee,me.withResumeToken($.resumeToken,w))}}),L.targetMismatches.forEach(($,ee)=>{const me=y.F_.get($);if(!me)return;y.F_.set($,me.withResumeToken($r.EMPTY_BYTE_STRING,me.snapshotVersion)),yp(y,$);const Ae=new Xi(me.target,$,ee,me.sequenceNumber);wu(y,Ae)}),y.remoteSyncer.applyRemoteEvent(L)}(d,r))}catch(o){Ke("RemoteStore","Failed to raise snapshot:",o),yield Fh(d,o)}var o}),kh.apply(this,arguments)}function Fh(d,e,r){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,b.Z)(function*(d,e,r){if(!Br(e))throw e;d.M_.add(1),yield jc(d),d.N_.set("Offline"),r||(r=()=>Sh(d.localStore)),d.asyncQueue.enqueueRetryable((0,b.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield r(),d.M_.delete(1),yield Bc(d)}))})).apply(this,arguments)}function $c(d,e){return e().catch(r=>Fh(d,r,e))}function ql(d){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,b.Z)(function*(d){const e=rt(d),r=Wl(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Ju(e);)try{const p=yield la(e.localStore,o);if(null===p){0===e.v_.length&&r.n_();break}o=p.batchId,Rf(e,p)}catch(p){yield Fh(e,p)}cl(e)&&el(e)})).apply(this,arguments)}function Ju(d){return pc(d)&&d.v_.length<10}function Rf(d,e){d.v_.push(e);const r=Wl(d);r.Xo()&&r.E_&&r.d_(e.mutations)}function cl(d){return pc(d)&&!Wl(d).Zo()&&d.v_.length>0}function el(d){Wl(d).start()}function wl(d){return Au.apply(this,arguments)}function Au(){return(Au=(0,b.Z)(function*(d){Wl(d).V_()})).apply(this,arguments)}function Xu(d){return Du.apply(this,arguments)}function Du(){return(Du=(0,b.Z)(function*(d){const e=Wl(d);for(const r of d.v_)e.d_(r.mutations)})).apply(this,arguments)}function vp(d,e,r){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,b.Z)(function*(d,e,r){const o=d.v_.shift(),p=Bs.from(o,e,r);yield $c(d,()=>d.remoteSyncer.applySuccessfulWrite(p)),yield ql(d)})).apply(this,arguments)}function Mf(d,e){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,b.Z)(function*(d,e){var r;e&&Wl(d).E_&&(yield(r=(0,b.Z)(function*(p,y){if(function pa(d){switch(d){default:return tt();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}(L=y.code)&&L!==Ye.ABORTED){const w=p.v_.shift();Wl(p).t_(),yield $c(p,()=>p.remoteSyncer.rejectFailedWrite(w.batchId,y)),yield ql(p)}var L}),function o(p,y){return r.apply(this,arguments)})(d,e)),cl(d)&&el(d)}),Ld.apply(this,arguments)}function Vd(d,e){return ed.apply(this,arguments)}function ed(){return(ed=(0,b.Z)(function*(d,e){const r=rt(d);r.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const o=pc(r);r.M_.add(3),yield jc(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Bc(r)})).apply(this,arguments)}function Su(d,e){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,b.Z)(function*(d,e){const r=rt(d);e?(r.M_.delete(2),yield Bc(r)):e||(r.M_.add(2),yield jc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Gc(d){return d.B_||(d.B_=function(r,o,p){const y=rt(r);return y.f_(),new Yu(o,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,p)}(d.datastore,d.asyncQueue,{Po:Oh.bind(null,d),To:dg.bind(null,d),Ao:hg.bind(null,d),h_:fg.bind(null,d)}),d.x_.push(function(){var e=(0,b.Z)(function*(r){r?(d.B_.t_(),Rh(d)?Qu(d):d.N_.set("Unknown")):(yield d.B_.stop(),Mh(d))});return function(r){return e.apply(this,arguments)}}())),d.B_}function Wl(d){return d.k_||(d.k_=function(r,o,p){const y=rt(r);return y.f_(),new xf(o,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,p)}(d.datastore,d.asyncQueue,{Po:()=>Promise.resolve(),To:wl.bind(null,d),Ao:Mf.bind(null,d),R_:Xu.bind(null,d),A_:vp.bind(null,d)}),d.x_.push(function(){var e=(0,b.Z)(function*(r){r?(d.k_.t_(),yield ql(d)):(yield d.k_.stop(),d.v_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${d.v_.length} pending writes`),d.v_=[]))});return function(r){return e.apply(this,arguments)}}())),d.k_}class Bd{constructor(e,r,o,p,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=p,this.removalCallback=y,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,p,y){const w=Date.now()+o,L=new Bd(e,r,w,p,y);return L.start(o),L}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ss(d,e){if(ln("AsyncQueue",`${e}: ${d}`),Br(d))return new De(Ye.UNAVAILABLE,`${e}: ${d}`);throw d}class Cl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||jt.comparator(r.key,o.key):(r,o)=>jt.comparator(r.key,o.key),this.keyedMap=Eo(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new Cl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const p=r.getNext().key,y=o.getNext().key;if(!p.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Cl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Uh{constructor(){this.q_=new Or(jt.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):tt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class gc{constructor(e,r,o,p,y,w,L,$,ee){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=p,this.mutatedKeys=y,this.fromCache=w,this.syncStateChanged=L,this.excludesMetadataChanges=$,this.hasCachedResults=ee}static fromInitialDocuments(e,r,o,p,y){const w=[];return r.forEach(L=>{w.push({type:0,doc:L})}),new gc(e,r,Cl.emptySet(r),w,o,p,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let p=0;p<r.length;p++)if(r[p].type!==o[p].type||!r[p].doc.isEqual(o[p].doc))return!1;return!0}}class ca{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class td{constructor(){this.queries=new ni(e=>Qr(e),Zn),this.onlineState="Unknown",this.z_=new Set}}function jd(d,e){return nd.apply(this,arguments)}function nd(){return(nd=(0,b.Z)(function*(d,e){const r=rt(d);let o=3;const p=e.query;let y=r.queries.get(p);y?!y.W_()&&e.G_()&&(o=2):(y=new ca,o=e.G_()?0:1);try{switch(o){case 0:y.K_=yield r.onListen(p,!0);break;case 1:y.K_=yield r.onListen(p,!1);break;case 2:yield r.onFirstRemoteStoreListen(p)}}catch(w){const L=ss(w,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(L)}r.queries.set(p,y),y.U_.push(e),e.j_(r.onlineState),y.K_&&e.H_(y.K_)&&jh(r)})).apply(this,arguments)}function Bh(d,e){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,b.Z)(function*(d,e){const r=rt(d),o=e.query;let p=3;const y=r.queries.get(o);if(y){const w=y.U_.indexOf(e);w>=0&&(y.U_.splice(w,1),0===y.U_.length?p=e.G_()?0:1:!y.W_()&&e.G_()&&(p=2))}switch(p){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Of(d,e){const r=rt(d);let o=!1;for(const p of e){const w=r.queries.get(p.query);if(w){for(const L of w.U_)L.H_(p)&&(o=!0);w.K_=p}}o&&jh(r)}function rd(d,e,r){const o=rt(d),p=o.queries.get(e);if(p)for(const y of p.U_)y.onError(r);o.queries.delete(e)}function jh(d){d.z_.forEach(e=>{e.next()})}var mc,_c;(_c=mc||(mc={})).J_="default",_c.Cache="cache";class zd{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const p of e.docChanges)3!==p.type&&o.push(p);e=new gc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mc.Cache}}class k{constructor(e){this.key=e}}class re{constructor(e){this.key=e}}class be{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=qr(),this.mutatedKeys=qr(),this.Ia=Rs(e),this.Ta=new Cl(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new Uh,p=r?r.Ta:this.Ta;let y=r?r.mutatedKeys:this.mutatedKeys,w=p,L=!1;const $="F"===this.query.limitType&&p.size===this.query.limit?p.last():null,ee="L"===this.query.limitType&&p.size===this.query.limit?p.first():null;if(e.inorderTraversal((me,Ae)=>{const Xe=p.get(me),xt=Bi(this.query,Ae)?Ae:null,dn=!!Xe&&this.mutatedKeys.has(Xe.key),Kt=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let bn=!1;Xe&&xt?Xe.data.isEqual(xt.data)?dn!==Kt&&(o.track({type:3,doc:xt}),bn=!0):this.Ra(Xe,xt)||(o.track({type:2,doc:xt}),bn=!0,($&&this.Ia(xt,$)>0||ee&&this.Ia(xt,ee)<0)&&(L=!0)):!Xe&&xt?(o.track({type:0,doc:xt}),bn=!0):Xe&&!xt&&(o.track({type:1,doc:Xe}),bn=!0,($||ee)&&(L=!0)),bn&&(xt?(w=w.add(xt),y=Kt?y.add(me):y.delete(me)):(w=w.delete(me),y=y.delete(me)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const me="F"===this.query.limitType?w.last():w.first();w=w.delete(me.key),y=y.delete(me.key),o.track({type:1,doc:me})}return{Ta:w,Aa:o,Xi:L,mutatedKeys:y}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,p){const y=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const w=e.Aa.Q_();w.sort((me,Ae)=>function(xt,dn){const Kt=bn=>{switch(bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return Kt(xt)-Kt(dn)}(me.type,Ae.type)||this.Ia(me.doc,Ae.doc)),this.Va(o),p=null!=p&&p;const L=r&&!p?this.ma():[],$=0===this.Pa.size&&this.current&&!p?1:0,ee=$!==this.ha;return this.ha=$,0!==w.length||ee?{snapshot:new gc(this.query,e.Ta,y,w,e.mutatedKeys,0===$,ee,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:L}:{fa:L}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Uh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=qr(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new re(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new k(o))}),r}pa(e){this.la=e.hs,this.Pa=qr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return gc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class ot{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class kt{constructor(e){this.key=e,this.wa=!1}}class un{constructor(e,r,o,p,y,w){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=p,this.currentUser=y,this.maxConcurrentLimboResolutions=w,this.Sa={},this.ba=new ni(L=>Qr(L),Zn),this.Da=new Map,this.Ca=new Set,this.va=new Or(jt.comparator),this.Fa=new Map,this.Ma=new Fo,this.xa={},this.Oa=new Map,this.Na=Qa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function or(d,e){return wr.apply(this,arguments)}function wr(){return(wr=(0,b.Z)(function*(d,e,r=!0){const o=ui(d);let p;const y=o.ba.get(e);return y?(o.sharedClientState.addLocalQueryTarget(y.targetId),p=y.view.ya()):p=yield Al(o,e,r,!0),p})).apply(this,arguments)}function Si(d,e){return Do.apply(this,arguments)}function Do(){return(Do=(0,b.Z)(function*(d,e){const r=ui(d);yield Al(r,e,!0,!1)})).apply(this,arguments)}function Al(d,e,r,o){return qc.apply(this,arguments)}function qc(){return(qc=(0,b.Z)(function*(d,e,r,o){const p=yield function Xa(d,e){const r=rt(d);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let p;return r.Qr.getTargetData(o,e).next(y=>y?(p=y,et.resolve(p)):r.Qr.allocateTargetId(o).next(w=>(p=new Xi(e,w,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,p).next(()=>p))))}).then(o=>{const p=r.ns.get(o.targetId);return(null===p||o.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}(d.localStore,Y(e)),y=p.targetId,w=r?d.sharedClientState.addLocalQueryTarget(y):"not-current";let L;return o&&(L=yield function id(d,e,r,o,p){return Wc.apply(this,arguments)}(d,e,y,"current"===w,p.resumeToken)),d.isPrimaryClient&&r&&Iu(d.remoteStore,p),L})).apply(this,arguments)}function Wc(){return Wc=(0,b.Z)(function*(d,e,r,o,p){d.Ba=(Ae,Xe,xt)=>{return(dn=(0,b.Z)(function*(bn,Tr,Rr,Sr){let pi=Tr.view.da(Rr);pi.Xi&&(pi=yield $l(bn.localStore,Tr.query,!1).then(({documents:qe})=>Tr.view.da(qe,pi)));const os=Sr&&Sr.targetChanges.get(Tr.targetId),gi=Sr&&null!=Sr.targetMismatches.get(Tr.targetId),mt=Tr.view.applyChanges(pi,bn.isPrimaryClient,os,gi);return u(bn,Tr.targetId,mt.fa),mt.snapshot}),function Kt(bn,Tr,Rr,Sr){return dn.apply(this,arguments)})(d,Ae,Xe,xt);var dn};const y=yield $l(d.localStore,e,!0),w=new be(e,y.hs),L=w.da(y.documents),$=jo.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==d.onlineState,p),ee=w.applyChanges(L,d.isPrimaryClient,$);u(d,r,ee.fa);const me=new ot(e,r,w);return d.ba.set(e,me),d.Da.has(r)?d.Da.get(r).push(e):d.Da.set(r,[e]),ee.snapshot}),Wc.apply(this,arguments)}function Hh(d,e,r){return sd.apply(this,arguments)}function sd(){return(sd=(0,b.Z)(function*(d,e,r){const o=rt(d),p=o.ba.get(e),y=o.Da.get(p.targetId);if(y.length>1)return o.Da.set(p.targetId,y.filter(w=>!Zn(w,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(p.targetId),o.sharedClientState.isActiveQueryTarget(p.targetId)||(yield cc(o.localStore,p.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(p.targetId),r&&zc(o.remoteStore,p.targetId),a(o,p.targetId)}).catch(ns))):(a(o,p.targetId),yield cc(o.localStore,p.targetId,!0))})).apply(this,arguments)}function od(d,e){return ul.apply(this,arguments)}function ul(){return(ul=(0,b.Z)(function*(d,e){const r=rt(d),o=r.ba.get(e),p=r.Da.get(o.targetId);r.isPrimaryClient&&1===p.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),zc(r.remoteStore,o.targetId))})).apply(this,arguments)}function Zl(){return(Zl=(0,b.Z)(function*(d,e,r){const o=function fi(d){const e=rt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nf.bind(null,e),e}(d);try{const p=yield function(w,L){const $=rt(w),ee=Rn.now(),me=L.reduce((xt,dn)=>xt.add(dn.key),qr());let Ae,Xe;return $.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let dn=us(),Kt=qr();return $.os.getEntries(xt,me).next(bn=>{dn=bn,dn.forEach((Tr,Rr)=>{Rr.isValidDocument()||(Kt=Kt.add(Tr))})}).next(()=>$.localDocuments.getOverlayedDocuments(xt,dn)).next(bn=>{Ae=bn;const Tr=[];for(const Rr of L){const Sr=Mt(Rr,Ae.get(Rr.key).overlayedDocument);null!=Sr&&Tr.push(new li(Rr.key,Sr,vi(Sr.value.mapValue),ds.exists(!0)))}return $.mutationQueue.addMutationBatch(xt,ee,Tr,L)}).next(bn=>{Xe=bn;const Tr=bn.applyToLocalDocumentSet(Ae,Kt);return $.documentOverlayCache.saveOverlays(xt,bn.batchId,Tr)})}).then(()=>({batchId:Xe.batchId,changes:Zo(Ae)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(p.batchId),function(w,L,$){let ee=w.xa[w.currentUser.toKey()];ee||(ee=new Or(pn)),ee=ee.insert(L,$),w.xa[w.currentUser.toKey()]=ee}(o,p.batchId,r),yield v(o,p.changes),yield ql(o.remoteStore)}catch(p){const y=ss(p,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function ad(d,e){return ld.apply(this,arguments)}function ld(){return(ld=(0,b.Z)(function*(d,e){const r=rt(d);try{const o=yield function gu(d,e){const r=rt(d),o=e.snapshotVersion;let p=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const w=r.os.newChangeBuffer({trackRemovals:!0});p=r.ns;const L=[];e.targetChanges.forEach((me,Ae)=>{const Xe=p.get(Ae);if(!Xe)return;L.push(r.Qr.removeMatchingKeys(y,me.removedDocuments,Ae).next(()=>r.Qr.addMatchingKeys(y,me.addedDocuments,Ae)));let xt=Xe.withSequenceNumber(y.currentSequenceNumber);var Kt,bn,Tr;null!==e.targetMismatches.get(Ae)?xt=xt.withResumeToken($r.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):me.resumeToken.approximateByteSize()>0&&(xt=xt.withResumeToken(me.resumeToken,o)),p=p.insert(Ae,xt),bn=xt,Tr=me,(0===(Kt=Xe).resumeToken.approximateByteSize()||bn.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Tr.addedDocuments.size+Tr.modifiedDocuments.size+Tr.removedDocuments.size>0)&&L.push(r.Qr.updateTargetData(y,xt))});let $=us(),ee=qr();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&L.push(r.persistence.referenceDelegate.updateLimboDocument(y,me))}),L.push(function xh(d,e,r){let o=qr(),p=qr();return r.forEach(y=>o=o.add(y)),e.getEntries(d,o).next(y=>{let w=us();return r.forEach((L,$)=>{const ee=y.get(L);$.isFoundDocument()!==ee.isFoundDocument()&&(p=p.add(L)),$.isNoDocument()&&$.version.isEqual(en.min())?(e.removeEntry(L,$.readTime),w=w.insert(L,$)):!ee.isValidDocument()||$.version.compareTo(ee.version)>0||0===$.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry($),w=w.insert(L,$)):Ke("LocalStore","Ignoring outdated watch update for ",L,". Current version:",ee.version," Watch version:",$.version)}),{cs:w,ls:p}})}(y,w,e.documentUpdates).next(me=>{$=me.cs,ee=me.ls})),!o.isEqual(en.min())){const me=r.Qr.getLastRemoteSnapshotVersion(y).next(Ae=>r.Qr.setTargetsMetadata(y,y.currentSequenceNumber,o));L.push(me)}return et.waitFor(L).next(()=>w.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,$,ee)).next(()=>$)}).then(y=>(r.ns=p,y))}(r.localStore,e);e.targetChanges.forEach((p,y)=>{const w=r.Fa.get(y);w&&(je(p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size<=1),p.addedDocuments.size>0?w.wa=!0:p.modifiedDocuments.size>0?je(w.wa):p.removedDocuments.size>0&&(je(w.wa),w.wa=!1))}),yield v(r,o,e)}catch(o){yield ns(o)}})).apply(this,arguments)}function Zc(d,e,r){const o=rt(d);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const p=[];o.ba.forEach((y,w)=>{const L=w.view.j_(e);L.snapshot&&p.push(L.snapshot)}),function(w,L){const $=rt(w);$.onlineState=L;let ee=!1;$.queries.forEach((me,Ae)=>{for(const Xe of Ae.U_)Xe.j_(L)&&(ee=!0)}),ee&&jh($)}(o.eventManager,e),p.length&&o.Sa.h_(p),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function zh(d,e,r){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,b.Z)(function*(d,e,r){const o=rt(d);o.sharedClientState.updateQueryState(e,"rejected",r);const p=o.Fa.get(e),y=p&&p.key;if(y){let w=new Or(jt.comparator);w=w.insert(y,jr.newNoDocument(y,en.min()));const L=qr().add(y),$=new Ml(en.min(),new Map,new Or(pn),w,L);yield ad(o,$),o.va=o.va.remove(y),o.Fa.delete(e),g(o)}else yield cc(o.localStore,e,!1).then(()=>a(o,e,r)).catch(ns)})).apply(this,arguments)}function bp(d,e){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,b.Z)(function*(d,e){const r=rt(d),o=e.batch.batchId;try{const p=yield function Ds(d,e){const r=rt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const p=e.batch.keys(),y=r.os.newChangeBuffer({trackRemovals:!0});return function(L,$,ee,me){const Ae=ee.batch,Xe=Ae.keys();let xt=et.resolve();return Xe.forEach(dn=>{xt=xt.next(()=>me.getEntry($,dn)).next(Kt=>{const bn=ee.docVersions.get(dn);je(null!==bn),Kt.version.compareTo(bn)<0&&(Ae.applyToRemoteDocument(Kt,ee),Kt.isValidDocument()&&(Kt.setReadTime(ee.commitVersion),me.addEntry(Kt)))})}),xt.next(()=>L.mutationQueue.removeMutationBatch($,Ae))}(r,o,e,y).next(()=>y.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,p,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(L){let $=qr();for(let ee=0;ee<L.mutationResults.length;++ee)L.mutationResults[ee].transformResults.length>0&&($=$.add(L.batch.mutations[ee].key));return $}(e))).next(()=>r.localDocuments.getDocuments(o,p))})}(r.localStore,e);l(r,o,null),Gh(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield v(r,p)}catch(p){yield ns(p)}})).apply(this,arguments)}function Nf(d,e,r){return qd.apply(this,arguments)}function qd(){return(qd=(0,b.Z)(function*(d,e,r){const o=rt(d);try{const p=yield function(w,L){const $=rt(w);return $.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let me;return $.mutationQueue.lookupMutationBatch(ee,L).next(Ae=>(je(null!==Ae),me=Ae.keys(),$.mutationQueue.removeMutationBatch(ee,Ae))).next(()=>$.mutationQueue.performConsistencyCheck(ee)).next(()=>$.documentOverlayCache.removeOverlaysForBatchId(ee,me,L)).next(()=>$.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,me)).next(()=>$.localDocuments.getDocuments(ee,me))})}(o.localStore,e);l(o,e,r),Gh(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield v(o,p)}catch(p){yield ns(p)}})).apply(this,arguments)}function Gh(d,e){(d.Oa.get(e)||[]).forEach(r=>{r.resolve()}),d.Oa.delete(e)}function l(d,e,r){const o=rt(d);let p=o.xa[o.currentUser.toKey()];if(p){const y=p.get(e);y&&(r?y.reject(r):y.resolve(),p=p.remove(e)),o.xa[o.currentUser.toKey()]=p}}function a(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const o of d.Da.get(e))d.ba.delete(o),r&&d.Sa.ka(o,r);d.Da.delete(e),d.isPrimaryClient&&d.Ma.Vr(e).forEach(o=>{d.Ma.containsKey(o)||s(d,o)})}function s(d,e){d.Ca.delete(e.path.canonicalString());const r=d.va.get(e);null!==r&&(zc(d.remoteStore,r),d.va=d.va.remove(e),d.Fa.delete(r),g(d))}function u(d,e,r){for(const o of r)o instanceof k?(d.Ma.addReference(o.key,e),h(d,o)):o instanceof re?(Ke("SyncEngine","Document no longer in limbo: "+o.key),d.Ma.removeReference(o.key,e),d.Ma.containsKey(o.key)||s(d,o.key)):tt()}function h(d,e){const r=e.key,o=r.path.canonicalString();d.va.get(r)||d.Ca.has(o)||(Ke("SyncEngine","New document in limbo: "+r),d.Ca.add(o),g(d))}function g(d){for(;d.Ca.size>0&&d.va.size<d.maxConcurrentLimboResolutions;){const e=d.Ca.values().next().value;d.Ca.delete(e);const r=new jt(on.fromString(e)),o=d.Na.next();d.Fa.set(o,new kt(r)),d.va=d.va.insert(r,o),Iu(d.remoteStore,new Xi(Y(Pe(r.path)),o,"TargetPurposeLimboResolution",Ee.oe))}}function v(d,e,r){return I.apply(this,arguments)}function I(){return I=(0,b.Z)(function*(d,e,r){const o=rt(d),p=[],y=[],w=[];var L;o.ba.isEmpty()||(o.ba.forEach((L,$)=>{w.push(o.Ba($,e,r).then(ee=>{var me;if((ee||r)&&o.isPrimaryClient){const Ae=ee?!ee.fromCache:null===(me=r?.targetChanges.get($.targetId))||void 0===me?void 0:me.current;o.sharedClientState.updateQueryState($.targetId,Ae?"current":"not-current")}if(ee){p.push(ee);const Ae=Dh.Ki($.targetId,ee);y.push(Ae)}}))}),yield Promise.all(w),o.Sa.h_(p),yield(L=(0,b.Z)(function*(ee,me){const Ae=rt(ee);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Xe=>et.forEach(me,xt=>et.forEach(xt.qi,dn=>Ae.persistence.referenceDelegate.addReference(Xe,xt.targetId,dn)).next(()=>et.forEach(xt.Qi,dn=>Ae.persistence.referenceDelegate.removeReference(Xe,xt.targetId,dn)))))}catch(Xe){if(!Br(Xe))throw Xe;Ke("LocalStore","Failed to update sequence numbers: "+Xe)}for(const Xe of me){const xt=Xe.targetId;if(!Xe.fromCache){const dn=Ae.ns.get(xt),bn=dn.withLastLimboFreeSnapshotVersion(dn.snapshotVersion);Ae.ns=Ae.ns.insert(xt,bn)}}}),function $(ee,me){return L.apply(this,arguments)})(o.localStore,y))}),I.apply(this,arguments)}function S(d,e){return U.apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(d,e){const r=rt(d);if(!r.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const o=yield $u(r.localStore,e);r.currentUser=e,(y=r).Oa.forEach(L=>{L.forEach($=>{$.reject(new De(Ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield v(r,o.us)}var y})).apply(this,arguments)}function Z(d,e){const r=rt(d),o=r.Fa.get(e);if(o&&o.wa)return qr().add(o.key);{let p=qr();const y=r.Da.get(e);if(!y)return p;for(const w of y){const L=r.ba.get(w);p=p.unionWith(L.view.Ea)}return p}}function ui(d){const e=rt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=ad.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zh.bind(null,e),e.Sa.h_=Of.bind(null,e.eventManager),e.Sa.ka=rd.bind(null,e.eventManager),e}class Qo{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,b.Z)(function*(){r.serializer=Tu(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return function Hl(d,e,r,o){return new Dd(d,e,r,o)}(this.persistence,new Af,e.initialUser,this.serializer)}createPersistence(e){return new fu(Ha.Hr,this.serializer)}createSharedClientState(e){return new vu}terminate(){var e=this;return(0,b.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mo{initialize(e,r){var o=this;return(0,b.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=p=>Zc(o.syncEngine,p,1),o.remoteStore.remoteSyncer.handleCredentialChange=S.bind(null,o.syncEngine),yield Su(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new td}createDatastore(e){const r=Tu(e.databaseInfo.databaseId),o=new Eu(e.databaseInfo);return new Pf(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,p=this.datastore,y=e.asyncQueue,w=r=>Zc(this.syncEngine,r,0),L=bu.D()?new bu:new Sf,new _p(o,p,y,w,L);var o,p,y,w,L}createSyncEngine(e,r){return function(p,y,w,L,$,ee,me){const Ae=new un(p,y,w,L,$,ee);return me&&(Ae.La=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,b.Z)(function*(){var r,o;yield(o=(0,b.Z)(function*(y){const w=rt(y);Ke("RemoteStore","RemoteStore shutting down."),w.M_.add(5),yield jc(w),w.O_.shutdown(),w.N_.set("Unknown")}),function p(y){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}class yc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class xa{constructor(e,r,o,p){var y=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=p,this.user=ut.UNAUTHENTICATED,this.clientId=Zt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var w=(0,b.Z)(function*(L){Ke("FirestoreClient","Received user=",L.uid),yield y.authCredentialListener(L),y.user=L});return function(L){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(o,w=>(Ke("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,b.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const p=ss(o,"Failed to shutdown persistence");r.reject(p)}})),r.promise}}function tl(d,e){return vc.apply(this,arguments)}function vc(){return vc=(0,b.Z)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let o=r.initialUser;d.setCredentialChangeListener(function(){var p=(0,b.Z)(function*(y){o.isEqual(y)||(yield $u(e.localStore,y),o=y)});return function(y){return p.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),vc.apply(this,arguments)}function pg(d,e){return gg.apply(this,arguments)}function gg(){return(gg=(0,b.Z)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield function mg(d){return _g.apply(this,arguments)}(d);Ke("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(o=>Vd(e.remoteStore,o)),d.setAppCheckTokenChangeListener((o,p)=>Vd(e.remoteStore,p)),d._onlineComponents=e})).apply(this,arguments)}function _g(){return(_g=(0,b.Z)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tl(d,d._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function ym(d){return"FirebaseError"===d.name?d.code===Ye.FAILED_PRECONDITION||d.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code}(r))throw r;Qn("Error using user provided cache. Falling back to memory cache: "+r),yield tl(d,new Qo)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield tl(d,new Qo);return d._offlineComponents})).apply(this,arguments)}function Ff(d){return yg.apply(this,arguments)}function yg(){return(yg=(0,b.Z)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield pg(d,d._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield pg(d,new mo))),d._onlineComponents})).apply(this,arguments)}function Yc(d){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,b.Z)(function*(d){const e=yield Ff(d),r=e.eventManager;return r.onListen=or.bind(null,e.syncEngine),r.onUnlisten=Hh.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Si.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=od.bind(null,e.syncEngine),r})).apply(this,arguments)}function wm(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const bg=new Map;function Kh(d,e,r){if(!r)throw new De(Ye.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function Ip(d){if(!jt.isDocumentKey(d))throw new De(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Am(d){if(jt.isDocumentKey(d))throw new De(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function Qc(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(o=d).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof d?"a function":tt()}function $i(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new De(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qc(d);throw new De(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}class wp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new De(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Cm(d,e,r,o){if(!0===e&&!0===o)throw new De(Ye.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new De(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new De(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new De(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,r,o,p){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new $e;switch(o.type){case"firstParty":return new He(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new De(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=bg.get(r);o&&(Ke("ComponentProvider","Removing Datastore"),bg.delete(r),o.terminate())}(this),Promise.resolve()}}class Pa{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class zo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zo(this.firestore,e,this._key)}}class Jc extends Pa{constructor(e,r,o){super(e,r,Pe(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zo(this.firestore,null,new jt(e))}withConverter(e){return new Jc(this.firestore,e,this._path)}}function Sm(d,e,...r){if(d=(0,A.m9)(d),Kh("collection","path",e),d instanceof Yh){const o=on.fromString(e,...r);return Am(o),new Jc(d,null,o)}{if(!(d instanceof zo||d instanceof Jc))throw new De(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(on.fromString(e,...r));return Am(o),new Jc(d.firestore,null,o)}}function ny(d,e,...r){if(d=(0,A.m9)(d),1===arguments.length&&(e=Zt.newId()),Kh("doc","path",e),d instanceof Yh){const o=on.fromString(e,...r);return Ip(o),new zo(d,null,new jt(o))}{if(!(d instanceof zo||d instanceof Jc))throw new De(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(on.fromString(e,...r));return Ip(o),new zo(d.firestore,d instanceof Jc?d.converter:null,new jt(o))}}class xm{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new hc(this,"async_queue_retry"),this.hu=()=>{const r=Ku();r&&Ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=Ku();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=Ku();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new ft;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,b.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Br(r))throw r;Ke("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,ln("INTERNAL UNHANDLED ERROR: ",function(w){let L=w.message||"";return w.stack&&(L=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),L}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const p=Bd.createAndSchedule(this,e,r,o,y=>this.Eu(y));return this._u.push(p),p}Pu(){this.au&&tt()}verifyOperationInProgress(){}du(){var e=this;return(0,b.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Ap(d){return function(r,o){if("object"!=typeof r||null===r)return!1;const p=r;for(const y of["next","error","complete"])if(y in p&&"function"==typeof p[y])return!0;return!1}(d)}class Hs extends Yh{constructor(e,r,o,p){super(e,r,o,p),this.type="firestore",this._queue=new xm,this._persistenceKey=p?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iy(this),this._firestoreClient.terminate()}}function Rm(d,e){const r="object"==typeof d?d:(0,_e.Mq)(),o="string"==typeof d?d:e||"(default)",p=(0,_e.qX)(r,"firestore").getImmediate({identifier:o});if(!p._initialized){const y=(0,A.P0)("firestore");y&&function ty(d,e,r,o={}){var p;const y=(d=$i(d,Yh))._getSettings(),w=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==w&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:w,ssl:!1})),o.mockUserToken){let L,$;if("string"==typeof o.mockUserToken)L=o.mockUserToken,$=ut.MOCK_USER;else{L=(0,A.Sg)(o.mockUserToken,null===(p=d._app)||void 0===p?void 0:p.options.projectId);const ee=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ee)throw new De(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new ut(ee)}d._authCredentials=new Ce(new It(L,$))}}(p,...y)}return p}function io(d){return d._firestoreClient||iy(d),d._firestoreClient.verifyNotTerminated(),d._firestoreClient}function iy(d){var e,r,o;const p=d._freezeSettings(),y=($=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new yo(d._databaseId,$,d._persistenceKey,(me=p).host,me.ssl,me.experimentalForceLongPolling,me.experimentalAutoDetectLongPolling,wm(me.experimentalLongPollingOptions),me.useFetchStreams));var $,me;d._firestoreClient=new xa(d._authCredentials,d._appCheckCredentials,d._queue,y),null!==(r=p.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=p.localCache)&&void 0!==o&&o._onlineComponentProvider&&(d._firestoreClient._uninitializedComponentsProvider={_offlineKind:p.localCache.kind,_offline:p.localCache._offlineComponentProvider,_online:p.localCache._onlineComponentProvider})}class Yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yl($r.fromBase64String(e))}catch(r){throw new De(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Yl($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new De(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ig{constructor(e){this._methodName=e}}class xp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new De(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new De(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}}const Xh=/^__.*__$/;class ay{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new li(e,this.data,this.fieldMask,r,this.fieldTransforms):new Kn(e,this.data,r,this.fieldTransforms)}}class Nm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new li(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function km(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class ef{constructor(e,r,o,p,y,w){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=p,void 0===y&&this.mu(),this.fieldTransforms=y||[],this.fieldMask=w||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),p=this.gu({path:o,yu:!1});return p.wu(e),p}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),p=this.gu({path:o,yu:!1});return p.mu(),p}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Pu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(km(this.fu)&&Xh.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Fm{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Tu(e)}Fu(e,r,o,p=!1){return new ef({fu:e,methodName:r,vu:o,path:Fr.emptyPath(),yu:!1,Cu:p},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(d){const e=d._freezeSettings(),r=Tu(d._databaseId);return new Fm(d._databaseId,!!e.ignoreUndefinedProperties,r)}function Pp(d,e,r,o,p,y={}){const w=d.Fu(y.merge||y.mergeFields?2:0,e,r,p);Vf("Data must be an object, but it was:",w,o);const L=Rp(o,w);let $,ee;if(y.merge)$=new Ti(w.fieldMask),ee=w.fieldTransforms;else if(y.mergeFields){const me=[];for(const Ae of y.mergeFields){const Xe=Yd(e,Ae,r);if(!w.contains(Xe))throw new De(Ye.INVALID_ARGUMENT,`Field '${Xe}' is specified in your field mask but missing from your input data.`);Mp(me,Xe)||me.push(Xe)}$=new Ti(me),ee=w.fieldTransforms.filter(Ae=>$.covers(Ae.field))}else $=null,ee=w.fieldTransforms;return new ay(new nr(L),$,ee)}class Zd extends Ig{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function xu(d,e){if(Kd(d=(0,A.m9)(d)))return Vf("Unsupported field value:",e,d),Rp(d,e);if(d instanceof Ig)return function(o,p){if(!km(p.fu))throw p.Du(`${o._methodName}() can only be used with update() and set()`);if(!p.path)throw p.Du(`${o._methodName}() is not currently supported inside arrays`);const y=o._toFieldTransform(p);y&&p.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,p){const y=[];let w=0;for(const L of o){let $=xu(L,p.bu(w));null==$&&($={nullValue:"NULL_VALUE"}),y.push($),w++}return{arrayValue:{values:y}}}(d,e)}return function(o,p){if(null===(o=(0,A.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return nl(p.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const y=Rn.fromDate(o);return{timestampValue:Nn(p.serializer,y)}}if(o instanceof Rn){const y=new Rn(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Nn(p.serializer,y)}}if(o instanceof xp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Yl)return{bytesValue:Fn(p.serializer,o._byteString)};if(o instanceof zo){const y=p.databaseId,w=o.firestore._databaseId;if(!w.isEqual(y))throw p.Du(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:rr(o.firestore._databaseId||p.databaseId,o._key.path)}}throw p.Du(`Unsupported field value: ${Qc(o)}`)}(d,e)}function Rp(d,e){const r={};return Wn(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rn(d,(o,p)=>{const y=xu(p,e.pu(o));null!=y&&(r[o]=y)}),{mapValue:{fields:r}}}function Kd(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Rn||d instanceof xp||d instanceof Yl||d instanceof zo||d instanceof Ig)}function Vf(d,e,r){if(!Kd(r)||"object"!=typeof(p=r)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){const o=Qc(r);throw e.Du("an object"===o?d+" a custom object":d+" "+o)}var p}function Yd(d,e,r){if((e=(0,A.m9)(e))instanceof dd)return e._internalPath;if("string"==typeof e)return Qd(d,e);throw Pu("Field path arguments must be of type string or ",d,!1,void 0,r)}const Uf=new RegExp("[~\\*/\\[\\]]");function Qd(d,e,r){if(e.search(Uf)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new dd(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function Pu(d,e,r,o,p){const y=o&&!o.isEmpty(),w=void 0!==p;let L=`Function ${e}() called with invalid data`;r&&(L+=" (via `toFirestore()`)"),L+=". ";let $="";return(y||w)&&($+=" (found",y&&($+=` in field ${o}`),w&&($+=` in document ${p}`),$+=")"),new De(Ye.INVALID_ARGUMENT,L+d+$)}function Mp(d,e){return d.some(r=>r.isEqual(e))}class Bf{constructor(e,r,o,p,y){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=p,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Op(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Op extends Bf{data(){return super.data()}}function Dg(d,e){return"string"==typeof e?Qd(d,e):e instanceof dd?e._internalPath:e._delegate._internalPath}class Jd{}class uy extends Jd{}function Um(d,e,...r){let o=[];e instanceof Jd&&o.push(e),o=o.concat(r),function(y){const w=y.filter($=>$ instanceof hd).length,L=y.filter($=>$ instanceof jf).length;if(w>1||w>0&&L>0)throw new De(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const p of o)d=p._apply(d);return d}class jf extends uy{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new jf(e,r,o)}_apply(e){const r=this._parse(e);return zm(e._query,r),new Pa(e.firestore,e.converter,Oe(e._query,r))}_parse(e){const r=tf(e.firestore);return function(y,w,L,$,ee,me,Ae){let Xe;if(ee.isKeyField()){if("array-contains"===me||"array-contains-any"===me)throw new De(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${me}' queries on documentId().`);if("in"===me||"not-in"===me){gy(Ae,me);const xt=[];for(const dn of Ae)xt.push(Pg($,y,dn));Xe={arrayValue:{values:xt}}}else Xe=Pg($,y,Ae)}else"in"!==me&&"not-in"!==me&&"array-contains-any"!==me||gy(Ae,me),Xe=function Vm(d,e,r,o=!1){return xu(r,d.Fu(o?4:3,e))}(L,"where",Ae,"in"===me||"not-in"===me);return En.create(ee,me,Xe)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function dy(d,e,r){const o=e,p=Dg("where",d);return jf._create(p,o,r)}class hd extends Jd{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new hd(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Hr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(p,y){let w=p;const L=y.getFlattenedFilters();for(const $ of L)zm(w,$),w=Oe(w,$)}(e._query,r),new Pa(e.firestore,e.converter,Oe(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Pg(d,e,r){if("string"==typeof(r=(0,A.m9)(r))){if(""===r)throw new De(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gt(e)&&-1!==r.indexOf("/"))throw new De(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(on.fromString(r));if(!jt.isDocumentKey(o))throw new De(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Nr(d,new jt(o))}if(r instanceof zo)return Nr(d,r._key);throw new De(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(r)}.`)}function gy(d,e){if(!Array.isArray(d)||0===d.length)throw new De(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zm(d,e){const r=function(p,y){for(const w of p)for(const L of w.getFlattenedFilters())if(y.indexOf(L.op)>=0)return L.op;return null}(d.filters,function(p){switch(p){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new De(Ye.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class my{convertValue(e,r="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return rn(e,(p,y)=>{o[p]=this.convertValue(y,r)}),o}convertGeoPoint(e){return new xp(ti(e.latitude),ti(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=_o(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(zs(e));default:return null}}convertTimestamp(e){const r=rs(e);return new Rn(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=on.fromString(e);je(Zs(o));const p=new Xs(o.get(1),o.get(3)),y=new jt(o.popFirst(5));return p.isEqual(r)||ln(`Document ${y} contains a document reference within a different database (${p.projectId}/${p.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function fd(d,e,r){let o;return o=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,o}class pd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eh extends Bf{constructor(e,r,o,p,y,w){super(e,r,o,p,w),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class rf extends eh{data(e={}){return super.data(e)}}class Hf{constructor(e,r,o,p){this._firestore=e,this._userDataWriter=r,this._snapshot=p,this.metadata=new pd(p.hasPendingWrites,p.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new rf(this._firestore,this._userDataWriter,o.key,o,new pd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new De(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(p,y){if(p._snapshot.oldDocs.isEmpty()){let w=0;return p._snapshot.docChanges.map(L=>({type:"added",doc:new rf(p._firestore,p._userDataWriter,L.doc.key,L.doc,new pd(p._snapshot.mutatedKeys.has(L.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:w++}))}{let w=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(L=>y||3!==L.type).map(L=>{const $=new rf(p._firestore,p._userDataWriter,L.doc.key,L.doc,new pd(p._snapshot.mutatedKeys.has(L.doc.key),p._snapshot.fromCache),p.query.converter);let ee=-1,me=-1;return 0!==L.type&&(ee=w.indexOf(L.doc.key),w=w.delete(L.doc.key)),1!==L.type&&(w=w.add(L.doc),me=w.indexOf(L.doc.key)),{type:Rg(L.type),doc:$,oldIndex:ee,newIndex:me}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Rg(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function by(d){d=$i(d,zo);const e=$i(d.firestore,Hs);return function Q_(d,e,r={}){const o=new ft;return d.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function(y,w,L,$,ee){const me=new yc({next:Xe=>{w.enqueueAndForget(()=>Bh(y,Ae));const xt=Xe.docs.has(L);!xt&&Xe.fromCache?ee.reject(new De(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&Xe.fromCache&&$&&"server"===$.source?ee.reject(new De(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(Xe)},error:Xe=>ee.reject(Xe)}),Ae=new zd(Pe(L.path),me,{includeMetadataChanges:!0,ra:!0});return jd(y,Ae)}(yield Yc(d),d.asyncQueue,e,r,o)})),o.promise}(io(e),d._key).then(r=>eu(e,d,r))}class gd extends my{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zo(this.firestore,null,r)}}function pb(d,e,r){d=$i(d,zo);const o=$i(d.firestore,Hs),p=fd(d.converter,e,r);return th(o,[Pp(tf(o),"setDoc",d._key,p,null!==d.converter,r).toMutation(d._key,ds.none())])}function $m(d,e,r,...o){d=$i(d,zo);const p=$i(d.firestore,Hs),y=tf(p);let w;return w="string"==typeof(e=(0,A.m9)(e))||e instanceof dd?function Lf(d,e,r,o,p,y){const w=d.Fu(1,e,r),L=[Yd(e,o,r)],$=[p];if(y.length%2!=0)throw new De(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xe=0;Xe<y.length;Xe+=2)L.push(Yd(e,y[Xe])),$.push(y[Xe+1]);const ee=[],me=nr.empty();for(let Xe=L.length-1;Xe>=0;--Xe)if(!Mp(ee,L[Xe])){const xt=L[Xe];let dn=$[Xe];dn=(0,A.m9)(dn);const Kt=w.Su(xt);if(dn instanceof Zd)ee.push(xt);else{const bn=xu(dn,Kt);null!=bn&&(ee.push(xt),me.set(xt,bn))}}const Ae=new Ti(ee);return new Nm(me,Ae,w.fieldTransforms)}(y,"updateDoc",d._key,e,r,o):function cy(d,e,r,o){const p=d.Fu(1,e,r);Vf("Data must be an object, but it was:",p,o);const y=[],w=nr.empty();rn(o,($,ee)=>{const me=Qd(e,$,r);ee=(0,A.m9)(ee);const Ae=p.Su(me);if(ee instanceof Zd)y.push(me);else{const Xe=xu(ee,Ae);null!=Xe&&(y.push(me),w.set(me,Xe))}});const L=new Ti(y);return new Nm(w,L,p.fieldTransforms)}(y,"updateDoc",d._key,e),th(p,[w.toMutation(d._key,ds.exists(!0))])}function bc(d,e){const r=$i(d.firestore,Hs),o=ny(d),p=fd(d.converter,e);return th(r,[Pp(tf(d.firestore),"addDoc",o._key,p,null!==d.converter,{}).toMutation(o._key,ds.exists(!1))]).then(()=>o)}function Gm(d,...e){var r,o,p;d=(0,A.m9)(d);let y={includeMetadataChanges:!1,source:"default"},w=0;"object"!=typeof e[w]||Ap(e[w])||(y=e[w],w++);const L={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(Ap(e[w])){const Ae=e[w];e[w]=null===(r=Ae.next)||void 0===r?void 0:r.bind(Ae),e[w+1]=null===(o=Ae.error)||void 0===o?void 0:o.bind(Ae),e[w+2]=null===(p=Ae.complete)||void 0===p?void 0:p.bind(Ae)}let $,ee,me;if(d instanceof zo)ee=$i(d.firestore,Hs),me=Pe(d._key.path),$={next:Ae=>{e[w]&&e[w](eu(ee,d,Ae))},error:e[w+1],complete:e[w+2]};else{const Ae=$i(d,Pa);ee=$i(Ae.firestore,Hs),me=Ae._query;const Xe=new gd(ee);$={next:xt=>{e[w]&&e[w](new Hf(ee,Xe,Ae,xt))},error:e[w+1],complete:e[w+2]},function Np(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new De(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(d._query)}return function(Xe,xt,dn,Kt){const bn=new yc(Kt),Tr=new zd(xt,bn,dn);return Xe.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return jd(yield Yc(Xe),Tr)})),()=>{bn.$a(),Xe.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return Bh(yield Yc(Xe),Tr)}))}}(io(ee),me,L,$)}function th(d,e){return function(o,p){const y=new ft;return o.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function Ho(d,e,r){return Zl.apply(this,arguments)}(yield function Zh(d){return Ff(d).then(e=>e.syncEngine)}(o),p,y)})),y.promise}(io(d),e)}function eu(d,e,r){const o=r.docs.get(e._key),p=new gd(d);return new eh(d,p,e._key,o,new pd(r.hasPendingWrites,r.fromCache),e.converter)}!function(e,r=!0){Ct=_e.Jn,(0,_e.Xd)(new Fe.wA("firestore",(o,{instanceIdentifier:p,options:y})=>{const w=o.getProvider("app").getImmediate(),L=new Hs(new ve(o.getProvider("auth-internal")),new bt(o.getProvider("app-check-internal")),function(ee,me){if(!Object.prototype.hasOwnProperty.apply(ee.options,["projectId"]))throw new De(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(ee.options.projectId,me)}(w,p),w);return y=Object.assign({useFetchStreams:r},y),L._setSettings(y),L},"PUBLIC").setMultipleInstances(!0)),(0,_e.KN)(We,"4.6.4",e),(0,_e.KN)(We,"4.6.4","esm2017")}()},2425:(Xn,Lt,ne)=>{ne.d(Lt,{Rh:()=>rt,_W:()=>kn});var b=ne(4946),_e=ne(6825),Fe=ne(6814),O=ne(8645),A=ne(6593);const Ze=["toast-component",""];function Le($e,Ce){if(1&$e){const ve=b.EpF();b.TgZ(0,"button",5),b.NdJ("click",function(){b.CHM(ve);const He=b.oxw();return b.KtG(He.remove())}),b.TgZ(1,"span",6),b._uU(2,"\xd7"),b.qZA()()}}function ht($e,Ce){if(1&$e&&(b.ynx(0),b._uU(1),b.BQk()),2&$e){const ve=b.oxw(2);b.xp6(1),b.hij("[",ve.duplicatesCount+1,"]")}}function vt($e,Ce){if(1&$e&&(b.TgZ(0,"div"),b._uU(1),b.YNc(2,ht,2,1,"ng-container",4),b.qZA()),2&$e){const ve=b.oxw();b.Tol(ve.options.titleClass),b.uIk("aria-label",ve.title),b.xp6(1),b.hij(" ",ve.title," "),b.xp6(1),b.Q6J("ngIf",ve.duplicatesCount)}}function Ve($e,Ce){if(1&$e&&b._UZ(0,"div",7),2&$e){const ve=b.oxw();b.Tol(ve.options.messageClass),b.Q6J("innerHTML",ve.message,b.oJD)}}function ke($e,Ce){if(1&$e&&(b.TgZ(0,"div",8),b._uU(1),b.qZA()),2&$e){const ve=b.oxw();b.Tol(ve.options.messageClass),b.uIk("aria-label",ve.message),b.xp6(1),b.hij(" ",ve.message," ")}}function _t($e,Ce){if(1&$e&&(b.TgZ(0,"div"),b._UZ(1,"div",9),b.qZA()),2&$e){const ve=b.oxw();b.xp6(1),b.Udp("width",ve.width+"%")}}class nn{_attachedHost;component;viewContainerRef;injector;constructor(Ce,ve){this.component=Ce,this.injector=ve}attach(Ce,ve){return this._attachedHost=Ce,Ce.attach(this,ve)}detach(){const Ce=this._attachedHost;if(Ce)return this._attachedHost=void 0,Ce.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ce){this._attachedHost=Ce}}class We{_attachedPortal;_disposeFn;attach(Ce,ve){return this._attachedPortal=Ce,this.attachComponentPortal(Ce,ve)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ce){this._disposeFn=Ce}}class ut{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new O.x;_activate=new O.x;_manualClose=new O.x;_resetTimeout=new O.x;_countDuplicate=new O.x;constructor(Ce){this._overlayRef=Ce}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ce,ve){Ce&&this._resetTimeout.next(),ve&&this._countDuplicate.next(++this.duplicatesCount)}}class Ct{toastId;config;message;title;toastType;toastRef;_onTap=new O.x;_onAction=new O.x;constructor(Ce,ve,pe,He,pt,bt){this.toastId=Ce,this.config=ve,this.message=pe,this.title=He,this.toastType=pt,this.toastRef=bt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ce){this._onAction.next(Ce)}onAction(){return this._onAction.asObservable()}}const Yt=new b.OlP("ToastConfig");class zt extends We{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Ce,ve,pe){super(),this._hostDomElement=Ce,this._componentFactoryResolver=ve,this._appRef=pe}attachComponentPortal(Ce,ve){const pe=this._componentFactoryResolver.resolveComponentFactory(Ce.component);let He;return He=pe.create(Ce.injector),this._appRef.attachView(He.hostView),this.setDisposeFn(()=>{this._appRef.detachView(He.hostView),He.destroy()}),ve?this._hostDomElement.insertBefore(this._getComponentRootNode(He),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(He)),He}_getComponentRootNode(Ce){return Ce.hostView.rootNodes[0]}}let Ke=(()=>{class $e{_document=(0,b.f3M)(Fe.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ve=this._document.createElement("div");ve.classList.add("overlay-container"),ve.setAttribute("aria-live","polite"),this._document.body.appendChild(ve),this._containerElement=ve}static \u0275fac=function(pe){return new(pe||$e)};static \u0275prov=b.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})();class ln{_portalHost;constructor(Ce){this._portalHost=Ce}attach(Ce,ve=!0){return this._portalHost.attach(Ce,ve)}detach(){return this._portalHost.detach()}}let Qn=(()=>{class $e{_overlayContainer=(0,b.f3M)(Ke);_componentFactoryResolver=(0,b.f3M)(b._Vd);_appRef=(0,b.f3M)(b.z2F);_document=(0,b.f3M)(Fe.K0);_paneElements=new Map;create(ve,pe){return this._createOverlayRef(this.getPaneElement(ve,pe))}getPaneElement(ve="",pe){return this._paneElements.get(pe)||this._paneElements.set(pe,{}),this._paneElements.get(pe)[ve]||(this._paneElements.get(pe)[ve]=this._createPaneElement(ve,pe)),this._paneElements.get(pe)[ve]}_createPaneElement(ve,pe){const He=this._document.createElement("div");return He.id="toast-container",He.classList.add(ve),He.classList.add("toast-container"),pe?pe.getContainerElement().appendChild(He):this._overlayContainer.getContainerElement().appendChild(He),He}_createPortalHost(ve){return new zt(ve,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ve){return new ln(this._createPortalHost(ve))}static \u0275fac=function(pe){return new(pe||$e)};static \u0275prov=b.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),kn=(()=>{class $e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(ve,pe,He,pt,bt){this.overlay=pe,this._injector=He,this.sanitizer=pt,this.ngZone=bt,this.toastrConfig={...ve.default,...ve.config},ve.config.iconClasses&&(this.toastrConfig.iconClasses={...ve.default.iconClasses,...ve.config.iconClasses})}show(ve,pe,He={},pt=""){return this._preBuildNotification(pt,ve,pe,this.applyConfig(He))}success(ve,pe,He={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ve,pe,this.applyConfig(He))}error(ve,pe,He={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ve,pe,this.applyConfig(He))}info(ve,pe,He={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ve,pe,this.applyConfig(He))}warning(ve,pe,He={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ve,pe,this.applyConfig(He))}clear(ve){for(const pe of this.toasts)if(void 0!==ve){if(pe.toastId===ve)return void pe.toastRef.manualClose()}else pe.toastRef.manualClose()}remove(ve){const pe=this._findToast(ve);if(!pe||(pe.activeToast.toastRef.close(),this.toasts.splice(pe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const He=this.toasts[this.currentlyActive].toastRef;He.isInactive()||(this.currentlyActive=this.currentlyActive+1,He.activate())}return!0}findDuplicate(ve="",pe="",He,pt){const{includeTitleDuplicates:bt}=this.toastrConfig;for(const Cn of this.toasts)if((!bt||bt&&Cn.title===ve)&&Cn.message===pe)return Cn.toastRef.onDuplicate(He,pt),Cn;return null}applyConfig(ve={}){return{...this.toastrConfig,...ve}}_findToast(ve){for(let pe=0;pe<this.toasts.length;pe++)if(this.toasts[pe].toastId===ve)return{index:pe,activeToast:this.toasts[pe]};return null}_preBuildNotification(ve,pe,He,pt){return pt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ve,pe,He,pt)):this._buildNotification(ve,pe,He,pt)}_buildNotification(ve,pe,He,pt){if(!pt.toastComponent)throw new Error("toastComponent required");const bt=this.findDuplicate(He,pe,this.toastrConfig.resetTimeoutOnDuplicate&&pt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&He||pe)&&this.toastrConfig.preventDuplicates&&null!==bt)return bt;this.previousToastMessage=pe;let Cn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Cn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Er=this.overlay.create(pt.positionClass,this.overlayContainer);this.index=this.index+1;let Zt=pe;pe&&pt.enableHtml&&(Zt=this.sanitizer.sanitize(b.q3G.HTML,pe));const pn=new ut(Er),qn=new Ct(this.index,pt,Zt,He,ve,pn),Rn=b.zs3.create({providers:[{provide:Ct,useValue:qn}],parent:this._injector}),en=new nn(pt.toastComponent,Rn),An=Er.attach(en,pt.newestOnTop);pn.componentInstance=An.instance;const on={toastId:this.index,title:He||"",message:pe||"",toastRef:pn,onShown:pn.afterActivate(),onHidden:pn.afterClosed(),onTap:qn.onTap(),onAction:qn.onAction(),portal:An};return Cn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{on.toastRef.activate()})),this.toasts.push(on),on}static \u0275fac=function(pe){return new(pe||$e)(b.LFG(Yt),b.LFG(Qn),b.LFG(b.zs3),b.LFG(A.H7),b.LFG(b.R0b))};static \u0275prov=b.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})();const je={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class $e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(ve,pe,He){this.toastrService=ve,this.toastPackage=pe,this.ngZone=He,this.message=pe.message,this.title=pe.title,this.options=pe.config,this.originalTimeout=pe.config.timeOut,this.toastClasses=`${pe.toastType} ${pe.config.toastClass}`,this.sub=pe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pe.toastRef.countDuplicate().subscribe(pt=>{this.duplicatesCount=pt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ve=(new Date).getTime();this.width=(this.hideTime-ve)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ve,pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ve),pe)):this.timeout=setTimeout(()=>ve(),pe)}outsideInterval(ve,pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ve),pe)):this.intervalId=setInterval(()=>ve(),pe)}runInsideAngular(ve){this.ngZone?this.ngZone.run(()=>ve()):ve()}static \u0275fac=function(pe){return new(pe||$e)(b.Y36(kn),b.Y36(Ct),b.Y36(b.R0b))};static \u0275cmp=b.Xpm({type:$e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pe,He){1&pe&&b.NdJ("click",function(){return He.tapToast()})("mouseenter",function(){return He.stickAround()})("mouseleave",function(){return He.delayedHideToast()}),2&pe&&(b.d8E("@flyInOut",He.state),b.Tol(He.toastClasses),b.Udp("display",He.displayStyle))},standalone:!0,features:[b.jDz],attrs:Ze,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pe,He){1&pe&&(b.YNc(0,Le,3,0,"button",0),b.YNc(1,vt,3,5,"div",1),b.YNc(2,Ve,1,3,"div",2),b.YNc(3,ke,2,4,"div",3),b.YNc(4,_t,2,2,"div",4)),2&pe&&(b.Q6J("ngIf",He.options.closeButton),b.xp6(1),b.Q6J("ngIf",He.title),b.xp6(1),b.Q6J("ngIf",He.message&&He.options.enableHtml),b.xp6(1),b.Q6J("ngIf",He.message&&!He.options.enableHtml),b.xp6(1),b.Q6J("ngIf",He.options.progressBar))},dependencies:[Fe.O5],encapsulation:2,data:{animation:[(0,_e.X$)("flyInOut",[(0,_e.SB)("inactive",(0,_e.oB)({opacity:0})),(0,_e.SB)("active",(0,_e.oB)({opacity:1})),(0,_e.SB)("removed",(0,_e.oB)({opacity:0})),(0,_e.eR)("inactive => active",(0,_e.jt)("{{ easeTime }}ms {{ easing }}")),(0,_e.eR)("active => removed",(0,_e.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return $e})()},Pn=($e={})=>(0,b.MR2)([{provide:Yt,useValue:{default:je,config:$e}}]);let rt=(()=>{class $e{static forRoot(ve={}){return{ngModule:$e,providers:[Pn(ve)]}}static \u0275fac=function(pe){return new(pe||$e)};static \u0275mod=b.oAB({type:$e});static \u0275inj=b.cJS({})}return $e})()},5861:(Xn,Lt,ne)=>{function b(Fe,O,A,Ze,Le,ht,vt){try{var Ve=Fe[ht](vt),ke=Ve.value}catch(_t){return void A(_t)}Ve.done?O(ke):Promise.resolve(ke).then(Ze,Le)}function _e(Fe){return function(){var O=this,A=arguments;return new Promise(function(Ze,Le){var ht=Fe.apply(O,A);function vt(ke){b(ht,Ze,Le,vt,Ve,"next",ke)}function Ve(ke){b(ht,Ze,Le,vt,Ve,"throw",ke)}vt(void 0)})}}ne.d(Lt,{Z:()=>_e})},7582:(Xn,Lt,ne)=>{function O(De,ft){var It={};for(var $e in De)Object.prototype.hasOwnProperty.call(De,$e)&&ft.indexOf($e)<0&&(It[$e]=De[$e]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for($e=Object.getOwnPropertySymbols(De);Ce<$e.length;Ce++)ft.indexOf($e[Ce])<0&&Object.prototype.propertyIsEnumerable.call(De,$e[Ce])&&(It[$e[Ce]]=De[$e[Ce]])}return It}function _t(De,ft,It,$e){return new(It||(It=Promise))(function(ve,pe){function He(Cn){try{bt($e.next(Cn))}catch(Er){pe(Er)}}function pt(Cn){try{bt($e.throw(Cn))}catch(Er){pe(Er)}}function bt(Cn){Cn.done?ve(Cn.value):function Ce(ve){return ve instanceof It?ve:new It(function(pe){pe(ve)})}(Cn.value).then(He,pt)}bt(($e=$e.apply(De,ft||[])).next())})}function We(De){return this instanceof We?(this.v=De,this):new We(De)}function ut(De,ft,It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,$e=It.apply(De,ft||[]),ve=[];return Ce={},pe("next"),pe("throw"),pe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function pe(Zt){$e[Zt]&&(Ce[Zt]=function(pn){return new Promise(function(qn,$n){ve.push([Zt,pn,qn,$n])>1||He(Zt,pn)})})}function He(Zt,pn){try{!function pt(Zt){Zt.value instanceof We?Promise.resolve(Zt.value.v).then(bt,Cn):Er(ve[0][2],Zt)}($e[Zt](pn))}catch(qn){Er(ve[0][3],qn)}}function bt(Zt){He("next",Zt)}function Cn(Zt){He("throw",Zt)}function Er(Zt,pn){Zt(pn),ve.shift(),ve.length&&He(ve[0][0],ve[0][1])}}function Ot(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,ft=De[Symbol.asyncIterator];return ft?ft.call(De):(De=function Ut(De){var ft="function"==typeof Symbol&&Symbol.iterator,It=ft&&De[ft],$e=0;if(It)return It.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&$e>=De.length&&(De=void 0),{value:De&&De[$e++],done:!De}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),It={},$e("next"),$e("throw"),$e("return"),It[Symbol.asyncIterator]=function(){return this},It);function $e(ve){It[ve]=De[ve]&&function(pe){return new Promise(function(He,pt){!function Ce(ve,pe,He,pt){Promise.resolve(pt).then(function(bt){ve({value:bt,done:He})},pe)}(He,pt,(pe=De[ve](pe)).done,pe.value)})}}}ne.d(Lt,{FC:()=>ut,KL:()=>Ot,_T:()=>O,mG:()=>_t,qq:()=>We}),"function"==typeof SuppressedError&&SuppressedError}},Xn=>{Xn(Xn.s=2509)}]);